import{m as Fo,j as pn,l as Go,q as Vo,o as mn,c as gn,r as qo,d as dn,h as _n,g as Jo}from"./index.c2d02297.js";var Ko={exports:{}};(function(ne){(function(M,g,A){var N=M.L,s={};s.version="0.7.7",ne.exports=s,s.noConflict=function(){return M.L=N,this},M.L=s,s.Util={extend:function(e){var n=Array.prototype.slice.call(arguments,1),r,h,u,f;for(h=0,u=n.length;h<u;h++){f=n[h]||{};for(r in f)f.hasOwnProperty(r)&&(e[r]=f[r])}return e},bind:function(e,n){var r=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return e.apply(n,r||arguments)}},stamp:function(){var e=0,n="_leaflet_id";return function(r){return r[n]=r[n]||++e,r[n]}}(),invokeEach:function(e,n,r){var h,u;if(typeof e=="object"){u=Array.prototype.slice.call(arguments,3);for(h in e)n.apply(r,[h,e[h]].concat(u));return!0}return!1},limitExecByInterval:function(e,n,r){var h,u;return function f(){var _=arguments;if(h){u=!0;return}h=!0,setTimeout(function(){h=!1,u&&(f.apply(r,_),u=!1)},n),e.apply(r,_)}},falseFn:function(){return!1},formatNum:function(e,n){var r=Math.pow(10,n||5);return Math.round(e*r)/r},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},splitWords:function(e){return s.Util.trim(e).split(/\s+/)},setOptions:function(e,n){return e.options=s.extend({},e.options,n),e.options},getParamString:function(e,n,r){var h=[];for(var u in e)h.push(encodeURIComponent(r?u.toUpperCase():u)+"="+encodeURIComponent(e[u]));return(!n||n.indexOf("?")===-1?"?":"&")+h.join("&")},template:function(e,n){return e.replace(/\{ *([\w_]+) *\}/g,function(r,h){var u=n[h];if(u===A)throw new Error("No value provided for variable "+r);return typeof u=="function"&&(u=u(n)),u})},isArray:Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(f){var _,p,y=["webkit","moz","o","ms"];for(_=0;_<y.length&&!p;_++)p=M[y[_]+f];return p}var n=0;function r(f){var _=+new Date,p=Math.max(0,16-(_-n));return n=_+p,M.setTimeout(f,p)}var h=M.requestAnimationFrame||e("RequestAnimationFrame")||r,u=M.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(f){M.clearTimeout(f)};s.Util.requestAnimFrame=function(f,_,p,y){if(f=s.bind(f,_),p&&h===r)f();else return h.call(M,f,y)},s.Util.cancelAnimFrame=function(f){f&&u.call(M,f)}}(),s.extend=s.Util.extend,s.bind=s.Util.bind,s.stamp=s.Util.stamp,s.setOptions=s.Util.setOptions,s.Class=function(){},s.Class.extend=function(e){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},r=function(){};r.prototype=this.prototype;var h=new r;h.constructor=n,n.prototype=h;for(var u in this)this.hasOwnProperty(u)&&u!=="prototype"&&(n[u]=this[u]);e.statics&&(s.extend(n,e.statics),delete e.statics),e.includes&&(s.Util.extend.apply(null,[h].concat(e.includes)),delete e.includes),e.options&&h.options&&(e.options=s.extend({},h.options,e.options)),s.extend(h,e),h._initHooks=[];var f=this;return n.__super__=f.prototype,h.callInitHooks=function(){if(!this._initHooksCalled){f.prototype.callInitHooks&&f.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,p=h._initHooks.length;_<p;_++)h._initHooks[_].call(this)}},n},s.Class.include=function(e){s.extend(this.prototype,e)},s.Class.mergeOptions=function(e){s.extend(this.prototype.options,e)},s.Class.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),r=typeof e=="function"?e:function(){this[e].apply(this,n)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(r)};var B="_leaflet_events";s.Mixin={},s.Mixin.Events={addEventListener:function(e,n,r){if(s.Util.invokeEach(e,this.addEventListener,this,n,r))return this;var h=this[B]=this[B]||{},u=r&&r!==this&&s.stamp(r),f,_,p,y,P,b,C;for(e=s.Util.splitWords(e),f=0,_=e.length;f<_;f++)p={action:n,context:r||this},y=e[f],u?(P=y+"_idx",b=P+"_len",C=h[P]=h[P]||{},C[u]||(C[u]=[],h[b]=(h[b]||0)+1),C[u].push(p)):(h[y]=h[y]||[],h[y].push(p));return this},hasEventListeners:function(e){var n=this[B];return!!n&&(e in n&&n[e].length>0||e+"_idx"in n&&n[e+"_idx_len"]>0)},removeEventListener:function(e,n,r){if(!this[B])return this;if(!e)return this.clearAllEventListeners();if(s.Util.invokeEach(e,this.removeEventListener,this,n,r))return this;var h=this[B],u=r&&r!==this&&s.stamp(r),f,_,p,y,P,b,C,R,H;for(e=s.Util.splitWords(e),f=0,_=e.length;f<_;f++)if(p=e[f],b=p+"_idx",C=b+"_len",R=h[b],!n)delete h[p],delete h[b],delete h[C];else if(y=u&&R?R[u]:h[p],y){for(P=y.length-1;P>=0;P--)y[P].action===n&&(!r||y[P].context===r)&&(H=y.splice(P,1),H[0].action=s.Util.falseFn);r&&R&&y.length===0&&(delete R[u],h[C]--)}return this},clearAllEventListeners:function(){return delete this[B],this},fireEvent:function(e,n){if(!this.hasEventListeners(e))return this;var r=s.Util.extend({},n,{type:e,target:this}),h=this[B],u,f,_,p,y;if(h[e])for(u=h[e].slice(),f=0,_=u.length;f<_;f++)u[f].action.call(u[f].context,r);p=h[e+"_idx"];for(y in p)if(u=p[y].slice(),u)for(f=0,_=u.length;f<_;f++)u[f].action.call(u[f].context,r);return this},addOneTimeEventListener:function(e,n,r){if(s.Util.invokeEach(e,this.addOneTimeEventListener,this,n,r))return this;var h=s.bind(function(){this.removeEventListener(e,n,r).removeEventListener(e,h,r)},this);return this.addEventListener(e,n,r).addEventListener(e,h,r)}},s.Mixin.Events.on=s.Mixin.Events.addEventListener,s.Mixin.Events.off=s.Mixin.Events.removeEventListener,s.Mixin.Events.once=s.Mixin.Events.addOneTimeEventListener,s.Mixin.Events.fire=s.Mixin.Events.fireEvent,function(){var e="ActiveXObject"in M,n=e&&!g.addEventListener,r=navigator.userAgent.toLowerCase(),h=r.indexOf("webkit")!==-1,u=r.indexOf("chrome")!==-1,f=r.indexOf("phantom")!==-1,_=r.indexOf("android")!==-1,p=r.search("android [23]")!==-1,y=r.indexOf("gecko")!==-1,P=typeof orientation!=A+"",b=!M.PointerEvent&&M.MSPointerEvent,C=M.PointerEvent&&M.navigator.pointerEnabled||b,R="devicePixelRatio"in M&&M.devicePixelRatio>1||"matchMedia"in M&&M.matchMedia("(min-resolution:144dpi)")&&M.matchMedia("(min-resolution:144dpi)").matches,H=g.documentElement,Q=e&&"transition"in H.style,et="WebKitCSSMatrix"in M&&"m11"in new M.WebKitCSSMatrix&&!p,it="MozPerspective"in H.style,$="OTransition"in H.style,Pt=!M.L_DISABLE_3D&&(Q||et||it||$)&&!f,Y=!M.L_NO_TOUCH&&!f&&(C||"ontouchstart"in M||M.DocumentTouch&&g instanceof M.DocumentTouch);s.Browser={ie:e,ielt9:n,webkit:h,gecko:y&&!h&&!M.opera&&!e,android:_,android23:p,chrome:u,ie3d:Q,webkit3d:et,gecko3d:it,opera3d:$,any3d:Pt,mobile:P,mobileWebkit:P&&h,mobileWebkit3d:P&&et,mobileOpera:P&&M.opera,touch:Y,msPointer:b,pointer:C,retina:R}}(),s.Point=function(e,n,r){this.x=r?Math.round(e):e,this.y=r?Math.round(n):n},s.Point.prototype={clone:function(){return new s.Point(this.x,this.y)},add:function(e){return this.clone()._add(s.point(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(s.point(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(e){e=s.point(e);var n=e.x-this.x,r=e.y-this.y;return Math.sqrt(n*n+r*r)},equals:function(e){return e=s.point(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=s.point(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+s.Util.formatNum(this.x)+", "+s.Util.formatNum(this.y)+")"}},s.point=function(e,n,r){return e instanceof s.Point?e:s.Util.isArray(e)?new s.Point(e[0],e[1]):e===A||e===null?e:new s.Point(e,n,r)},s.Bounds=function(e,n){if(!!e)for(var r=n?[e,n]:e,h=0,u=r.length;h<u;h++)this.extend(r[h])},s.Bounds.prototype={extend:function(e){return e=s.point(e),!this.min&&!this.max?(this.min=e.clone(),this.max=e.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)),this},getCenter:function(e){return new s.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new s.Point(this.min.x,this.max.y)},getTopRight:function(){return new s.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,r;return typeof e[0]=="number"||e instanceof s.Point?e=s.point(e):e=s.bounds(e),e instanceof s.Bounds?(n=e.min,r=e.max):n=r=e,n.x>=this.min.x&&r.x<=this.max.x&&n.y>=this.min.y&&r.y<=this.max.y},intersects:function(e){e=s.bounds(e);var n=this.min,r=this.max,h=e.min,u=e.max,f=u.x>=n.x&&h.x<=r.x,_=u.y>=n.y&&h.y<=r.y;return f&&_},isValid:function(){return!!(this.min&&this.max)}},s.bounds=function(e,n){return!e||e instanceof s.Bounds?e:new s.Bounds(e,n)},s.Transformation=function(e,n,r,h){this._a=e,this._b=n,this._c=r,this._d=h},s.Transformation.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new s.Point((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}},s.DomUtil={get:function(e){return typeof e=="string"?g.getElementById(e):e},getStyle:function(e,n){var r=e.style[n];if(!r&&e.currentStyle&&(r=e.currentStyle[n]),(!r||r==="auto")&&g.defaultView){var h=g.defaultView.getComputedStyle(e,null);r=h?h[n]:null}return r==="auto"?null:r},getViewportOffset:function(e){var n=0,r=0,h=e,u=g.body,f=g.documentElement,_;do{if(n+=h.offsetTop||0,r+=h.offsetLeft||0,n+=parseInt(s.DomUtil.getStyle(h,"borderTopWidth"),10)||0,r+=parseInt(s.DomUtil.getStyle(h,"borderLeftWidth"),10)||0,_=s.DomUtil.getStyle(h,"position"),h.offsetParent===u&&_==="absolute")break;if(_==="fixed"){n+=u.scrollTop||f.scrollTop||0,r+=u.scrollLeft||f.scrollLeft||0;break}if(_==="relative"&&!h.offsetLeft){var p=s.DomUtil.getStyle(h,"width"),y=s.DomUtil.getStyle(h,"max-width"),P=h.getBoundingClientRect();(p!=="none"||y!=="none")&&(r+=P.left+h.clientLeft),n+=P.top+(u.scrollTop||f.scrollTop||0);break}h=h.offsetParent}while(h);h=e;do{if(h===u)break;n-=h.scrollTop||0,r-=h.scrollLeft||0,h=h.parentNode}while(h);return new s.Point(r,n)},documentIsLtr:function(){return s.DomUtil._docIsLtrCached||(s.DomUtil._docIsLtrCached=!0,s.DomUtil._docIsLtr=s.DomUtil.getStyle(g.body,"direction")==="ltr"),s.DomUtil._docIsLtr},create:function(e,n,r){var h=g.createElement(e);return h.className=n,r&&r.appendChild(h),h},hasClass:function(e,n){if(e.classList!==A)return e.classList.contains(n);var r=s.DomUtil._getClass(e);return r.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(r)},addClass:function(e,n){if(e.classList!==A)for(var r=s.Util.splitWords(n),h=0,u=r.length;h<u;h++)e.classList.add(r[h]);else if(!s.DomUtil.hasClass(e,n)){var f=s.DomUtil._getClass(e);s.DomUtil._setClass(e,(f?f+" ":"")+n)}},removeClass:function(e,n){e.classList!==A?e.classList.remove(n):s.DomUtil._setClass(e,s.Util.trim((" "+s.DomUtil._getClass(e)+" ").replace(" "+n+" "," ")))},_setClass:function(e,n){e.className.baseVal===A?e.className=n:e.className.baseVal=n},_getClass:function(e){return e.className.baseVal===A?e.className:e.className.baseVal},setOpacity:function(e,n){if("opacity"in e.style)e.style.opacity=n;else if("filter"in e.style){var r=!1,h="DXImageTransform.Microsoft.Alpha";try{r=e.filters.item(h)}catch{if(n===1)return}n=Math.round(n*100),r?(r.Enabled=n!==100,r.Opacity=n):e.style.filter+=" progid:"+h+"(opacity="+n+")"}},testProp:function(e){for(var n=g.documentElement.style,r=0;r<e.length;r++)if(e[r]in n)return e[r];return!1},getTranslateString:function(e){var n=s.Browser.webkit3d,r="translate"+(n?"3d":"")+"(",h=(n?",0":"")+")";return r+e.x+"px,"+e.y+"px"+h},getScaleString:function(e,n){var r=s.DomUtil.getTranslateString(n.add(n.multiplyBy(-1*e))),h=" scale("+e+") ";return r+h},setPosition:function(e,n,r){e._leaflet_pos=n,!r&&s.Browser.any3d?e.style[s.DomUtil.TRANSFORM]=s.DomUtil.getTranslateString(n):(e.style.left=n.x+"px",e.style.top=n.y+"px")},getPosition:function(e){return e._leaflet_pos}},s.DomUtil.TRANSFORM=s.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),s.DomUtil.TRANSITION=s.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),s.DomUtil.TRANSITION_END=s.DomUtil.TRANSITION==="webkitTransition"||s.DomUtil.TRANSITION==="OTransition"?s.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in g)s.extend(s.DomUtil,{disableTextSelection:function(){s.DomEvent.on(M,"selectstart",s.DomEvent.preventDefault)},enableTextSelection:function(){s.DomEvent.off(M,"selectstart",s.DomEvent.preventDefault)}});else{var e=s.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);s.extend(s.DomUtil,{disableTextSelection:function(){if(e){var n=g.documentElement.style;this._userSelect=n[e],n[e]="none"}},enableTextSelection:function(){e&&(g.documentElement.style[e]=this._userSelect,delete this._userSelect)}})}s.extend(s.DomUtil,{disableImageDrag:function(){s.DomEvent.on(M,"dragstart",s.DomEvent.preventDefault)},enableImageDrag:function(){s.DomEvent.off(M,"dragstart",s.DomEvent.preventDefault)}})}(),s.LatLng=function(e,n,r){if(e=parseFloat(e),n=parseFloat(n),isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=e,this.lng=n,r!==A&&(this.alt=parseFloat(r))},s.extend(s.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),s.LatLng.prototype={equals:function(e){if(!e)return!1;e=s.latLng(e);var n=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return n<=s.LatLng.MAX_MARGIN},toString:function(e){return"LatLng("+s.Util.formatNum(this.lat,e)+", "+s.Util.formatNum(this.lng,e)+")"},distanceTo:function(e){e=s.latLng(e);var n=6378137,r=s.LatLng.DEG_TO_RAD,h=(e.lat-this.lat)*r,u=(e.lng-this.lng)*r,f=this.lat*r,_=e.lat*r,p=Math.sin(h/2),y=Math.sin(u/2),P=p*p+y*y*Math.cos(f)*Math.cos(_);return n*2*Math.atan2(Math.sqrt(P),Math.sqrt(1-P))},wrap:function(e,n){var r=this.lng;return e=e||-180,n=n||180,r=(r+n)%(n-e)+(r<e||r===n?n:e),new s.LatLng(this.lat,r)}},s.latLng=function(e,n){return e instanceof s.LatLng?e:s.Util.isArray(e)?typeof e[0]=="number"||typeof e[0]=="string"?new s.LatLng(e[0],e[1],e[2]):null:e===A||e===null?e:typeof e=="object"&&"lat"in e?new s.LatLng(e.lat,"lng"in e?e.lng:e.lon):n===A?null:new s.LatLng(e,n)},s.LatLngBounds=function(e,n){if(!!e)for(var r=n?[e,n]:e,h=0,u=r.length;h<u;h++)this.extend(r[h])},s.LatLngBounds.prototype={extend:function(e){if(!e)return this;var n=s.latLng(e);return n!==null?e=n:e=s.latLngBounds(e),e instanceof s.LatLng?!this._southWest&&!this._northEast?(this._southWest=new s.LatLng(e.lat,e.lng),this._northEast=new s.LatLng(e.lat,e.lng)):(this._southWest.lat=Math.min(e.lat,this._southWest.lat),this._southWest.lng=Math.min(e.lng,this._southWest.lng),this._northEast.lat=Math.max(e.lat,this._northEast.lat),this._northEast.lng=Math.max(e.lng,this._northEast.lng)):e instanceof s.LatLngBounds&&(this.extend(e._southWest),this.extend(e._northEast)),this},pad:function(e){var n=this._southWest,r=this._northEast,h=Math.abs(n.lat-r.lat)*e,u=Math.abs(n.lng-r.lng)*e;return new s.LatLngBounds(new s.LatLng(n.lat-h,n.lng-u),new s.LatLng(r.lat+h,r.lng+u))},getCenter:function(){return new s.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new s.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new s.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof s.LatLng?e=s.latLng(e):e=s.latLngBounds(e);var n=this._southWest,r=this._northEast,h,u;return e instanceof s.LatLngBounds?(h=e.getSouthWest(),u=e.getNorthEast()):h=u=e,h.lat>=n.lat&&u.lat<=r.lat&&h.lng>=n.lng&&u.lng<=r.lng},intersects:function(e){e=s.latLngBounds(e);var n=this._southWest,r=this._northEast,h=e.getSouthWest(),u=e.getNorthEast(),f=u.lat>=n.lat&&h.lat<=r.lat,_=u.lng>=n.lng&&h.lng<=r.lng;return f&&_},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e){return e?(e=s.latLngBounds(e),this._southWest.equals(e.getSouthWest())&&this._northEast.equals(e.getNorthEast())):!1},isValid:function(){return!!(this._southWest&&this._northEast)}},s.latLngBounds=function(e,n){return!e||e instanceof s.LatLngBounds?e:new s.LatLngBounds(e,n)},s.Projection={},s.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(e){var n=s.LatLng.DEG_TO_RAD,r=this.MAX_LATITUDE,h=Math.max(Math.min(r,e.lat),-r),u=e.lng*n,f=h*n;return f=Math.log(Math.tan(Math.PI/4+f/2)),new s.Point(u,f)},unproject:function(e){var n=s.LatLng.RAD_TO_DEG,r=e.x*n,h=(2*Math.atan(Math.exp(e.y))-Math.PI/2)*n;return new s.LatLng(h,r)}},s.Projection.LonLat={project:function(e){return new s.Point(e.lng,e.lat)},unproject:function(e){return new s.LatLng(e.y,e.x)}},s.CRS={latLngToPoint:function(e,n){var r=this.projection.project(e),h=this.scale(n);return this.transformation._transform(r,h)},pointToLatLng:function(e,n){var r=this.scale(n),h=this.transformation.untransform(e,r);return this.projection.unproject(h)},project:function(e){return this.projection.project(e)},scale:function(e){return 256*Math.pow(2,e)},getSize:function(e){var n=this.scale(e);return s.point(n,n)}},s.CRS.Simple=s.extend({},s.CRS,{projection:s.Projection.LonLat,transformation:new s.Transformation(1,0,-1,0),scale:function(e){return Math.pow(2,e)}}),s.CRS.EPSG3857=s.extend({},s.CRS,{code:"EPSG:3857",projection:s.Projection.SphericalMercator,transformation:new s.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(e){var n=this.projection.project(e),r=6378137;return n.multiplyBy(r)}}),s.CRS.EPSG900913=s.extend({},s.CRS.EPSG3857,{code:"EPSG:900913"}),s.CRS.EPSG4326=s.extend({},s.CRS,{code:"EPSG:4326",projection:s.Projection.LonLat,transformation:new s.Transformation(1/360,.5,-1/360,.5)}),s.Map=s.Class.extend({includes:s.Mixin.Events,options:{crs:s.CRS.EPSG3857,fadeAnimation:s.DomUtil.TRANSITION&&!s.Browser.android23,trackResize:!0,markerZoomAnimation:s.DomUtil.TRANSITION&&s.Browser.any3d},initialize:function(e,n){n=s.setOptions(this,n),this._initContainer(e),this._initLayout(),this._onResize=s.bind(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.center&&n.zoom!==A&&this.setView(s.latLng(n.center),n.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(n.layers)},setView:function(e,n){return n=n===A?this.getZoom():n,this._resetView(s.latLng(e),this._limitZoom(n)),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=this._limitZoom(e),this)},zoomIn:function(e,n){return this.setZoom(this._zoom+(e||1),n)},zoomOut:function(e,n){return this.setZoom(this._zoom-(e||1),n)},setZoomAround:function(e,n,r){var h=this.getZoomScale(n),u=this.getSize().divideBy(2),f=e instanceof s.Point?e:this.latLngToContainerPoint(e),_=f.subtract(u).multiplyBy(1-1/h),p=this.containerPointToLatLng(u.add(_));return this.setView(p,n,{zoom:r})},fitBounds:function(e,n){n=n||{},e=e.getBounds?e.getBounds():s.latLngBounds(e);var r=s.point(n.paddingTopLeft||n.padding||[0,0]),h=s.point(n.paddingBottomRight||n.padding||[0,0]),u=this.getBoundsZoom(e,!1,r.add(h));u=n.maxZoom?Math.min(n.maxZoom,u):u;var f=h.subtract(r).divideBy(2),_=this.project(e.getSouthWest(),u),p=this.project(e.getNorthEast(),u),y=this.unproject(_.add(p).divideBy(2).add(f),u);return this.setView(y,u,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e){return this.fire("movestart"),this._rawPanBy(s.point(e)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(e){return e=s.latLngBounds(e),this.options.maxBounds=e,e?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(e,n){var r=this.getCenter(),h=this._limitCenter(r,this._zoom,e);return r.equals(h)?this:this.panTo(h,n)},addLayer:function(e){var n=s.stamp(e);return this._layers[n]?this:(this._layers[n]=e,e.options&&(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[n]=e,this._updateZoomLevels()),this.options.zoomAnimation&&s.TileLayer&&e instanceof s.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,e.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(e),this)},removeLayer:function(e){var n=s.stamp(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&this.fire("layerremove",{layer:e}),this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels()),this.options.zoomAnimation&&s.TileLayer&&e instanceof s.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,e.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(e){return e?s.stamp(e)in this._layers:!1},eachLayer:function(e,n){for(var r in this._layers)e.call(n,this._layers[r]);return this},invalidateSize:function(e){if(!this._loaded)return this;e=s.extend({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var r=this.getSize(),h=n.divideBy(2).round(),u=r.divideBy(2).round(),f=h.subtract(u);return!f.x&&!f.y?this:(e.animate&&e.pan?this.panBy(f):(e.pan&&this._rawPanBy(f),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r}))},addHandler:function(e,n){if(!n)return this;var r=this[e]=new n(this);return this._handlers.push(r),this.options[e]&&r.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch{this._container._leaflet=A}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),r=this.unproject(e.getTopRight());return new s.LatLngBounds(n,r)},getMinZoom:function(){return this.options.minZoom===A?this._layersMinZoom===A?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===A?this._layersMaxZoom===A?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,r){e=s.latLngBounds(e);var h=this.getMinZoom()-(n?1:0),u=this.getMaxZoom(),f=this.getSize(),_=e.getNorthWest(),p=e.getSouthEast(),y=!0,P;r=s.point(r||[0,0]);do h++,P=this.project(p,h).subtract(this.project(_,h)).add(r),y=n?P.x<f.x||P.y<f.y:f.contains(P);while(y&&h<=u);return y&&n?null:n?h:h-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new s.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var e=this._getTopLeftPoint();return new s.Bounds(e,e.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e){var n=this.options.crs;return n.scale(e)/n.scale(this._zoom)},getScaleZoom:function(e){return this._zoom+Math.log(e)/Math.LN2},project:function(e,n){return n=n===A?this._zoom:n,this.options.crs.latLngToPoint(s.latLng(e),n)},unproject:function(e,n){return n=n===A?this._zoom:n,this.options.crs.pointToLatLng(s.point(e),n)},layerPointToLatLng:function(e){var n=s.point(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(s.latLng(e))._round();return n._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(e){return s.point(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return s.point(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(s.point(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(s.latLng(e)))},mouseEventToContainerPoint:function(e){return s.DomEvent.getMousePosition(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=s.DomUtil.get(e);if(n){if(n._leaflet)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");n._leaflet=!0},_initLayout:function(){var e=this._container;s.DomUtil.addClass(e,"leaflet-container"+(s.Browser.touch?" leaflet-touch":"")+(s.Browser.retina?" leaflet-retina":"")+(s.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var n=s.DomUtil.getStyle(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._mapPane=e.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=e.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),e.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),e.shadowPane=this._createPane("leaflet-shadow-pane"),e.overlayPane=this._createPane("leaflet-overlay-pane"),e.markerPane=this._createPane("leaflet-marker-pane"),e.popupPane=this._createPane("leaflet-popup-pane");var n=" leaflet-zoom-hide";this.options.markerZoomAnimation||(s.DomUtil.addClass(e.markerPane,n),s.DomUtil.addClass(e.shadowPane,n),s.DomUtil.addClass(e.popupPane,n))},_createPane:function(e,n){return s.DomUtil.create("div",e,n||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(e){e=e?s.Util.isArray(e)?e:[e]:[];for(var n=0,r=e.length;n<r;n++)this.addLayer(e[n])},_resetView:function(e,n,r,h){var u=this._zoom!==n;h||(this.fire("movestart"),u&&this.fire("zoomstart")),this._zoom=n,this._initialCenter=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(e),r?this._initialTopLeftPoint._add(this._getMapPanePos()):s.DomUtil.setPosition(this._mapPane,new s.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var f=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!r}),f&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(u||h)&&this.fire("zoomend"),this.fire("moveend",{hard:!r})},_rawPanBy:function(e){s.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var e,n=1/0,r=-1/0,h=this._getZoomSpan();for(e in this._zoomBoundLayers){var u=this._zoomBoundLayers[e];isNaN(u.options.minZoom)||(n=Math.min(n,u.options.minZoom)),isNaN(u.options.maxZoom)||(r=Math.max(r,u.options.maxZoom))}e===A?this._layersMaxZoom=this._layersMinZoom=A:(this._layersMaxZoom=r,this._layersMinZoom=n),h!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(!!s.DomEvent){e=e||"on",s.DomEvent[e](this._container,"click",this._onMouseClick,this);var n=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"],r,h;for(r=0,h=n.length;r<h;r++)s.DomEvent[e](this._container,n[r],this._fireMouseEvent,this);this.options.trackResize&&s.DomEvent[e](M,"resize",this._onResize,this)}},_onResize:function(){s.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=s.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(e){!this._loaded||!e._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||s.DomEvent._skipped(e)||(this.fire("preclick"),this._fireMouseEvent(e))},_fireMouseEvent:function(e){if(!(!this._loaded||s.DomEvent._skipped(e))){var n=e.type;if(n=n==="mouseenter"?"mouseover":n==="mouseleave"?"mouseout":n,!!this.hasEventListeners(n)){n==="contextmenu"&&s.DomEvent.preventDefault(e);var r=this.mouseEventToContainerPoint(e),h=this.containerPointToLayerPoint(r),u=this.layerPointToLatLng(h);this.fire(n,{latlng:u,layerPoint:h,containerPoint:r,originalEvent:e})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,this):this.on("load",e,n),this},_layerAdd:function(e){e.onAdd(this),this.fire("layeradd",{layer:e})},_getMapPanePos:function(){return s.DomUtil.getPosition(this._mapPane)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(e,n){var r=this.getSize()._divideBy(2);return this.project(e,n)._subtract(r)._round()},_latLngToNewLayerPoint:function(e,n,r){var h=this._getNewTopLeftPoint(r,n).add(this._getMapPanePos());return this.project(e,n)._subtract(h)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,r){if(!r)return e;var h=this.project(e,n),u=this.getSize().divideBy(2),f=new s.Bounds(h.subtract(u),h.add(u)),_=this._getBoundsOffset(f,r,n);return this.unproject(h.add(_),n)},_limitOffset:function(e,n){if(!n)return e;var r=this.getPixelBounds(),h=new s.Bounds(r.min.add(e),r.max.add(e));return e.add(this._getBoundsOffset(h,n))},_getBoundsOffset:function(e,n,r){var h=this.project(n.getNorthWest(),r).subtract(e.min),u=this.project(n.getSouthEast(),r).subtract(e.max),f=this._rebound(h.x,-u.x),_=this._rebound(h.y,-u.y);return new s.Point(f,_)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),r=this.getMaxZoom();return Math.max(n,Math.min(r,e))}}),s.map=function(e,n){return new s.Map(e,n)},s.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752314245179e-9,R_MAJOR:6378137,project:function(e){var n=s.LatLng.DEG_TO_RAD,r=this.MAX_LATITUDE,h=Math.max(Math.min(r,e.lat),-r),u=this.R_MAJOR,f=this.R_MINOR,_=e.lng*n*u,p=h*n,y=f/u,P=Math.sqrt(1-y*y),b=P*Math.sin(p);b=Math.pow((1-b)/(1+b),P*.5);var C=Math.tan(.5*(Math.PI*.5-p))/b;return p=-u*Math.log(C),new s.Point(_,p)},unproject:function(e){for(var n=s.LatLng.RAD_TO_DEG,r=this.R_MAJOR,h=this.R_MINOR,u=e.x*n/r,f=h/r,_=Math.sqrt(1-f*f),p=Math.exp(-e.y/r),y=Math.PI/2-2*Math.atan(p),P=15,b=1e-7,C=P,R=.1,H;Math.abs(R)>b&&--C>0;)H=_*Math.sin(y),R=Math.PI/2-2*Math.atan(p*Math.pow((1-H)/(1+H),.5*_))-y,y+=R;return new s.LatLng(y*n,u)}},s.CRS.EPSG3395=s.extend({},s.CRS,{code:"EPSG:3395",projection:s.Projection.Mercator,transformation:function(){var e=s.Projection.Mercator,n=e.R_MAJOR,r=.5/(Math.PI*n);return new s.Transformation(r,.5,-r,.5)}()}),s.TileLayer=s.Class.extend({includes:s.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:s.Browser.mobile,updateWhenIdle:s.Browser.mobile},initialize:function(e,n){n=s.setOptions(this,n),n.detectRetina&&s.Browser.retina&&n.maxZoom>0&&(n.tileSize=Math.floor(n.tileSize/2),n.zoomOffset++,n.minZoom>0&&n.minZoom--,this.options.maxZoom--),n.bounds&&(n.bounds=s.latLngBounds(n.bounds)),this._url=e;var r=this.options.subdomains;typeof r=="string"&&(this.options.subdomains=r.split(""))},onAdd:function(e){this._map=e,this._animated=e._zoomAnimated,this._initContainer(),e.on({viewreset:this._reset,moveend:this._update},this),this._animated&&e.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=s.Util.limitExecByInterval(this._update,150,this),e.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this._container.parentNode.removeChild(this._container),e.off({viewreset:this._reset,moveend:this._update},this),this._animated&&e.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||e.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var e=this._map._panes.tilePane;return this._container&&(e.appendChild(this._container),this._setAutoZIndex(e,Math.max)),this},bringToBack:function(){var e=this._map._panes.tilePane;return this._container&&(e.insertBefore(this._container,e.firstChild),this._setAutoZIndex(e,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},setUrl:function(e,n){return this._url=e,n||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==A&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e,n){var r=e.children,h=-n(1/0,-1/0),u,f,_;for(f=0,_=r.length;f<_;f++)r[f]!==this._container&&(u=parseInt(r[f].style.zIndex,10),isNaN(u)||(h=n(h,u)));this.options.zIndex=this._container.style.zIndex=(isFinite(h)?h:0)+n(1,-1)},_updateOpacity:function(){var e,n=this._tiles;if(s.Browser.ielt9)for(e in n)s.DomUtil.setOpacity(n[e],this.options.opacity);else s.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var e=this._map._panes.tilePane;if(!this._container){if(this._container=s.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var n="leaflet-tile-container";this._bgBuffer=s.DomUtil.create("div",n,this._container),this._tileContainer=s.DomUtil.create("div",n,this._container)}else this._tileContainer=this._container;e.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(e){for(var n in this._tiles)this.fire("tileunload",{tile:this._tiles[n]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&e&&e.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var e=this._map,n=e.getZoom()+this.options.zoomOffset,r=this.options.maxNativeZoom,h=this.options.tileSize;return r&&n>r&&(h=Math.round(e.getZoomScale(n)/e.getZoomScale(r)*h)),h},_update:function(){if(!!this._map){var e=this._map,n=e.getPixelBounds(),r=e.getZoom(),h=this._getTileSize();if(!(r>this.options.maxZoom||r<this.options.minZoom)){var u=s.bounds(n.min.divideBy(h)._floor(),n.max.divideBy(h)._floor());this._addTilesFromCenterOut(u),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(u)}}},_addTilesFromCenterOut:function(e){var n=[],r=e.getCenter(),h,u,f;for(h=e.min.y;h<=e.max.y;h++)for(u=e.min.x;u<=e.max.x;u++)f=new s.Point(u,h),this._tileShouldBeLoaded(f)&&n.push(f);var _=n.length;if(_!==0){n.sort(function(y,P){return y.distanceTo(r)-P.distanceTo(r)});var p=g.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=_,u=0;u<_;u++)this._addTile(n[u],p);this._tileContainer.appendChild(p)}},_tileShouldBeLoaded:function(e){if(e.x+":"+e.y in this._tiles)return!1;var n=this.options;if(!n.continuousWorld){var r=this._getWrapTileNum();if(n.noWrap&&(e.x<0||e.x>=r.x)||e.y<0||e.y>=r.y)return!1}if(n.bounds){var h=this._getTileSize(),u=e.multiplyBy(h),f=u.add([h,h]),_=this._map.unproject(u),p=this._map.unproject(f);if(!n.continuousWorld&&!n.noWrap&&(_=_.wrap(),p=p.wrap()),!n.bounds.intersects([_,p]))return!1}return!0},_removeOtherTiles:function(e){var n,r,h,u;for(u in this._tiles)n=u.split(":"),r=parseInt(n[0],10),h=parseInt(n[1],10),(r<e.min.x||r>e.max.x||h<e.min.y||h>e.max.y)&&this._removeTile(u)},_removeTile:function(e){var n=this._tiles[e];this.fire("tileunload",{tile:n,url:n.src}),this.options.reuseTiles?(s.DomUtil.removeClass(n,"leaflet-tile-loaded"),this._unusedTiles.push(n)):n.parentNode===this._tileContainer&&this._tileContainer.removeChild(n),s.Browser.android||(n.onload=null,n.src=s.Util.emptyImageUrl),delete this._tiles[e]},_addTile:function(e,n){var r=this._getTilePos(e),h=this._getTile();s.DomUtil.setPosition(h,r,s.Browser.chrome),this._tiles[e.x+":"+e.y]=h,this._loadTile(h,e),h.parentNode!==this._tileContainer&&n.appendChild(h)},_getZoomForUrl:function(){var e=this.options,n=this._map.getZoom();return e.zoomReverse&&(n=e.maxZoom-n),n+=e.zoomOffset,e.maxNativeZoom?Math.min(n,e.maxNativeZoom):n},_getTilePos:function(e){var n=this._map.getPixelOrigin(),r=this._getTileSize();return e.multiplyBy(r).subtract(n)},getTileUrl:function(e){return s.Util.template(this._url,s.extend({s:this._getSubdomain(e),z:e.z,x:e.x,y:e.y},this.options))},_getWrapTileNum:function(){var e=this._map.options.crs,n=e.getSize(this._map.getZoom());return n.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(e){var n=this._getWrapTileNum();!this.options.continuousWorld&&!this.options.noWrap&&(e.x=(e.x%n.x+n.x)%n.x),this.options.tms&&(e.y=n.y-e.y-1),e.z=this._getZoomForUrl()},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var e=this._unusedTiles.pop();return this._resetTile(e),e}return this._createTile()},_resetTile:function(){},_createTile:function(){var e=s.DomUtil.create("img","leaflet-tile");return e.style.width=e.style.height=this._getTileSize()+"px",e.galleryimg="no",e.onselectstart=e.onmousemove=s.Util.falseFn,s.Browser.ielt9&&this.options.opacity!==A&&s.DomUtil.setOpacity(e,this.options.opacity),s.Browser.mobileWebkit3d&&(e.style.WebkitBackfaceVisibility="hidden"),e},_loadTile:function(e,n){e._layer=this,e.onload=this._tileOnLoad,e.onerror=this._tileOnError,this._adjustTilePoint(n),e.src=this.getTileUrl(n),this.fire("tileloadstart",{tile:e,url:e.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&s.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(s.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var e=this._layer;this.src!==s.Util.emptyImageUrl&&(s.DomUtil.addClass(this,"leaflet-tile-loaded"),e.fire("tileload",{tile:this,url:this.src})),e._tileLoaded()},_tileOnError:function(){var e=this._layer;e.fire("tileerror",{tile:this,url:this.src});var n=e.options.errorTileUrl;n&&(this.src=n),e._tileLoaded()}}),s.tileLayer=function(e,n){return new s.TileLayer(e,n)},s.TileLayer.WMS=s.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(e,n){this._url=e;var r=s.extend({},this.defaultWmsParams),h=n.tileSize||this.options.tileSize;n.detectRetina&&s.Browser.retina?r.width=r.height=h*2:r.width=r.height=h;for(var u in n)!this.options.hasOwnProperty(u)&&u!=="crs"&&(r[u]=n[u]);this.wmsParams=r,s.setOptions(this,n)},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,s.TileLayer.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._map,r=this.options.tileSize,h=e.multiplyBy(r),u=h.add([r,r]),f=this._crs.project(n.unproject(h,e.z)),_=this._crs.project(n.unproject(u,e.z)),p=this._wmsVersion>=1.3&&this._crs===s.CRS.EPSG4326?[_.y,f.x,f.y,_.x].join(","):[f.x,_.y,_.x,f.y].join(","),y=s.Util.template(this._url,{s:this._getSubdomain(e)});return y+s.Util.getParamString(this.wmsParams,y,!0)+"&BBOX="+p},setParams:function(e,n){return s.extend(this.wmsParams,e),n||this.redraw(),this}}),s.tileLayer.wms=function(e,n){return new s.TileLayer.WMS(e,n)},s.TileLayer.Canvas=s.TileLayer.extend({options:{async:!1},initialize:function(e){s.setOptions(this,e)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var e in this._tiles)this._redrawTile(this._tiles[e]);return this},_redrawTile:function(e){this.drawTile(e,e._tilePoint,this._map._zoom)},_createTile:function(){var e=s.DomUtil.create("canvas","leaflet-tile");return e.width=e.height=this.options.tileSize,e.onselectstart=e.onmousemove=s.Util.falseFn,e},_loadTile:function(e,n){e._layer=this,e._tilePoint=n,this._redrawTile(e),this.options.async||this.tileDrawn(e)},drawTile:function(){},tileDrawn:function(e){this._tileOnLoad.call(e)}}),s.tileLayer.canvas=function(e){return new s.TileLayer.Canvas(e)},s.ImageOverlay=s.Class.extend({includes:s.Mixin.Events,options:{opacity:1},initialize:function(e,n,r){this._url=e,this._bounds=s.latLngBounds(n),s.setOptions(this,r)},onAdd:function(e){this._map=e,this._image||this._initImage(),e._panes.overlayPane.appendChild(this._image),e.on("viewreset",this._reset,this),e.options.zoomAnimation&&s.Browser.any3d&&e.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(e){e.getPanes().overlayPane.removeChild(this._image),e.off("viewreset",this._reset,this),e.options.zoomAnimation&&e.off("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var e=this._map._panes.overlayPane;return this._image&&e.insertBefore(this._image,e.firstChild),this},setUrl:function(e){this._url=e,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=s.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&s.Browser.any3d?s.DomUtil.addClass(this._image,"leaflet-zoom-animated"):s.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),s.extend(this._image,{galleryimg:"no",onselectstart:s.Util.falseFn,onmousemove:s.Util.falseFn,onload:s.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(e){var n=this._map,r=this._image,h=n.getZoomScale(e.zoom),u=this._bounds.getNorthWest(),f=this._bounds.getSouthEast(),_=n._latLngToNewLayerPoint(u,e.zoom,e.center),p=n._latLngToNewLayerPoint(f,e.zoom,e.center)._subtract(_),y=_._add(p._multiplyBy(1/2*(1-1/h)));r.style[s.DomUtil.TRANSFORM]=s.DomUtil.getTranslateString(y)+" scale("+h+") "},_reset:function(){var e=this._image,n=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),r=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(n);s.DomUtil.setPosition(e,n),e.style.width=r.x+"px",e.style.height=r.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){s.DomUtil.setOpacity(this._image,this.options.opacity)}}),s.imageOverlay=function(e,n,r){return new s.ImageOverlay(e,n,r)},s.Icon=s.Class.extend({options:{className:""},initialize:function(e){s.setOptions(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var r=this._getIconUrl(e);if(!r){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h;return!n||n.tagName!=="IMG"?h=this._createImg(r):h=this._createImg(r,n),this._setIconStyles(h,e),h},_setIconStyles:function(e,n){var r=this.options,h=s.point(r[n+"Size"]),u;n==="shadow"?u=s.point(r.shadowAnchor||r.iconAnchor):u=s.point(r.iconAnchor),!u&&h&&(u=h.divideBy(2,!0)),e.className="leaflet-marker-"+n+" "+r.className,u&&(e.style.marginLeft=-u.x+"px",e.style.marginTop=-u.y+"px"),h&&(e.style.width=h.x+"px",e.style.height=h.y+"px")},_createImg:function(e,n){return n=n||g.createElement("img"),n.src=e,n},_getIconUrl:function(e){return s.Browser.retina&&this.options[e+"RetinaUrl"]?this.options[e+"RetinaUrl"]:this.options[e+"Url"]}}),s.icon=function(e){return new s.Icon(e)},s.Icon.Default=s.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(e){var n=e+"Url";if(this.options[n])return this.options[n];s.Browser.retina&&e==="icon"&&(e+="-2x");var r=s.Icon.Default.imagePath;if(!r)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return r+"/marker-"+e+".png"}}),s.Icon.Default.imagePath=function(){var e=g.getElementsByTagName("script"),n=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/,r,h,u,f,_;for(r=0,h=e.length;r<h;r++)if(u=e[r].src,f=u.match(n),f)return _=u.split(n)[0],(_?_+"/":"")+"images"}(),s.Marker=s.Class.extend({includes:s.Mixin.Events,options:{icon:new s.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(e,n){s.setOptions(this,n),this._latlng=s.latLng(e)},onAdd:function(e){this._map=e,e.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),e.options.zoomAnimation&&e.options.markerZoomAnimation&&e.on("zoomanim",this._animateZoom,this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),e.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=s.latLng(e),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update(),this},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var e=this.options,n=this._map,r=n.options.zoomAnimation&&n.options.markerZoomAnimation,h=r?"leaflet-zoom-animated":"leaflet-zoom-hide",u=e.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(u.title=e.title),e.alt&&(u.alt=e.alt)),s.DomUtil.addClass(u,h),e.keyboard&&(u.tabIndex="0"),this._icon=u,this._initInteraction(),e.riseOnHover&&s.DomEvent.on(u,"mouseover",this._bringToFront,this).on(u,"mouseout",this._resetZIndex,this);var _=e.icon.createShadow(this._shadow),p=!1;_!==this._shadow&&(this._removeShadow(),p=!0),_&&s.DomUtil.addClass(_,h),this._shadow=_,e.opacity<1&&this._updateOpacity();var y=this._map._panes;f&&y.markerPane.appendChild(this._icon),_&&p&&y.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&s.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(e){s.DomUtil.setPosition(this._icon,e),this._shadow&&s.DomUtil.setPosition(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(!!this.options.clickable){var e=this._icon,n=["dblclick","mousedown","mouseover","mouseout","contextmenu"];s.DomUtil.addClass(e,"leaflet-clickable"),s.DomEvent.on(e,"click",this._onMouseClick,this),s.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var r=0;r<n.length;r++)s.DomEvent.on(e,n[r],this._fireMouseEvent,this);s.Handler.MarkerDrag&&(this.dragging=new s.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(e){var n=this.dragging&&this.dragging.moved();(this.hasEventListeners(e.type)||n)&&s.DomEvent.stopPropagation(e),!n&&((!this.dragging||!this.dragging._enabled)&&this._map.dragging&&this._map.dragging.moved()||this.fire(e.type,{originalEvent:e,latlng:this._latlng}))},_onKeyPress:function(e){e.keyCode===13&&this.fire("click",{originalEvent:e,latlng:this._latlng})},_fireMouseEvent:function(e){this.fire(e.type,{originalEvent:e,latlng:this._latlng}),e.type==="contextmenu"&&this.hasEventListeners(e.type)&&s.DomEvent.preventDefault(e),e.type!=="mousedown"?s.DomEvent.stopPropagation(e):s.DomEvent.preventDefault(e)},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){s.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&s.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),s.marker=function(e,n){return new s.Marker(e,n)},s.DivIcon=s.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:g.createElement("div"),r=this.options;return r.html!==!1?n.innerHTML=r.html:n.innerHTML="",r.bgPos&&(n.style.backgroundPosition=-r.bgPos.x+"px "+-r.bgPos.y+"px"),this._setIconStyles(n,"icon"),n},createShadow:function(){return null}}),s.divIcon=function(e){return new s.DivIcon(e)},s.Map.mergeOptions({closePopupOnClick:!0}),s.Popup=s.Class.extend({includes:s.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(e,n){s.setOptions(this,e),this._source=n,this._animated=s.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(e){this._map=e,this._container||this._initLayout();var n=e.options.fadeAnimation;n&&s.DomUtil.setOpacity(this._container,0),e._panes.popupPane.appendChild(this._container),e.on(this._getEvents(),this),this.update(),n&&s.DomUtil.setOpacity(this._container,1),this.fire("open"),e.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(e){return e.addLayer(this),this},openOn:function(e){return e.openPopup(this),this},onRemove:function(e){e._panes.popupPane.removeChild(this._container),s.Util.falseFn(this._container.offsetWidth),e.off(this._getEvents(),this),e.options.fadeAnimation&&s.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),e.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=s.latLng(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var e={viewreset:this._updatePosition};return this._animated&&(e.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",n=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),r=this._container=s.DomUtil.create("div",n),h;this.options.closeButton&&(h=this._closeButton=s.DomUtil.create("a",e+"-close-button",r),h.href="#close",h.innerHTML="&#215;",s.DomEvent.disableClickPropagation(h),s.DomEvent.on(h,"click",this._onCloseButtonClick,this));var u=this._wrapper=s.DomUtil.create("div",e+"-content-wrapper",r);s.DomEvent.disableClickPropagation(u),this._contentNode=s.DomUtil.create("div",e+"-content",u),s.DomEvent.disableScrollPropagation(this._contentNode),s.DomEvent.on(u,"contextmenu",s.DomEvent.stopPropagation),this._tipContainer=s.DomUtil.create("div",e+"-tip-container",r),this._tip=s.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(!!this._content){if(typeof this._content=="string")this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var r=e.offsetWidth;r=Math.min(r,this.options.maxWidth),r=Math.max(r,this.options.minWidth),n.width=r+1+"px",n.whiteSpace="",n.height="";var h=e.offsetHeight,u=this.options.maxHeight,f="leaflet-popup-scrolled";u&&h>u?(n.height=u+"px",s.DomUtil.addClass(e,f)):s.DomUtil.removeClass(e,f),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(!!this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=this._animated,r=s.point(this.options.offset);n&&s.DomUtil.setPosition(this._container,e),this._containerBottom=-r.y-(n?0:e.y),this._containerLeft=-Math.round(this._containerWidth/2)+r.x+(n?0:e.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);s.DomUtil.setPosition(this._container,n)},_adjustPan:function(){if(!!this.options.autoPan){var e=this._map,n=this._container.offsetHeight,r=this._containerWidth,h=new s.Point(this._containerLeft,-n-this._containerBottom);this._animated&&h._add(s.DomUtil.getPosition(this._container));var u=e.layerPointToContainerPoint(h),f=s.point(this.options.autoPanPadding),_=s.point(this.options.autoPanPaddingTopLeft||f),p=s.point(this.options.autoPanPaddingBottomRight||f),y=e.getSize(),P=0,b=0;u.x+r+p.x>y.x&&(P=u.x+r-y.x+p.x),u.x-P-_.x<0&&(P=u.x-_.x),u.y+n+p.y>y.y&&(b=u.y+n-y.y+p.y),u.y-b-_.y<0&&(b=u.y-_.y),(P||b)&&e.fire("autopanstart").panBy([P,b])}},_onCloseButtonClick:function(e){this._close(),s.DomEvent.stop(e)}}),s.popup=function(e,n){return new s.Popup(e,n)},s.Map.include({openPopup:function(e,n,r){if(this.closePopup(),!(e instanceof s.Popup)){var h=e;e=new s.Popup(r).setLatLng(n).setContent(h)}return e._isOpen=!0,this._popup=e,this.addLayer(e)},closePopup:function(e){return(!e||e===this._popup)&&(e=this._popup,this._popup=null),e&&(this.removeLayer(e),e._isOpen=!1),this}}),s.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(e,n){var r=s.point(this.options.icon.options.popupAnchor||[0,0]);return r=r.add(s.Popup.prototype.options.offset),n&&n.offset&&(r=r.add(n.offset)),n=s.extend({offset:r},n),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),e instanceof s.Popup?(s.setOptions(e,n),this._popup=e,e._source=this):this._popup=new s.Popup(n,this).setContent(e),this},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(e){this._popup.setLatLng(e.latlng)}}),s.LayerGroup=s.Class.extend({initialize:function(e){this._layers={};var n,r;if(e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){return e?e in this._layers||this.getLayerId(e)in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),r,h;for(r in this._layers)h=this._layers[r],h[e]&&h[e].apply(h,n);return this},onAdd:function(e){this._map=e,this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e),this._map=null},addTo:function(e){return e.addLayer(this),this},eachLayer:function(e,n){for(var r in this._layers)e.call(n,this._layers[r]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];for(var n in this._layers)e.push(this._layers[n]);return e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return s.stamp(e)}}),s.layerGroup=function(e){return new s.LayerGroup(e)},s.FeatureGroup=s.LayerGroup.extend({includes:s.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(e){return this.hasLayer(e)?this:("on"in e&&e.on(s.FeatureGroup.EVENTS,this._propagateEvent,this),s.LayerGroup.prototype.addLayer.call(this,e),this._popupContent&&e.bindPopup&&e.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),"off"in e&&e.off(s.FeatureGroup.EVENTS,this._propagateEvent,this),s.LayerGroup.prototype.removeLayer.call(this,e),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:e})):this},bindPopup:function(e,n){return this._popupContent=e,this._popupOptions=n,this.invoke("bindPopup",e,n)},openPopup:function(e){for(var n in this._layers){this._layers[n].openPopup(e);break}return this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new s.LatLngBounds;return this.eachLayer(function(n){e.extend(n instanceof s.Marker?n.getLatLng():n.getBounds())}),e},_propagateEvent:function(e){e=s.extend({layer:e.target,target:this},e),this.fire(e.type,e)}}),s.featureGroup=function(e){return new s.FeatureGroup(e)},s.Path=s.Class.extend({includes:[s.Mixin.Events],statics:{CLIP_PADDING:function(){var e=s.Browser.mobile?1280:2e3,n=(e/Math.max(M.outerWidth,M.outerHeight)-1)/2;return Math.max(0,Math.min(.5,n))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(e){s.setOptions(this,e)},onAdd:function(e){this._map=e,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),e.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(e){return e.addLayer(this),this},onRemove:function(e){e._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,s.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),e.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(e){return s.setOptions(this,e),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),s.Map.include({_updatePathViewport:function(){var e=s.Path.CLIP_PADDING,n=this.getSize(),r=s.DomUtil.getPosition(this._mapPane),h=r.multiplyBy(-1)._subtract(n.multiplyBy(e)._round()),u=h.add(n.multiplyBy(1+e*2)._round());this._pathViewport=new s.Bounds(h,u)}}),s.Path.SVG_NS="http://www.w3.org/2000/svg",s.Browser.svg=!!(g.createElementNS&&g.createElementNS(s.Path.SVG_NS,"svg").createSVGRect),s.Path=s.Path.extend({statics:{SVG:s.Browser.svg},bringToFront:function(){var e=this._map._pathRoot,n=this._container;return n&&e.lastChild!==n&&e.appendChild(n),this},bringToBack:function(){var e=this._map._pathRoot,n=this._container,r=e.firstChild;return n&&r!==n&&e.insertBefore(n,r),this},getPathString:function(){},_createElement:function(e){return g.createElementNS(s.Path.SVG_NS,e)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&s.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),!this.options.clickable&&!this.options.pointerEvents&&this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var e=this.getPathString();e||(e="M0 0"),this._path.setAttribute("d",e)},_initEvents:function(){if(this.options.clickable){(s.Browser.svg||!s.Browser.vml)&&s.DomUtil.addClass(this._path,"leaflet-clickable"),s.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var e=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],n=0;n<e.length;n++)s.DomEvent.on(this._container,e[n],this._fireMouseEvent,this)}},_onMouseClick:function(e){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(e)},_fireMouseEvent:function(e){if(!(!this._map||!this.hasEventListeners(e.type))){var n=this._map,r=n.mouseEventToContainerPoint(e),h=n.containerPointToLayerPoint(r),u=n.layerPointToLatLng(h);this.fire(e.type,{latlng:u,layerPoint:h,containerPoint:r,originalEvent:e}),e.type==="contextmenu"&&s.DomEvent.preventDefault(e),e.type!=="mousemove"&&s.DomEvent.stopPropagation(e)}}}),s.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=s.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&s.Browser.any3d?(s.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):s.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(e){var n=this.getZoomScale(e.zoom),r=this._getCenterOffset(e.center)._multiplyBy(-n)._add(this._pathViewport.min);this._pathRoot.style[s.DomUtil.TRANSFORM]=s.DomUtil.getTranslateString(r)+" scale("+n+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,n=e.min,r=e.max,h=r.x-n.x,u=r.y-n.y,f=this._pathRoot,_=this._panes.overlayPane;s.Browser.mobileWebkit&&_.removeChild(f),s.DomUtil.setPosition(f,n),f.setAttribute("width",h),f.setAttribute("height",u),f.setAttribute("viewBox",[n.x,n.y,h,u].join(" ")),s.Browser.mobileWebkit&&_.appendChild(f)}}}),s.Path.include({bindPopup:function(e,n){return e instanceof s.Popup?this._popup=e:((!this._popup||n)&&(this._popup=new s.Popup(n,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(e){return this._popup&&(e=e||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:e})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(e){this._popup.setLatLng(e.latlng),this._map.openPopup(this._popup)}}),s.Browser.vml=!s.Browser.svg&&function(){try{var e=g.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),s.Path=s.Browser.svg||!s.Browser.vml?s.Path:s.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return g.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return g.createElement("<lvml:"+e+' class="lvml">')}}catch{return function(n){return g.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var e=this._container=this._createElement("shape");s.DomUtil.addClass(e,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&s.DomUtil.addClass(e,"leaflet-clickable"),e.coordsize="1 1",this._path=this._createElement("path"),e.appendChild(this._path),this._map._pathRoot.appendChild(e)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var e=this._stroke,n=this._fill,r=this.options,h=this._container;h.stroked=r.stroke,h.filled=r.fill,r.stroke?(e||(e=this._stroke=this._createElement("stroke"),e.endcap="round",h.appendChild(e)),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=s.Util.isArray(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",r.lineCap&&(e.endcap=r.lineCap.replace("butt","flat")),r.lineJoin&&(e.joinstyle=r.lineJoin)):e&&(h.removeChild(e),this._stroke=null),r.fill?(n||(n=this._fill=this._createElement("fill"),h.appendChild(n)),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(h.removeChild(n),this._fill=null)},_updatePath:function(){var e=this._container.style;e.display="none",this._path.v=this.getPathString()+" ",e.display=""}}),s.Map.include(s.Browser.svg||!s.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var e=this._pathRoot=g.createElement("div");e.className="leaflet-vml-container",this._panes.overlayPane.appendChild(e),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),s.Browser.canvas=function(){return!!g.createElement("canvas").getContext}(),s.Path=s.Path.SVG&&!M.L_PREFER_CANVAS||!s.Browser.canvas?s.Path:s.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(e){return s.setOptions(this,e),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(e){e.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!s.Path._updateRequest&&(s.Path._updateRequest=s.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){s.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var e=this.options;e.stroke&&(this._ctx.lineWidth=e.weight,this._ctx.strokeStyle=e.color),e.fill&&(this._ctx.fillStyle=e.fillColor||e.color),e.lineCap&&(this._ctx.lineCap=e.lineCap),e.lineJoin&&(this._ctx.lineJoin=e.lineJoin)},_drawPath:function(){var e,n,r,h,u,f;for(this._ctx.beginPath(),e=0,r=this._parts.length;e<r;e++){for(n=0,h=this._parts[e].length;n<h;n++)u=this._parts[e][n],f=(n===0?"move":"line")+"To",this._ctx[f](u.x,u.y);this instanceof s.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var e=this._ctx,n=this.options;this._drawPath(),e.save(),this._updateStyle(),n.fill&&(e.globalAlpha=n.fillOpacity,e.fill(n.fillRule||"evenodd")),n.stroke&&(e.globalAlpha=n.opacity,e.stroke()),e.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(e){this._containsPoint(e.layerPoint)&&this.fire(e.type,e)},_onMouseMove:function(e){!this._map||this._map._animatingZoom||(this._containsPoint(e.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",e)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",e)))}}),s.Map.include(s.Path.SVG&&!M.L_PREFER_CANVAS||!s.Browser.canvas?{}:{_initPathRoot:function(){var e=this._pathRoot,n;e||(e=this._pathRoot=g.createElement("canvas"),e.style.position="absolute",n=this._canvasCtx=e.getContext("2d"),n.lineCap="round",n.lineJoin="round",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var e=this._pathViewport,n=e.min,r=e.max.subtract(n),h=this._pathRoot;s.DomUtil.setPosition(h,n),h.width=r.x,h.height=r.y,h.getContext("2d").translate(-n.x,-n.y)}}}),s.LineUtil={simplify:function(e,n){if(!n||!e.length)return e.slice();var r=n*n;return e=this._reducePoints(e,r),e=this._simplifyDP(e,r),e},pointToSegmentDistance:function(e,n,r){return Math.sqrt(this._sqClosestPointOnSegment(e,n,r,!0))},closestPointOnSegment:function(e,n,r){return this._sqClosestPointOnSegment(e,n,r)},_simplifyDP:function(e,n){var r=e.length,h=typeof Uint8Array!=A+""?Uint8Array:Array,u=new h(r);u[0]=u[r-1]=1,this._simplifyDPStep(e,u,n,0,r-1);var f,_=[];for(f=0;f<r;f++)u[f]&&_.push(e[f]);return _},_simplifyDPStep:function(e,n,r,h,u){var f=0,_,p,y;for(p=h+1;p<=u-1;p++)y=this._sqClosestPointOnSegment(e[p],e[h],e[u],!0),y>f&&(_=p,f=y);f>r&&(n[_]=1,this._simplifyDPStep(e,n,r,h,_),this._simplifyDPStep(e,n,r,_,u))},_reducePoints:function(e,n){for(var r=[e[0]],h=1,u=0,f=e.length;h<f;h++)this._sqDist(e[h],e[u])>n&&(r.push(e[h]),u=h);return u<f-1&&r.push(e[f-1]),r},clipSegment:function(e,n,r,h){var u=h?this._lastCode:this._getBitCode(e,r),f=this._getBitCode(n,r),_,p,y;for(this._lastCode=f;;)if(u|f){if(u&f)return!1;_=u||f,p=this._getEdgeIntersection(e,n,_,r),y=this._getBitCode(p,r),_===u?(e=p,u=y):(n=p,f=y)}else return[e,n]},_getEdgeIntersection:function(e,n,r,h){var u=n.x-e.x,f=n.y-e.y,_=h.min,p=h.max;if(r&8)return new s.Point(e.x+u*(p.y-e.y)/f,p.y);if(r&4)return new s.Point(e.x+u*(_.y-e.y)/f,_.y);if(r&2)return new s.Point(p.x,e.y+f*(p.x-e.x)/u);if(r&1)return new s.Point(_.x,e.y+f*(_.x-e.x)/u)},_getBitCode:function(e,n){var r=0;return e.x<n.min.x?r|=1:e.x>n.max.x&&(r|=2),e.y<n.min.y?r|=4:e.y>n.max.y&&(r|=8),r},_sqDist:function(e,n){var r=n.x-e.x,h=n.y-e.y;return r*r+h*h},_sqClosestPointOnSegment:function(e,n,r,h){var u=n.x,f=n.y,_=r.x-u,p=r.y-f,y=_*_+p*p,P;return y>0&&(P=((e.x-u)*_+(e.y-f)*p)/y,P>1?(u=r.x,f=r.y):P>0&&(u+=_*P,f+=p*P)),_=e.x-u,p=e.y-f,h?_*_+p*p:new s.Point(u,f)}},s.Polyline=s.Path.extend({initialize:function(e,n){s.Path.prototype.initialize.call(this,n),this._latlngs=this._convertLatLngs(e)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var e=0,n=this._latlngs.length;e<n;e++)this._originalPoints[e]=this._map.latLngToLayerPoint(this._latlngs[e])},getPathString:function(){for(var e=0,n=this._parts.length,r="";e<n;e++)r+=this._getPathPartStr(this._parts[e]);return r},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._latlngs=this._convertLatLngs(e),this.redraw()},addLatLng:function(e){return this._latlngs.push(s.latLng(e)),this.redraw()},spliceLatLngs:function(){var e=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),e},closestLayerPoint:function(e){for(var n=1/0,r=this._parts,h,u,f=null,_=0,p=r.length;_<p;_++)for(var y=r[_],P=1,b=y.length;P<b;P++){h=y[P-1],u=y[P];var C=s.LineUtil._sqClosestPointOnSegment(e,h,u,!0);C<n&&(n=C,f=s.LineUtil._sqClosestPointOnSegment(e,h,u))}return f&&(f.distance=Math.sqrt(n)),f},getBounds:function(){return new s.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(e,n){var r,h,u=n?e:[];for(r=0,h=e.length;r<h;r++){if(s.Util.isArray(e[r])&&typeof e[r][0]!="number")return;u[r]=s.latLng(e[r])}return u},_initEvents:function(){s.Path.prototype._initEvents.call(this)},_getPathPartStr:function(e){for(var n=s.Path.VML,r=0,h=e.length,u="",f;r<h;r++)f=e[r],n&&f._round(),u+=(r?"L":"M")+f.x+" "+f.y;return u},_clipPoints:function(){var e=this._originalPoints,n=e.length,r,h,u;if(this.options.noClip){this._parts=[e];return}this._parts=[];var f=this._parts,_=this._map._pathViewport,p=s.LineUtil;for(r=0,h=0;r<n-1;r++)u=p.clipSegment(e[r],e[r+1],_,r),u&&(f[h]=f[h]||[],f[h].push(u[0]),(u[1]!==e[r+1]||r===n-2)&&(f[h].push(u[1]),h++))},_simplifyPoints:function(){for(var e=this._parts,n=s.LineUtil,r=0,h=e.length;r<h;r++)e[r]=n.simplify(e[r],this.options.smoothFactor)},_updatePath:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),s.Path.prototype._updatePath.call(this))}}),s.polyline=function(e,n){return new s.Polyline(e,n)},s.PolyUtil={},s.PolyUtil.clipPolygon=function(e,n){var r,h=[1,4,2,8],u,f,_,p,y,P,b,C,R=s.LineUtil;for(u=0,P=e.length;u<P;u++)e[u]._code=R._getBitCode(e[u],n);for(_=0;_<4;_++){for(b=h[_],r=[],u=0,P=e.length,f=P-1;u<P;f=u++)p=e[u],y=e[f],p._code&b?y._code&b||(C=R._getEdgeIntersection(y,p,b,n),C._code=R._getBitCode(C,n),r.push(C)):(y._code&b&&(C=R._getEdgeIntersection(y,p,b,n),C._code=R._getBitCode(C,n),r.push(C)),r.push(p));e=r}return e},s.Polygon=s.Polyline.extend({options:{fill:!0},initialize:function(e,n){s.Polyline.prototype.initialize.call(this,e,n),this._initWithHoles(e)},_initWithHoles:function(e){var n,r,h;if(e&&s.Util.isArray(e[0])&&typeof e[0][0]!="number")for(this._latlngs=this._convertLatLngs(e[0]),this._holes=e.slice(1),n=0,r=this._holes.length;n<r;n++)h=this._holes[n]=this._convertLatLngs(this._holes[n]),h[0].equals(h[h.length-1])&&h.pop();e=this._latlngs,e.length>=2&&e[0].equals(e[e.length-1])&&e.pop()},projectLatlngs:function(){if(s.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],!!this._holes){var e,n,r,h;for(e=0,r=this._holes.length;e<r;e++)for(this._holePoints[e]=[],n=0,h=this._holes[e].length;n<h;n++)this._holePoints[e][n]=this._map.latLngToLayerPoint(this._holes[e][n])}},setLatLngs:function(e){return e&&s.Util.isArray(e[0])&&typeof e[0][0]!="number"?(this._initWithHoles(e),this.redraw()):s.Polyline.prototype.setLatLngs.call(this,e)},_clipPoints:function(){var e=this._originalPoints,n=[];if(this._parts=[e].concat(this._holePoints),!this.options.noClip){for(var r=0,h=this._parts.length;r<h;r++){var u=s.PolyUtil.clipPolygon(this._parts[r],this._map._pathViewport);u.length&&n.push(u)}this._parts=n}},_getPathPartStr:function(e){var n=s.Polyline.prototype._getPathPartStr.call(this,e);return n+(s.Browser.svg?"z":"x")}}),s.polygon=function(e,n){return new s.Polygon(e,n)},function(){function e(n){return s.FeatureGroup.extend({initialize:function(r,h){this._layers={},this._options=h,this.setLatLngs(r)},setLatLngs:function(r){var h=0,u=r.length;for(this.eachLayer(function(f){h<u?f.setLatLngs(r[h++]):this.removeLayer(f)},this);h<u;)this.addLayer(new n(r[h++],this._options));return this},getLatLngs:function(){var r=[];return this.eachLayer(function(h){r.push(h.getLatLngs())}),r}})}s.MultiPolyline=e(s.Polyline),s.MultiPolygon=e(s.Polygon),s.multiPolyline=function(n,r){return new s.MultiPolyline(n,r)},s.multiPolygon=function(n,r){return new s.MultiPolygon(n,r)}}(),s.Rectangle=s.Polygon.extend({initialize:function(e,n){s.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=s.latLngBounds(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}}),s.rectangle=function(e,n){return new s.Rectangle(e,n)},s.Circle=s.Path.extend({initialize:function(e,n,r){s.Path.prototype.initialize.call(this,r),this._latlng=s.latLng(e),this._mRadius=n},options:{fill:!0},setLatLng:function(e){return this._latlng=s.latLng(e),this.redraw()},setRadius:function(e){return this._mRadius=e,this.redraw()},projectLatlngs:function(){var e=this._getLngRadius(),n=this._latlng,r=this._map.latLngToLayerPoint([n.lat,n.lng-e]);this._point=this._map.latLngToLayerPoint(n),this._radius=Math.max(this._point.x-r.x,1)},getBounds:function(){var e=this._getLngRadius(),n=this._mRadius/40075017*360,r=this._latlng;return new s.LatLngBounds([r.lat-n,r.lng-e],[r.lat+n,r.lng+e])},getLatLng:function(){return this._latlng},getPathString:function(){var e=this._point,n=this._radius;return this._checkIfEmpty()?"":s.Browser.svg?"M"+e.x+","+(e.y-n)+"A"+n+","+n+",0,1,1,"+(e.x-.1)+","+(e.y-n)+" z":(e._round(),n=Math.round(n),"AL "+e.x+","+e.y+" "+n+","+n+" 0,"+65535*360)},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(s.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var e=this._map._pathViewport,n=this._radius,r=this._point;return r.x-n>e.max.x||r.y-n>e.max.y||r.x+n<e.min.x||r.y+n<e.min.y}}),s.circle=function(e,n,r){return new s.Circle(e,n,r)},s.CircleMarker=s.Circle.extend({options:{radius:10,weight:2},initialize:function(e,n){s.Circle.prototype.initialize.call(this,e,null,n),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){s.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(e){return s.Circle.prototype.setLatLng.call(this,e),this._popup&&this._popup._isOpen&&this._popup.setLatLng(e),this},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius}}),s.circleMarker=function(e,n){return new s.CircleMarker(e,n)},s.Polyline.include(s.Path.CANVAS?{_containsPoint:function(e,n){var r,h,u,f,_,p,y,P=this.options.weight/2;for(s.Browser.touch&&(P+=10),r=0,f=this._parts.length;r<f;r++)for(y=this._parts[r],h=0,_=y.length,u=_-1;h<_;u=h++)if(!(!n&&h===0)&&(p=s.LineUtil.pointToSegmentDistance(e,y[u],y[h]),p<=P))return!0;return!1}}:{}),s.Polygon.include(s.Path.CANVAS?{_containsPoint:function(e){var n=!1,r,h,u,f,_,p,y,P;if(s.Polyline.prototype._containsPoint.call(this,e,!0))return!0;for(f=0,y=this._parts.length;f<y;f++)for(r=this._parts[f],_=0,P=r.length,p=P-1;_<P;p=_++)h=r[_],u=r[p],h.y>e.y!=u.y>e.y&&e.x<(u.x-h.x)*(e.y-h.y)/(u.y-h.y)+h.x&&(n=!n);return n}}:{}),s.Circle.include(s.Path.CANVAS?{_drawPath:function(){var e=this._point;this._ctx.beginPath(),this._ctx.arc(e.x,e.y,this._radius,0,Math.PI*2,!1)},_containsPoint:function(e){var n=this._point,r=this.options.stroke?this.options.weight/2:0;return e.distanceTo(n)<=this._radius+r}}:{}),s.CircleMarker.include(s.Path.CANVAS?{_updateStyle:function(){s.Path.prototype._updateStyle.call(this)}}:{}),s.GeoJSON=s.FeatureGroup.extend({initialize:function(e,n){s.setOptions(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=s.Util.isArray(e)?e:e.features,r,h,u;if(n){for(r=0,h=n.length;r<h;r++)u=n[r],(u.geometries||u.geometry||u.features||u.coordinates)&&this.addData(n[r]);return this}var f=this.options;if(!(f.filter&&!f.filter(e))){var _=s.GeoJSON.geometryToLayer(e,f.pointToLayer,f.coordsToLatLng,f);return _.feature=s.GeoJSON.asFeature(e),_.defaultOptions=_.options,this.resetStyle(_),f.onEachFeature&&f.onEachFeature(e,_),this.addLayer(_)}},resetStyle:function(e){var n=this.options.style;n&&(s.Util.extend(e.options,e.defaultOptions),this._setLayerStyle(e,n))},setStyle:function(e){this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){typeof n=="function"&&(n=n(e.feature)),e.setStyle&&e.setStyle(n)}}),s.extend(s.GeoJSON,{geometryToLayer:function(e,n,r,h){var u=e.type==="Feature"?e.geometry:e,f=u.coordinates,_=[],p,y,P,b;switch(r=r||this.coordsToLatLng,u.type){case"Point":return p=r(f),n?n(e,p):new s.Marker(p);case"MultiPoint":for(P=0,b=f.length;P<b;P++)p=r(f[P]),_.push(n?n(e,p):new s.Marker(p));return new s.FeatureGroup(_);case"LineString":return y=this.coordsToLatLngs(f,0,r),new s.Polyline(y,h);case"Polygon":if(f.length===2&&!f[1].length)throw new Error("Invalid GeoJSON object.");return y=this.coordsToLatLngs(f,1,r),new s.Polygon(y,h);case"MultiLineString":return y=this.coordsToLatLngs(f,1,r),new s.MultiPolyline(y,h);case"MultiPolygon":return y=this.coordsToLatLngs(f,2,r),new s.MultiPolygon(y,h);case"GeometryCollection":for(P=0,b=u.geometries.length;P<b;P++)_.push(this.geometryToLayer({geometry:u.geometries[P],type:"Feature",properties:e.properties},n,r,h));return new s.FeatureGroup(_);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(e){return new s.LatLng(e[1],e[0],e[2])},coordsToLatLngs:function(e,n,r){var h,u,f,_=[];for(u=0,f=e.length;u<f;u++)h=n?this.coordsToLatLngs(e[u],n-1,r):(r||this.coordsToLatLng)(e[u]),_.push(h);return _},latLngToCoords:function(e){var n=[e.lng,e.lat];return e.alt!==A&&n.push(e.alt),n},latLngsToCoords:function(e){for(var n=[],r=0,h=e.length;r<h;r++)n.push(s.GeoJSON.latLngToCoords(e[r]));return n},getFeature:function(e,n){return e.feature?s.extend({},e.feature,{geometry:n}):s.GeoJSON.asFeature(n)},asFeature:function(e){return e.type==="Feature"?e:{type:"Feature",properties:{},geometry:e}}});var zt={toGeoJSON:function(){return s.GeoJSON.getFeature(this,{type:"Point",coordinates:s.GeoJSON.latLngToCoords(this.getLatLng())})}};s.Marker.include(zt),s.Circle.include(zt),s.CircleMarker.include(zt),s.Polyline.include({toGeoJSON:function(){return s.GeoJSON.getFeature(this,{type:"LineString",coordinates:s.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),s.Polygon.include({toGeoJSON:function(){var e=[s.GeoJSON.latLngsToCoords(this.getLatLngs())],n,r,h;if(e[0].push(e[0][0]),this._holes)for(n=0,r=this._holes.length;n<r;n++)h=s.GeoJSON.latLngsToCoords(this._holes[n]),h.push(h[0]),e.push(h);return s.GeoJSON.getFeature(this,{type:"Polygon",coordinates:e})}}),function(){function e(n){return function(){var r=[];return this.eachLayer(function(h){r.push(h.toGeoJSON().geometry.coordinates)}),s.GeoJSON.getFeature(this,{type:n,coordinates:r})}}s.MultiPolyline.include({toGeoJSON:e("MultiLineString")}),s.MultiPolygon.include({toGeoJSON:e("MultiPolygon")}),s.LayerGroup.include({toGeoJSON:function(){var n=this.feature&&this.feature.geometry,r=[],h;if(n&&n.type==="MultiPoint")return e("MultiPoint").call(this);var u=n&&n.type==="GeometryCollection";return this.eachLayer(function(f){f.toGeoJSON&&(h=f.toGeoJSON(),r.push(u?h.geometry:s.GeoJSON.asFeature(h)))}),u?s.GeoJSON.getFeature(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}})}(),s.geoJson=function(e,n){return new s.GeoJSON(e,n)},s.DomEvent={addListener:function(e,n,r,h){var u=s.stamp(r),f="_leaflet_"+n+u,_,p,y;return e[f]?this:(_=function(P){return r.call(h||e,P||s.DomEvent._getEvent())},s.Browser.pointer&&n.indexOf("touch")===0?this.addPointerListener(e,n,_,u):(s.Browser.touch&&n==="dblclick"&&this.addDoubleTapListener&&this.addDoubleTapListener(e,_,u),"addEventListener"in e?n==="mousewheel"?(e.addEventListener("DOMMouseScroll",_,!1),e.addEventListener(n,_,!1)):n==="mouseenter"||n==="mouseleave"?(p=_,y=n==="mouseenter"?"mouseover":"mouseout",_=function(P){if(!!s.DomEvent._checkMouse(e,P))return p(P)},e.addEventListener(y,_,!1)):(n==="click"&&s.Browser.android&&(p=_,_=function(P){return s.DomEvent._filterClick(P,p)}),e.addEventListener(n,_,!1)):"attachEvent"in e&&e.attachEvent("on"+n,_),e[f]=_,this))},removeListener:function(e,n,r){var h=s.stamp(r),u="_leaflet_"+n+h,f=e[u];return f?(s.Browser.pointer&&n.indexOf("touch")===0?this.removePointerListener(e,n,h):s.Browser.touch&&n==="dblclick"&&this.removeDoubleTapListener?this.removeDoubleTapListener(e,h):"removeEventListener"in e?n==="mousewheel"?(e.removeEventListener("DOMMouseScroll",f,!1),e.removeEventListener(n,f,!1)):n==="mouseenter"||n==="mouseleave"?e.removeEventListener(n==="mouseenter"?"mouseover":"mouseout",f,!1):e.removeEventListener(n,f,!1):"detachEvent"in e&&e.detachEvent("on"+n,f),e[u]=null,this):this},stopPropagation:function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,s.DomEvent._skipped(e),this},disableScrollPropagation:function(e){var n=s.DomEvent.stopPropagation;return s.DomEvent.on(e,"mousewheel",n).on(e,"MozMousePixelScroll",n)},disableClickPropagation:function(e){for(var n=s.DomEvent.stopPropagation,r=s.Draggable.START.length-1;r>=0;r--)s.DomEvent.on(e,s.Draggable.START[r],n);return s.DomEvent.on(e,"click",s.DomEvent._fakeStop).on(e,"dblclick",n)},preventDefault:function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this},stop:function(e){return s.DomEvent.preventDefault(e).stopPropagation(e)},getMousePosition:function(e,n){if(!n)return new s.Point(e.clientX,e.clientY);var r=n.getBoundingClientRect();return new s.Point(e.clientX-r.left-n.clientLeft,e.clientY-r.top-n.clientTop)},getWheelDelta:function(e){var n=0;return e.wheelDelta&&(n=e.wheelDelta/120),e.detail&&(n=-e.detail/3),n},_skipEvents:{},_fakeStop:function(e){s.DomEvent._skipEvents[e.type]=!0},_skipped:function(e){var n=this._skipEvents[e.type];return this._skipEvents[e.type]=!1,n},_checkMouse:function(e,n){var r=n.relatedTarget;if(!r)return!0;try{for(;r&&r!==e;)r=r.parentNode}catch{return!1}return r!==e},_getEvent:function(){var e=M.event;if(!e)for(var n=arguments.callee.caller;n&&(e=n.arguments[0],!(e&&M.Event===e.constructor));)n=n.caller;return e},_filterClick:function(e,n){var r=e.timeStamp||e.originalEvent.timeStamp,h=s.DomEvent._lastClick&&r-s.DomEvent._lastClick;if(h&&h>100&&h<500||e.target._simulatedClick&&!e._simulated){s.DomEvent.stop(e);return}return s.DomEvent._lastClick=r,n(e)}},s.DomEvent.on=s.DomEvent.addListener,s.DomEvent.off=s.DomEvent.removeListener,s.Draggable=s.Class.extend({includes:s.Mixin.Events,statics:{START:s.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(e,n){this._element=e,this._dragStartTarget=n||e},enable:function(){if(!this._enabled){for(var e=s.Draggable.START.length-1;e>=0;e--)s.DomEvent.on(this._dragStartTarget,s.Draggable.START[e],this._onDown,this);this._enabled=!0}},disable:function(){if(!!this._enabled){for(var e=s.Draggable.START.length-1;e>=0;e--)s.DomEvent.off(this._dragStartTarget,s.Draggable.START[e],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(e){if(this._moved=!1,!(e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(s.DomEvent.stopPropagation(e),!s.Draggable._disabled&&(s.DomUtil.disableImageDrag(),s.DomUtil.disableTextSelection(),!this._moving))){var n=e.touches?e.touches[0]:e;this._startPoint=new s.Point(n.clientX,n.clientY),this._startPos=this._newPos=s.DomUtil.getPosition(this._element),s.DomEvent.on(g,s.Draggable.MOVE[e.type],this._onMove,this).on(g,s.Draggable.END[e.type],this._onUp,this)}},_onMove:function(e){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,r=new s.Point(n.clientX,n.clientY),h=r.subtract(this._startPoint);!h.x&&!h.y||s.Browser.touch&&Math.abs(h.x)+Math.abs(h.y)<3||(s.DomEvent.preventDefault(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=s.DomUtil.getPosition(this._element).subtract(h),s.DomUtil.addClass(g.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,s.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,s.Util.cancelAnimFrame(this._animRequest),this._animRequest=s.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))},_updatePosition:function(){this.fire("predrag"),s.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){s.DomUtil.removeClass(g.body,"leaflet-dragging"),this._lastTarget&&(s.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var e in s.Draggable.MOVE)s.DomEvent.off(g,s.Draggable.MOVE[e],this._onMove).off(g,s.Draggable.END[e],this._onUp);s.DomUtil.enableImageDrag(),s.DomUtil.enableTextSelection(),this._moved&&this._moving&&(s.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),s.Handler=s.Class.extend({initialize:function(e){this._map=e},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){!this._enabled||(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),s.Map.mergeOptions({dragging:!0,inertia:!s.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:s.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),s.Map.Drag=s.Handler.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new s.Draggable(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),e.on("viewreset",this._onViewReset,this),e.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var e=this._map;e._panAnim&&e._panAnim.stop(),e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._newPos;this._positions.push(n),this._times.push(e),e-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var e=this._map.getSize()._divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var e=this._worldWidth,n=Math.round(e/2),r=this._initialWorldOffset,h=this._draggable._newPos.x,u=(h-n+r)%e+n-r,f=(h+n+r)%e-n-r,_=Math.abs(u+r)<Math.abs(f+r)?u:f;this._draggable._newPos.x=_},_onDragEnd:function(e){var n=this._map,r=n.options,h=+new Date-this._lastTime,u=!r.inertia||h>r.inertiaThreshold||!this._positions[0];if(n.fire("dragend",e),u)n.fire("moveend");else{var f=this._lastPos.subtract(this._positions[0]),_=(this._lastTime+h-this._times[0])/1e3,p=r.easeLinearity,y=f.multiplyBy(p/_),P=y.distanceTo([0,0]),b=Math.min(r.inertiaMaxSpeed,P),C=y.multiplyBy(b/P),R=b/(r.inertiaDeceleration*p),H=C.multiplyBy(-R/2).round();!H.x||!H.y?n.fire("moveend"):(H=n._limitOffset(H,n.options.maxBounds),s.Util.requestAnimFrame(function(){n.panBy(H,{duration:R,easeLinearity:p,noMoveStart:!0})}))}}}),s.Map.addInitHook("addHandler","dragging",s.Map.Drag),s.Map.mergeOptions({doubleClickZoom:!0}),s.Map.DoubleClickZoom=s.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,r=n.getZoom()+(e.originalEvent.shiftKey?-1:1);n.options.doubleClickZoom==="center"?n.setZoom(r):n.setZoomAround(e.containerPoint,r)}}),s.Map.addInitHook("addHandler","doubleClickZoom",s.Map.DoubleClickZoom),s.Map.mergeOptions({scrollWheelZoom:!0}),s.Map.ScrollWheelZoom=s.Handler.extend({addHooks:function(){s.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),s.DomEvent.on(this._map._container,"MozMousePixelScroll",s.DomEvent.preventDefault),this._delta=0},removeHooks:function(){s.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),s.DomEvent.off(this._map._container,"MozMousePixelScroll",s.DomEvent.preventDefault)},_onWheelScroll:function(e){var n=s.DomEvent.getWheelDelta(e);this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s.bind(this._performZoom,this),r),s.DomEvent.preventDefault(e),s.DomEvent.stopPropagation(e)},_performZoom:function(){var e=this._map,n=this._delta,r=e.getZoom();n=n>0?Math.ceil(n):Math.floor(n),n=Math.max(Math.min(n,4),-4),n=e._limitZoom(r+n)-r,this._delta=0,this._startTime=null,n&&(e.options.scrollWheelZoom==="center"?e.setZoom(r+n):e.setZoomAround(this._lastMousePos,r+n))}}),s.Map.addInitHook("addHandler","scrollWheelZoom",s.Map.ScrollWheelZoom),s.extend(s.DomEvent,{_touchstart:s.Browser.msPointer?"MSPointerDown":s.Browser.pointer?"pointerdown":"touchstart",_touchend:s.Browser.msPointer?"MSPointerUp":s.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(e,n,r){var h,u=!1,f=250,_,p="_leaflet_",y=this._touchstart,P=this._touchend,b=[];function C(Q){var et;if(s.Browser.pointer?(b.push(Q.pointerId),et=b.length):et=Q.touches.length,!(et>1)){var it=Date.now(),$=it-(h||it);_=Q.touches?Q.touches[0]:Q,u=$>0&&$<=f,h=it}}function R(Q){if(s.Browser.pointer){var et=b.indexOf(Q.pointerId);if(et===-1)return;b.splice(et,1)}if(u){if(s.Browser.pointer){var it={},$;for(var Pt in _)$=_[Pt],typeof $=="function"?it[Pt]=$.bind(_):it[Pt]=$;_=it}_.type="dblclick",n(_),h=null}}e[p+y+r]=C,e[p+P+r]=R;var H=s.Browser.pointer?g.documentElement:e;return e.addEventListener(y,C,!1),H.addEventListener(P,R,!1),s.Browser.pointer&&H.addEventListener(s.DomEvent.POINTER_CANCEL,R,!1),this},removeDoubleTapListener:function(e,n){var r="_leaflet_";return e.removeEventListener(this._touchstart,e[r+this._touchstart+n],!1),(s.Browser.pointer?g.documentElement:e).removeEventListener(this._touchend,e[r+this._touchend+n],!1),s.Browser.pointer&&g.documentElement.removeEventListener(s.DomEvent.POINTER_CANCEL,e[r+this._touchend+n],!1),this}}),s.extend(s.DomEvent,{POINTER_DOWN:s.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:s.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:s.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:s.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(e,n,r,h){switch(n){case"touchstart":return this.addPointerListenerStart(e,n,r,h);case"touchend":return this.addPointerListenerEnd(e,n,r,h);case"touchmove":return this.addPointerListenerMove(e,n,r,h);default:throw"Unknown touch event type"}},addPointerListenerStart:function(e,n,r,h){var u="_leaflet_",f=this._pointers,_=function(y){y.pointerType!=="mouse"&&y.pointerType!==y.MSPOINTER_TYPE_MOUSE&&s.DomEvent.preventDefault(y);for(var P=!1,b=0;b<f.length;b++)if(f[b].pointerId===y.pointerId){P=!0;break}P||f.push(y),y.touches=f.slice(),y.changedTouches=[y],r(y)};if(e[u+"touchstart"+h]=_,e.addEventListener(this.POINTER_DOWN,_,!1),!this._pointerDocumentListener){var p=function(y){for(var P=0;P<f.length;P++)if(f[P].pointerId===y.pointerId){f.splice(P,1);break}};g.documentElement.addEventListener(this.POINTER_UP,p,!1),g.documentElement.addEventListener(this.POINTER_CANCEL,p,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(e,n,r,h){var u="_leaflet_",f=this._pointers;function _(p){if(!((p.pointerType===p.MSPOINTER_TYPE_MOUSE||p.pointerType==="mouse")&&p.buttons===0)){for(var y=0;y<f.length;y++)if(f[y].pointerId===p.pointerId){f[y]=p;break}p.touches=f.slice(),p.changedTouches=[p],r(p)}}return e[u+"touchmove"+h]=_,e.addEventListener(this.POINTER_MOVE,_,!1),this},addPointerListenerEnd:function(e,n,r,h){var u="_leaflet_",f=this._pointers,_=function(p){for(var y=0;y<f.length;y++)if(f[y].pointerId===p.pointerId){f.splice(y,1);break}p.touches=f.slice(),p.changedTouches=[p],r(p)};return e[u+"touchend"+h]=_,e.addEventListener(this.POINTER_UP,_,!1),e.addEventListener(this.POINTER_CANCEL,_,!1),this},removePointerListener:function(e,n,r){var h="_leaflet_",u=e[h+n+r];switch(n){case"touchstart":e.removeEventListener(this.POINTER_DOWN,u,!1);break;case"touchmove":e.removeEventListener(this.POINTER_MOVE,u,!1);break;case"touchend":e.removeEventListener(this.POINTER_UP,u,!1),e.removeEventListener(this.POINTER_CANCEL,u,!1);break}return this}}),s.Map.mergeOptions({touchZoom:s.Browser.touch&&!s.Browser.android23,bounceAtZoomLimits:!0}),s.Map.TouchZoom=s.Handler.extend({addHooks:function(){s.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){s.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var r=n.mouseEventToLayerPoint(e.touches[0]),h=n.mouseEventToLayerPoint(e.touches[1]),u=n._getCenterLayerPoint();this._startCenter=r.add(h)._divideBy(2),this._startDist=r.distanceTo(h),this._moved=!1,this._zooming=!0,this._centerOffset=u.subtract(this._startCenter),n._panAnim&&n._panAnim.stop(),s.DomEvent.on(g,"touchmove",this._onTouchMove,this).on(g,"touchend",this._onTouchEnd,this),s.DomEvent.preventDefault(e)}},_onTouchMove:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||!this._zooming)){var r=n.mouseEventToLayerPoint(e.touches[0]),h=n.mouseEventToLayerPoint(e.touches[1]);this._scale=r.distanceTo(h)/this._startDist,this._delta=r._add(h)._divideBy(2)._subtract(this._startCenter),this._scale!==1&&(!n.options.bounceAtZoomLimits&&(n.getZoom()===n.getMinZoom()&&this._scale<1||n.getZoom()===n.getMaxZoom()&&this._scale>1)||(this._moved||(s.DomUtil.addClass(n._mapPane,"leaflet-touching"),n.fire("movestart").fire("zoomstart"),this._moved=!0),s.Util.cancelAnimFrame(this._animRequest),this._animRequest=s.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),s.DomEvent.preventDefault(e)))}},_updateOnMove:function(){var e=this._map,n=this._getScaleOrigin(),r=e.layerPointToLatLng(n),h=e.getScaleZoom(this._scale);e._animateZoom(r,h,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}var e=this._map;this._zooming=!1,s.DomUtil.removeClass(e._mapPane,"leaflet-touching"),s.Util.cancelAnimFrame(this._animRequest),s.DomEvent.off(g,"touchmove",this._onTouchMove).off(g,"touchend",this._onTouchEnd);var n=this._getScaleOrigin(),r=e.layerPointToLatLng(n),h=e.getZoom(),u=e.getScaleZoom(this._scale)-h,f=u>0?Math.ceil(u):Math.floor(u),_=e._limitZoom(h+f),p=e.getZoomScale(_)/this._scale;e._animateZoom(r,_,n,p)},_getScaleOrigin:function(){var e=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(e)}}),s.Map.addInitHook("addHandler","touchZoom",s.Map.TouchZoom),s.Map.mergeOptions({tap:!0,tapTolerance:15}),s.Map.Tap=s.Handler.extend({addHooks:function(){s.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){s.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(!!e.touches){if(s.DomEvent.preventDefault(e),this._fireClick=!0,e.touches.length>1){this._fireClick=!1,clearTimeout(this._holdTimeout);return}var n=e.touches[0],r=n.target;this._startPos=this._newPos=new s.Point(n.clientX,n.clientY),r.tagName&&r.tagName.toLowerCase()==="a"&&s.DomUtil.addClass(r,"leaflet-active"),this._holdTimeout=setTimeout(s.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1e3),s.DomEvent.on(g,"touchmove",this._onMove,this).on(g,"touchend",this._onUp,this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),s.DomEvent.off(g,"touchmove",this._onMove,this).off(g,"touchend",this._onUp,this),this._fireClick&&e&&e.changedTouches){var n=e.changedTouches[0],r=n.target;r&&r.tagName&&r.tagName.toLowerCase()==="a"&&s.DomUtil.removeClass(r,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",n)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var n=e.touches[0];this._newPos=new s.Point(n.clientX,n.clientY)},_simulateEvent:function(e,n){var r=g.createEvent("MouseEvents");r._simulated=!0,n.target._simulatedClick=!0,r.initMouseEvent(e,!0,!0,M,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(r)}}),s.Browser.touch&&!s.Browser.pointer&&s.Map.addInitHook("addHandler","tap",s.Map.Tap),s.Map.mergeOptions({boxZoom:!0}),s.Map.BoxZoom=s.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._moved=!1},addHooks:function(){s.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){s.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(e){if(this._moved=!1,!e.shiftKey||e.which!==1&&e.button!==1)return!1;s.DomUtil.disableTextSelection(),s.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(e),s.DomEvent.on(g,"mousemove",this._onMouseMove,this).on(g,"mouseup",this._onMouseUp,this).on(g,"keydown",this._onKeyDown,this)},_onMouseMove:function(e){this._moved||(this._box=s.DomUtil.create("div","leaflet-zoom-box",this._pane),s.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var n=this._startLayerPoint,r=this._box,h=this._map.mouseEventToLayerPoint(e),u=h.subtract(n),f=new s.Point(Math.min(h.x,n.x),Math.min(h.y,n.y));s.DomUtil.setPosition(r,f),this._moved=!0,r.style.width=Math.max(0,Math.abs(u.x)-4)+"px",r.style.height=Math.max(0,Math.abs(u.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),s.DomUtil.enableTextSelection(),s.DomUtil.enableImageDrag(),s.DomEvent.off(g,"mousemove",this._onMouseMove).off(g,"mouseup",this._onMouseUp).off(g,"keydown",this._onKeyDown)},_onMouseUp:function(e){this._finish();var n=this._map,r=n.mouseEventToLayerPoint(e);if(!this._startLayerPoint.equals(r)){var h=new s.LatLngBounds(n.layerPointToLatLng(this._startLayerPoint),n.layerPointToLatLng(r));n.fitBounds(h),n.fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(e){e.keyCode===27&&this._finish()}}),s.Map.addInitHook("addHandler","boxZoom",s.Map.BoxZoom),s.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),s.Map.Keyboard=s.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(e){this._map=e,this._setPanOffset(e.options.keyboardPanOffset),this._setZoomOffset(e.options.keyboardZoomOffset)},addHooks:function(){var e=this._map._container;e.tabIndex===-1&&(e.tabIndex="0"),s.DomEvent.on(e,"focus",this._onFocus,this).on(e,"blur",this._onBlur,this).on(e,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var e=this._map._container;s.DomEvent.off(e,"focus",this._onFocus,this).off(e,"blur",this._onBlur,this).off(e,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var e=g.body,n=g.documentElement,r=e.scrollTop||n.scrollTop,h=e.scrollLeft||n.scrollLeft;this._map._container.focus(),M.scrollTo(h,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(e){var n=this._panKeys={},r=this.keyCodes,h,u;for(h=0,u=r.left.length;h<u;h++)n[r.left[h]]=[-1*e,0];for(h=0,u=r.right.length;h<u;h++)n[r.right[h]]=[e,0];for(h=0,u=r.down.length;h<u;h++)n[r.down[h]]=[0,e];for(h=0,u=r.up.length;h<u;h++)n[r.up[h]]=[0,-1*e]},_setZoomOffset:function(e){var n=this._zoomKeys={},r=this.keyCodes,h,u;for(h=0,u=r.zoomIn.length;h<u;h++)n[r.zoomIn[h]]=e;for(h=0,u=r.zoomOut.length;h<u;h++)n[r.zoomOut[h]]=-e},_addHooks:function(){s.DomEvent.on(g,"keydown",this._onKeyDown,this)},_removeHooks:function(){s.DomEvent.off(g,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){var n=e.keyCode,r=this._map;if(n in this._panKeys){if(r._panAnim&&r._panAnim._inProgress)return;r.panBy(this._panKeys[n]),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+this._zoomKeys[n]);else return;s.DomEvent.stop(e)}}),s.Map.addInitHook("addHandler","keyboard",s.Map.Keyboard),s.Handler.MarkerDrag=s.Handler.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new s.Draggable(e,e)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),s.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),s.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var e=this._marker,n=e._shadow,r=s.DomUtil.getPosition(e._icon),h=e._map.layerPointToLatLng(r);n&&s.DomUtil.setPosition(n,r),e._latlng=h,e.fire("move",{latlng:h}).fire("drag")},_onDragEnd:function(e){this._marker.fire("moveend").fire("dragend",e)}}),s.Control=s.Class.extend({options:{position:"topright"},initialize:function(e){s.setOptions(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this._map=e;var n=this._container=this.onAdd(e),r=this.getPosition(),h=e._controlCorners[r];return s.DomUtil.addClass(n,"leaflet-control"),r.indexOf("bottom")!==-1?h.insertBefore(n,h.firstChild):h.appendChild(n),this},removeFrom:function(e){var n=this.getPosition(),r=e._controlCorners[n];return r.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(e),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),s.control=function(e){return new s.Control(e)},s.Map.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.removeFrom(this),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",r=this._controlContainer=s.DomUtil.create("div",n+"control-container",this._container);function h(u,f){var _=n+u+" "+n+f;e[u+f]=s.DomUtil.create("div",_,r)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),s.Control.Zoom=s.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",r=s.DomUtil.create("div",n+" leaflet-bar");return this._map=e,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,n+"-in",r,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,n+"-out",r,this._zoomOut,this),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),r},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(e){this._map.zoomIn(e.shiftKey?3:1)},_zoomOut:function(e){this._map.zoomOut(e.shiftKey?3:1)},_createButton:function(e,n,r,h,u,f){var _=s.DomUtil.create("a",r,h);_.innerHTML=e,_.href="#",_.title=n;var p=s.DomEvent.stopPropagation;return s.DomEvent.on(_,"click",p).on(_,"mousedown",p).on(_,"dblclick",p).on(_,"click",s.DomEvent.preventDefault).on(_,"click",u,f).on(_,"click",this._refocusOnMap,f),_},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";s.DomUtil.removeClass(this._zoomInButton,n),s.DomUtil.removeClass(this._zoomOutButton,n),e._zoom===e.getMinZoom()&&s.DomUtil.addClass(this._zoomOutButton,n),e._zoom===e.getMaxZoom()&&s.DomUtil.addClass(this._zoomInButton,n)}}),s.Map.mergeOptions({zoomControl:!0}),s.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new s.Control.Zoom,this.addControl(this.zoomControl))}),s.control.zoom=function(e){return new s.Control.Zoom(e)},s.Control.Attribution=s.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){s.setOptions(this,e),this._attributions={}},onAdd:function(e){this._container=s.DomUtil.create("div","leaflet-control-attribution"),s.DomEvent.disableClickPropagation(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return e.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(e){e.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){if(!!e)return this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this},removeAttribution:function(e){if(!!e)return this._attributions[e]&&(this._attributions[e]--,this._update()),this},_update:function(){if(!!this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var r=[];this.options.prefix&&r.push(this.options.prefix),e.length&&r.push(e.join(", ")),this._container.innerHTML=r.join(" | ")}},_onLayerAdd:function(e){e.layer.getAttribution&&this.addAttribution(e.layer.getAttribution())},_onLayerRemove:function(e){e.layer.getAttribution&&this.removeAttribution(e.layer.getAttribution())}}),s.Map.mergeOptions({attributionControl:!0}),s.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=new s.Control.Attribution().addTo(this))}),s.control.attribution=function(e){return new s.Control.Attribution(e)},s.Control.Scale=s.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(e){this._map=e;var n="leaflet-control-scale",r=s.DomUtil.create("div",n),h=this.options;return this._addScales(h,n,r),e.on(h.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),r},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,r){e.metric&&(this._mScale=s.DomUtil.create("div",n+"-line",r)),e.imperial&&(this._iScale=s.DomUtil.create("div",n+"-line",r))},_update:function(){var e=this._map.getBounds(),n=e.getCenter().lat,r=6378137*Math.PI*Math.cos(n*Math.PI/180),h=r*(e.getNorthEast().lng-e.getSouthWest().lng)/180,u=this._map.getSize(),f=this.options,_=0;u.x>0&&(_=h*(f.maxWidth/u.x)),this._updateScales(f,_)},_updateScales:function(e,n){e.metric&&n&&this._updateMetric(n),e.imperial&&n&&this._updateImperial(n)},_updateMetric:function(e){var n=this._getRoundNum(e);this._mScale.style.width=this._getScaleWidth(n/e)+"px",this._mScale.innerHTML=n<1e3?n+" m":n/1e3+" km"},_updateImperial:function(e){var n=e*3.2808399,r=this._iScale,h,u,f;n>5280?(h=n/5280,u=this._getRoundNum(h),r.style.width=this._getScaleWidth(u/h)+"px",r.innerHTML=u+" mi"):(f=this._getRoundNum(n),r.style.width=this._getScaleWidth(f/n)+"px",r.innerHTML=f+" ft")},_getScaleWidth:function(e){return Math.round(this.options.maxWidth*e)-10},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),r=e/n;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:1,n*r}}),s.control.scale=function(e){return new s.Control.Scale(e)},s.Control.Layers=s.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(e,n,r){s.setOptions(this,r),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var h in e)this._addLayer(e[h],h);for(h in n)this._addLayer(n[h],h,!0)},onAdd:function(e){return this._initLayout(),this._update(),e.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(e){e.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._update(),this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._update(),this},removeLayer:function(e){var n=s.stamp(e);return delete this._layers[n],this._update(),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=s.DomUtil.create("div",e);n.setAttribute("aria-haspopup",!0),s.Browser.touch?s.DomEvent.on(n,"click",s.DomEvent.stopPropagation):s.DomEvent.disableClickPropagation(n).disableScrollPropagation(n);var r=this._form=s.DomUtil.create("form",e+"-list");if(this.options.collapsed){s.Browser.android||s.DomEvent.on(n,"mouseover",this._expand,this).on(n,"mouseout",this._collapse,this);var h=this._layersLink=s.DomUtil.create("a",e+"-toggle",n);h.href="#",h.title="Layers",s.Browser.touch?s.DomEvent.on(h,"click",s.DomEvent.stop).on(h,"click",this._expand,this):s.DomEvent.on(h,"focus",this._expand,this),s.DomEvent.on(r,"click",function(){setTimeout(s.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=s.DomUtil.create("div",e+"-base",r),this._separator=s.DomUtil.create("div",e+"-separator",r),this._overlaysList=s.DomUtil.create("div",e+"-overlays",r),n.appendChild(r)},_addLayer:function(e,n,r){var h=s.stamp(e);this._layers[h]={layer:e,name:n,overlay:r},this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex))},_update:function(){if(!!this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var e=!1,n=!1,r,h;for(r in this._layers)h=this._layers[r],this._addItem(h),n=n||h.overlay,e=e||!h.overlay;this._separator.style.display=n&&e?"":"none"}},_onLayerChange:function(e){var n=this._layers[s.stamp(e.layer)];if(!!n){this._handlingClick||this._update();var r=n.overlay?e.type==="layeradd"?"overlayadd":"overlayremove":e.type==="layeradd"?"baselayerchange":null;r&&this._map.fire(r,n)}},_createRadioElement:function(e,n){var r='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"';n&&(r+=' checked="checked"'),r+="/>";var h=g.createElement("div");return h.innerHTML=r,h.firstChild},_addItem:function(e){var n=g.createElement("label"),r,h=this._map.hasLayer(e.layer);e.overlay?(r=g.createElement("input"),r.type="checkbox",r.className="leaflet-control-layers-selector",r.defaultChecked=h):r=this._createRadioElement("leaflet-base-layers",h),r.layerId=s.stamp(e.layer),s.DomEvent.on(r,"click",this._onInputClick,this);var u=g.createElement("span");u.innerHTML=" "+e.name,n.appendChild(r),n.appendChild(u);var f=e.overlay?this._overlaysList:this._baseLayersList;return f.appendChild(n),n},_onInputClick:function(){var e,n,r,h=this._form.getElementsByTagName("input"),u=h.length;for(this._handlingClick=!0,e=0;e<u;e++)n=h[e],r=this._layers[n.layerId],n.checked&&!this._map.hasLayer(r.layer)?this._map.addLayer(r.layer):!n.checked&&this._map.hasLayer(r.layer)&&this._map.removeLayer(r.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){s.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),s.control.layers=function(e,n,r){return new s.Control.Layers(e,n,r)},s.PosAnimation=s.Class.extend({includes:s.Mixin.Events,run:function(e,n,r,h){this.stop(),this._el=e,this._inProgress=!0,this._newPos=n,this.fire("start"),e.style[s.DomUtil.TRANSITION]="all "+(r||.25)+"s cubic-bezier(0,0,"+(h||.5)+",1)",s.DomEvent.on(e,s.DomUtil.TRANSITION_END,this._onTransitionEnd,this),s.DomUtil.setPosition(e,n),s.Util.falseFn(e.offsetWidth),this._stepTimer=setInterval(s.bind(this._onStep,this),50)},stop:function(){!this._inProgress||(s.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),s.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var e=this._getPos();if(!e){this._onTransitionEnd();return}this._el._leaflet_pos=e,this.fire("step")},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,n,r,h=this._el,u=M.getComputedStyle(h);if(s.Browser.any3d){if(r=u[s.DomUtil.TRANSFORM].match(this._transformRe),!r)return;e=parseFloat(r[1]),n=parseFloat(r[2])}else e=parseFloat(u.left),n=parseFloat(u.top);return new s.Point(e,n,!0)},_onTransitionEnd:function(){s.DomEvent.off(this._el,s.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[s.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),s.Map.include({setView:function(e,n,r){if(n=n===A?this._zoom:this._limitZoom(n),e=this._limitCenter(s.latLng(e),n,this.options.maxBounds),r=r||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!r.reset&&r!==!0){r.animate!==A&&(r.zoom=s.extend({animate:r.animate},r.zoom),r.pan=s.extend({animate:r.animate},r.pan));var h=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,r.zoom):this._tryAnimatedPan(e,r.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n),this},panBy:function(e,n){if(e=s.point(e).round(),n=n||{},!e.x&&!e.y)return this;if(this._panAnim||(this._panAnim=new s.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){s.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var r=this._getMapPanePos().subtract(e);this._panAnim.run(this._mapPane,r,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){s.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var r=this._getCenterOffset(e)._floor();return(n&&n.animate)!==!0&&!this.getSize().contains(r)?!1:(this.panBy(r,n),!0)}}),s.PosAnimation=s.DomUtil.TRANSITION?s.PosAnimation:s.PosAnimation.extend({run:function(e,n,r,h){this.stop(),this._el=e,this._inProgress=!0,this._duration=r||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=s.DomUtil.getPosition(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(),this._complete())},_animate:function(){this._animId=s.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var e=+new Date-this._startTime,n=this._duration*1e3;e<n?this._runFrame(this._easeOut(e/n)):(this._runFrame(1),this._complete())},_runFrame:function(e){var n=this._startPos.add(this._offset.multiplyBy(e));s.DomUtil.setPosition(this._el,n),this.fire("step")},_complete:function(){s.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),s.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),s.DomUtil.TRANSITION&&s.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&s.DomUtil.TRANSITION&&s.Browser.any3d&&!s.Browser.android23&&!s.Browser.mobileOpera,this._zoomAnimated&&s.DomEvent.on(this._mapPane,s.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),s.Map.include(s.DomUtil.TRANSITION?{_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,r){if(this._animatingZoom)return!0;if(r=r||{},!this._zoomAnimated||r.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(n),u=this._getCenterOffset(e)._divideBy(1-1/h),f=this._getCenterLayerPoint()._add(u);return r.animate!==!0&&!this.getSize().contains(u)?!1:(this.fire("movestart").fire("zoomstart"),this._animateZoom(e,n,f,h,null,!0),!0)},_animateZoom:function(e,n,r,h,u,f,_){_||(this._animatingZoom=!0),s.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=e,this._animateToZoom=n,s.Draggable&&(s.Draggable._disabled=!0),s.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:e,zoom:n,origin:r,scale:h,delta:u,backwards:f}),setTimeout(s.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._animatingZoom=!1,s.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),s.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),s.Draggable&&(s.Draggable._disabled=!1)},this))}}:{}),s.TileLayer.include({_animateZoom:function(e){this._animating||(this._animating=!0,this._prepareBgBuffer());var n=this._bgBuffer,r=s.DomUtil.TRANSFORM,h=e.delta?s.DomUtil.getTranslateString(e.delta):n.style[r],u=s.DomUtil.getScaleString(e.scale,e.origin);n.style[r]=e.backwards?u+" "+h:h+" "+u},_endZoomAnim:function(){var e=this._tileContainer,n=this._bgBuffer;e.style.visibility="",e.parentNode.appendChild(e),s.Util.falseFn(n.offsetWidth);var r=this._map.getZoom();(r>this.options.maxZoom||r<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var e=this._map;e&&!e._animatingZoom&&!e.touchZoom._zooming&&(this._bgBuffer.innerHTML="",this._bgBuffer.style[s.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var e=this._tileContainer,n=this._bgBuffer,r=this._getLoadedTilesPercentage(n),h=this._getLoadedTilesPercentage(e);if(n&&r>.5&&h<.5){e.style.visibility="hidden",this._stopLoadingImages(e);return}n.style.visibility="hidden",n.style[s.DomUtil.TRANSFORM]="",this._tileContainer=n,n=this._bgBuffer=e,this._stopLoadingImages(n),clearTimeout(this._clearBgBufferTimer)},_getLoadedTilesPercentage:function(e){var n=e.getElementsByTagName("img"),r,h,u=0;for(r=0,h=n.length;r<h;r++)n[r].complete&&u++;return u/h},_stopLoadingImages:function(e){var n=Array.prototype.slice.call(e.getElementsByTagName("img")),r,h,u;for(r=0,h=n.length;r<h;r++)u=n[r],u.complete||(u.onload=s.Util.falseFn,u.onerror=s.Util.falseFn,u.src=s.Util.emptyImageUrl,u.parentNode.removeChild(u))}}),s.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(e){if(e=this._locateOptions=s.extend(this._defaultLocateOptions,e),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=s.bind(this._handleGeolocationResponse,this),r=s.bind(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,e):navigator.geolocation.getCurrentPosition(n,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var n=e.code,r=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+r+"."})},_handleGeolocationResponse:function(e){var n=e.coords.latitude,r=e.coords.longitude,h=new s.LatLng(n,r),u=180*e.coords.accuracy/40075017,f=u/Math.cos(s.LatLng.DEG_TO_RAD*n),_=s.latLngBounds([n-u,r-f],[n+u,r+f]),p=this._locateOptions;if(p.setView){var y=Math.min(this.getBoundsZoom(_),p.maxZoom);this.setView(h,y)}var P={latlng:h,bounds:_,timestamp:e.timestamp};for(var b in e.coords)typeof e.coords[b]=="number"&&(P[b]=e.coords[b]);this.fire("locationfound",P)}})})(window,document)})(Ko);var Wt={exports:{}};/* @preserve
 * Leaflet 1.8.0, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(ne,M){(function(g,A){A(M)})(Fo,function(g){var A="1.8.0";function N(t){var i,o,a,l;for(o=1,a=arguments.length;o<a;o++){l=arguments[o];for(i in l)t[i]=l[i]}return t}var s=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function B(t,i){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var a=o.call(arguments,2);return function(){return t.apply(i,a.length?a.concat(o.call(arguments)):arguments)}}var zt=0;function e(t){return"_leaflet_id"in t||(t._leaflet_id=++zt),t._leaflet_id}function n(t,i,o){var a,l,c,d;return d=function(){a=!1,l&&(c.apply(o,l),l=!1)},c=function(){a?l=arguments:(t.apply(o,arguments),setTimeout(d,i),a=!0)},c}function r(t,i,o){var a=i[1],l=i[0],c=a-l;return t===a&&o?t:((t-l)%c+c)%c+l}function h(){return!1}function u(t,i){if(i===!1)return t;var o=Math.pow(10,i===void 0?6:i);return Math.round(t*o)/o}function f(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function _(t){return f(t).split(/\s+/)}function p(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?s(t.options):{});for(var o in i)t.options[o]=i[o];return t.options}function y(t,i,o){var a=[];for(var l in t)a.push(encodeURIComponent(o?l.toUpperCase():l)+"="+encodeURIComponent(t[l]));return(!i||i.indexOf("?")===-1?"?":"&")+a.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function b(t,i){return t.replace(P,function(o,a){var l=i[a];if(l===void 0)throw new Error("No value provided for variable "+o);return typeof l=="function"&&(l=l(i)),l})}var C=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function R(t,i){for(var o=0;o<t.length;o++)if(t[o]===i)return o;return-1}var H="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Q(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var et=0;function it(t){var i=+new Date,o=Math.max(0,16-(i-et));return et=i+o,window.setTimeout(t,o)}var $=window.requestAnimationFrame||Q("RequestAnimationFrame")||it,Pt=window.cancelAnimationFrame||Q("CancelAnimationFrame")||Q("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function Y(t,i,o){if(o&&$===it)t.call(i);else return $.call(window,B(t,i))}function ot(t){t&&Pt.call(window,t)}var vn={__proto__:null,extend:N,create:s,bind:B,get lastId(){return zt},stamp:e,throttle:n,wrapNum:r,falseFn:h,formatNum:u,trim:f,splitWords:_,setOptions:p,getParamString:y,template:b,isArray:C,indexOf:R,emptyImageUrl:H,requestFn:$,cancelFn:Pt,requestAnimFrame:Y,cancelAnimFrame:ot};function dt(){}dt.extend=function(t){var i=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=i.__super__=this.prototype,a=s(o);a.constructor=i,i.prototype=a;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(i[l]=this[l]);return t.statics&&N(i,t.statics),t.includes&&(yn(t.includes),N.apply(null,[a].concat(t.includes))),N(a,t),delete a.statics,delete a.includes,a.options&&(a.options=o.options?s(o.options):{},N(a.options,t.options)),a._initHooks=[],a.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var c=0,d=a._initHooks.length;c<d;c++)a._initHooks[c].call(this)}},i},dt.include=function(t){var i=this.prototype.options;return N(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},dt.mergeOptions=function(t){return N(this.prototype.options,t),this},dt.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function yn(t){if(!(typeof L=="undefined"||!L||!L.Mixin)){t=C(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var nt={on:function(t,i,o){if(typeof t=="object")for(var a in t)this._on(a,t[a],i);else{t=_(t);for(var l=0,c=t.length;l<c;l++)this._on(t[l],i,o)}return this},off:function(t,i,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var a in t)this._off(a,t[a],i);else{t=_(t);for(var l=arguments.length===1,c=0,d=t.length;c<d;c++)l?this._off(t[c]):this._off(t[c],i,o)}return this},_on:function(t,i,o){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}this._events=this._events||{};var a=this._events[t];a||(a=[],this._events[t]=a),o===this&&(o=void 0);for(var l={fn:i,ctx:o},c=a,d=0,m=c.length;d<m;d++)if(c[d].fn===i&&c[d].ctx===o)return;c.push(l)},_off:function(t,i,o){var a,l,c;if(!!this._events&&(a=this._events[t],!!a)){if(arguments.length===1){if(this._firingCount)for(l=0,c=a.length;l<c;l++)a[l].fn=h;delete this._events[t];return}if(o===this&&(o=void 0),typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}for(l=0,c=a.length;l<c;l++){var d=a[l];if(d.ctx===o&&d.fn===i){this._firingCount&&(d.fn=h,this._events[t]=a=a.slice()),a.splice(l,1);return}}console.warn("listener not found")}},fire:function(t,i,o){if(!this.listens(t,o))return this;var a=N({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var l=this._events[t];if(l){this._firingCount=this._firingCount+1||1;for(var c=0,d=l.length;c<d;c++){var m=l[c];m.fn.call(m.ctx||this,a)}this._firingCount--}}return o&&this._propagateEvent(a),this},listens:function(t,i){typeof t!="string"&&console.warn('"string" type argument expected');var o=this._events&&this._events[t];if(o&&o.length)return!0;if(i){for(var a in this._eventParents)if(this._eventParents[a].listens(t,i))return!0}return!1},once:function(t,i,o){if(typeof t=="object"){for(var a in t)this.once(a,t[a],i);return this}var l=B(function(){this.off(t,i,o).off(t,l,o)},this);return this.on(t,i,o).on(t,l,o)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[e(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[e(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,N({layer:t.target,propagatedFrom:t.target},t),!0)}};nt.addEventListener=nt.on,nt.removeEventListener=nt.clearAllEventListeners=nt.off,nt.addOneTimeEventListener=nt.once,nt.fireEvent=nt.fire,nt.hasEventListeners=nt.listens;var Ht=dt.extend(nt);function E(t,i,o){this.x=o?Math.round(t):t,this.y=o?Math.round(i):i}var oi=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};E.prototype={clone:function(){return new E(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new E(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new E(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oi(this.x),this.y=oi(this.y),this},distanceTo:function(t){t=D(t);var i=t.x-this.x,o=t.y-this.y;return Math.sqrt(i*i+o*o)},equals:function(t){return t=D(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}};function D(t,i,o){return t instanceof E?t:C(t)?new E(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new E(t.x,t.y):new E(t,i,o)}function F(t,i){if(!!t)for(var o=i?[t,i]:t,a=0,l=o.length;a<l;a++)this.extend(o[a])}F.prototype={extend:function(t){return t=D(t),!this.min&&!this.max?(this.min=t.clone(),this.max=t.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)),this},getCenter:function(t){return new E((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new E(this.min.x,this.max.y)},getTopRight:function(){return new E(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,o;return typeof t[0]=="number"||t instanceof E?t=D(t):t=rt(t),t instanceof F?(i=t.min,o=t.max):i=o=t,i.x>=this.min.x&&o.x<=this.max.x&&i.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=rt(t);var i=this.min,o=this.max,a=t.min,l=t.max,c=l.x>=i.x&&a.x<=o.x,d=l.y>=i.y&&a.y<=o.y;return c&&d},overlaps:function(t){t=rt(t);var i=this.min,o=this.max,a=t.min,l=t.max,c=l.x>i.x&&a.x<o.x,d=l.y>i.y&&a.y<o.y;return c&&d},isValid:function(){return!!(this.min&&this.max)}};function rt(t,i){return!t||t instanceof F?t:new F(t,i)}function tt(t,i){if(!!t)for(var o=i?[t,i]:t,a=0,l=o.length;a<l;a++)this.extend(o[a])}tt.prototype={extend:function(t){var i=this._southWest,o=this._northEast,a,l;if(t instanceof U)a=t,l=t;else if(t instanceof tt){if(a=t._southWest,l=t._northEast,!a||!l)return this}else return t?this.extend(G(t)||j(t)):this;return!i&&!o?(this._southWest=new U(a.lat,a.lng),this._northEast=new U(l.lat,l.lng)):(i.lat=Math.min(a.lat,i.lat),i.lng=Math.min(a.lng,i.lng),o.lat=Math.max(l.lat,o.lat),o.lng=Math.max(l.lng,o.lng)),this},pad:function(t){var i=this._southWest,o=this._northEast,a=Math.abs(i.lat-o.lat)*t,l=Math.abs(i.lng-o.lng)*t;return new tt(new U(i.lat-a,i.lng-l),new U(o.lat+a,o.lng+l))},getCenter:function(){return new U((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new U(this.getNorth(),this.getWest())},getSouthEast:function(){return new U(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof U||"lat"in t?t=G(t):t=j(t);var i=this._southWest,o=this._northEast,a,l;return t instanceof tt?(a=t.getSouthWest(),l=t.getNorthEast()):a=l=t,a.lat>=i.lat&&l.lat<=o.lat&&a.lng>=i.lng&&l.lng<=o.lng},intersects:function(t){t=j(t);var i=this._southWest,o=this._northEast,a=t.getSouthWest(),l=t.getNorthEast(),c=l.lat>=i.lat&&a.lat<=o.lat,d=l.lng>=i.lng&&a.lng<=o.lng;return c&&d},overlaps:function(t){t=j(t);var i=this._southWest,o=this._northEast,a=t.getSouthWest(),l=t.getNorthEast(),c=l.lat>i.lat&&a.lat<o.lat,d=l.lng>i.lng&&a.lng<o.lng;return c&&d},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=j(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function j(t,i){return t instanceof tt?t:new tt(t,i)}function U(t,i,o){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,o!==void 0&&(this.alt=+o)}U.prototype={equals:function(t,i){if(!t)return!1;t=G(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+u(this.lat,t)+", "+u(this.lng,t)+")"},distanceTo:function(t){return xt.distance(this,G(t))},wrap:function(){return xt.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,o=i/Math.cos(Math.PI/180*this.lat);return j([this.lat-i,this.lng-o],[this.lat+i,this.lng+o])},clone:function(){return new U(this.lat,this.lng,this.alt)}};function G(t,i,o){return t instanceof U?t:C(t)&&typeof t[0]!="object"?t.length===3?new U(t[0],t[1],t[2]):t.length===2?new U(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new U(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new U(t,i,o)}var _t={latLngToPoint:function(t,i){var o=this.projection.project(t),a=this.scale(i);return this.transformation._transform(o,a)},pointToLatLng:function(t,i){var o=this.scale(i),a=this.transformation.untransform(t,o);return this.projection.unproject(a)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,o=this.scale(t),a=this.transformation.transform(i.min,o),l=this.transformation.transform(i.max,o);return new F(a,l)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?r(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?r(t.lat,this.wrapLat,!0):t.lat,a=t.alt;return new U(o,i,a)},wrapLatLngBounds:function(t){var i=t.getCenter(),o=this.wrapLatLng(i),a=i.lat-o.lat,l=i.lng-o.lng;if(a===0&&l===0)return t;var c=t.getSouthWest(),d=t.getNorthEast(),m=new U(c.lat-a,c.lng-l),v=new U(d.lat-a,d.lng-l);return new tt(m,v)}},xt=N({},_t,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var o=Math.PI/180,a=t.lat*o,l=i.lat*o,c=Math.sin((i.lat-t.lat)*o/2),d=Math.sin((i.lng-t.lng)*o/2),m=c*c+Math.cos(a)*Math.cos(l)*d*d,v=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m));return this.R*v}}),si=6378137,we={R:si,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,o=this.MAX_LATITUDE,a=Math.max(Math.min(o,t.lat),-o),l=Math.sin(a*i);return new E(this.R*t.lng*i,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(t){var i=180/Math.PI;return new U((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=si*Math.PI;return new F([-t,-t],[t,t])}()};function be(t,i,o,a){if(C(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=o,this._d=a}be.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new E((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function Ft(t,i,o,a){return new be(t,i,o,a)}var Te=N({},xt,{code:"EPSG:3857",projection:we,transformation:function(){var t=.5/(Math.PI*we.R);return Ft(t,.5,-t,.5)}()}),Pn=N({},Te,{code:"EPSG:900913"});function ri(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ai(t,i){var o="",a,l,c,d,m,v;for(a=0,c=t.length;a<c;a++){for(m=t[a],l=0,d=m.length;l<d;l++)v=m[l],o+=(l?"L":"M")+v.x+" "+v.y;o+=i?T.svg?"z":"x":""}return o||"M0 0"}var Me=document.documentElement.style,oe="ActiveXObject"in window,xn=oe&&!document.addEventListener,hi="msLaunchUri"in navigator&&!("documentMode"in document),Ee=lt("webkit"),li=lt("android"),ui=lt("android 2")||lt("android 3"),Ln=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wn=li&&lt("Google")&&Ln<537&&!("AudioNode"in window),Ce=!!window.opera,ci=!hi&&lt("chrome"),fi=lt("gecko")&&!Ee&&!Ce&&!oe,bn=!ci&&lt("safari"),di=lt("phantom"),_i="OTransition"in Me,Tn=navigator.platform.indexOf("Win")===0,pi=oe&&"transition"in Me,Se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ui,mi="MozPerspective"in Me,Mn=!window.L_DISABLE_3D&&(pi||Se||mi)&&!_i&&!di,Gt=typeof orientation!="undefined"||lt("mobile"),En=Gt&&Ee,Cn=Gt&&Se,gi=!window.PointerEvent&&window.MSPointerEvent,vi=!!(window.PointerEvent||gi),yi="ontouchstart"in window||!!window.TouchEvent,Sn=!window.L_NO_TOUCH&&(yi||vi),kn=Gt&&Ce,zn=Gt&&fi,Dn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,An=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",h,i),window.removeEventListener("testPassiveEventSupport",h,i)}catch{}return t}(),In=function(){return!!document.createElement("canvas").getContext}(),ke=!!(document.createElementNS&&ri("svg").createSVGRect),On=!!ke&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Bn=!ke&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}();function lt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var T={ie:oe,ielt9:xn,edge:hi,webkit:Ee,android:li,android23:ui,androidStock:wn,opera:Ce,chrome:ci,gecko:fi,safari:bn,phantom:di,opera12:_i,win:Tn,ie3d:pi,webkit3d:Se,gecko3d:mi,any3d:Mn,mobile:Gt,mobileWebkit:En,mobileWebkit3d:Cn,msPointer:gi,pointer:vi,touch:Sn,touchNative:yi,mobileOpera:kn,mobileGecko:zn,retina:Dn,passiveEvents:An,canvas:In,svg:ke,vml:Bn,inlineSvg:On},Pi=T.msPointer?"MSPointerDown":"pointerdown",xi=T.msPointer?"MSPointerMove":"pointermove",Li=T.msPointer?"MSPointerUp":"pointerup",wi=T.msPointer?"MSPointerCancel":"pointercancel",ze={touchstart:Pi,touchmove:xi,touchend:Li,touchcancel:wi},bi={touchstart:Hn,touchmove:se,touchend:se,touchcancel:se},Dt={},Ti=!1;function Zn(t,i,o){return i==="touchstart"&&Wn(),bi[i]?(o=bi[i].bind(this,o),t.addEventListener(ze[i],o,!1),o):(console.warn("wrong event specified:",i),L.Util.falseFn)}function Nn(t,i,o){if(!ze[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(ze[i],o,!1)}function Rn(t){Dt[t.pointerId]=t}function Un(t){Dt[t.pointerId]&&(Dt[t.pointerId]=t)}function Mi(t){delete Dt[t.pointerId]}function Wn(){Ti||(document.addEventListener(Pi,Rn,!0),document.addEventListener(xi,Un,!0),document.addEventListener(Li,Mi,!0),document.addEventListener(wi,Mi,!0),Ti=!0)}function se(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var o in Dt)i.touches.push(Dt[o]);i.changedTouches=[i],t(i)}}function Hn(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&X(i),se(t,i)}function Fn(t){var i={},o,a;for(a in t)o=t[a],i[a]=o&&o.bind?o.bind(t):o;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var Gn=200;function Vn(t,i){t.addEventListener("dblclick",i);var o=0,a;function l(c){if(c.detail!==1){a=c.detail;return}if(!(c.pointerType==="mouse"||c.sourceCapabilities&&!c.sourceCapabilities.firesTouchEvents)){var d=Date.now();d-o<=Gn?(a++,a===2&&i(Fn(c))):a=1,o=d}}return t.addEventListener("click",l),{dblclick:i,simDblclick:l}}function qn(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var De=he(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vt=he(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ei=Vt==="webkitTransition"||Vt==="OTransition"?Vt+"End":"transitionend";function Ci(t){return typeof t=="string"?document.getElementById(t):t}function qt(t,i){var o=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!o||o==="auto")&&document.defaultView){var a=document.defaultView.getComputedStyle(t,null);o=a?a[i]:null}return o==="auto"?null:o}function Z(t,i,o){var a=document.createElement(t);return a.className=i||"",o&&o.appendChild(a),a}function V(t){var i=t.parentNode;i&&i.removeChild(t)}function re(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function At(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function It(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Ae(t,i){if(t.classList!==void 0)return t.classList.contains(i);var o=ae(t);return o.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(o)}function k(t,i){if(t.classList!==void 0)for(var o=_(i),a=0,l=o.length;a<l;a++)t.classList.add(o[a]);else if(!Ae(t,i)){var c=ae(t);Ie(t,(c?c+" ":"")+i)}}function q(t,i){t.classList!==void 0?t.classList.remove(i):Ie(t,f((" "+ae(t)+" ").replace(" "+i+" "," ")))}function Ie(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function ae(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function st(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&Jn(t,i)}function Jn(t,i){var o=!1,a="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(a)}catch{if(i===1)return}i=Math.round(i*100),o?(o.Enabled=i!==100,o.Opacity=i):t.style.filter+=" progid:"+a+"(opacity="+i+")"}function he(t){for(var i=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in i)return t[o];return!1}function Tt(t,i,o){var a=i||new E(0,0);t.style[De]=(T.ie3d?"translate("+a.x+"px,"+a.y+"px)":"translate3d("+a.x+"px,"+a.y+"px,0)")+(o?" scale("+o+")":"")}function J(t,i){t._leaflet_pos=i,T.any3d?Tt(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Mt(t){return t._leaflet_pos||new E(0,0)}var Jt,Kt,Oe;if("onselectstart"in document)Jt=function(){S(window,"selectstart",X)},Kt=function(){W(window,"selectstart",X)};else{var jt=he(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jt=function(){if(jt){var t=document.documentElement.style;Oe=t[jt],t[jt]="none"}},Kt=function(){jt&&(document.documentElement.style[jt]=Oe,Oe=void 0)}}function Be(){S(window,"dragstart",X)}function Ze(){W(window,"dragstart",X)}var le,Ne;function Re(t){for(;t.tabIndex===-1;)t=t.parentNode;!t.style||(ue(),le=t,Ne=t.style.outline,t.style.outline="none",S(window,"keydown",ue))}function ue(){!le||(le.style.outline=Ne,le=void 0,Ne=void 0,W(window,"keydown",ue))}function Si(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ue(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var Kn={__proto__:null,TRANSFORM:De,TRANSITION:Vt,TRANSITION_END:Ei,get:Ci,getStyle:qt,create:Z,remove:V,empty:re,toFront:At,toBack:It,hasClass:Ae,addClass:k,removeClass:q,setClass:Ie,getClass:ae,setOpacity:st,testProp:he,setTransform:Tt,setPosition:J,getPosition:Mt,get disableTextSelection(){return Jt},get enableTextSelection(){return Kt},disableImageDrag:Be,enableImageDrag:Ze,preventOutline:Re,restoreOutline:ue,getSizedParentNode:Si,getScale:Ue};function S(t,i,o,a){if(i&&typeof i=="object")for(var l in i)He(t,l,i[l],o);else{i=_(i);for(var c=0,d=i.length;c<d;c++)He(t,i[c],o,a)}return this}var ut="_leaflet_events";function W(t,i,o,a){if(arguments.length===1)ki(t),delete t[ut];else if(i&&typeof i=="object")for(var l in i)Fe(t,l,i[l],o);else if(i=_(i),arguments.length===2)ki(t,function(m){return R(i,m)!==-1});else for(var c=0,d=i.length;c<d;c++)Fe(t,i[c],o,a);return this}function ki(t,i){for(var o in t[ut]){var a=o.split(/\d/)[0];(!i||i(a))&&Fe(t,a,null,null,o)}}var We={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function He(t,i,o,a){var l=i+e(o)+(a?"_"+e(a):"");if(t[ut]&&t[ut][l])return this;var c=function(m){return o.call(a||t,m||window.event)},d=c;!T.touchNative&&T.pointer&&i.indexOf("touch")===0?c=Zn(t,i,c):T.touch&&i==="dblclick"?c=Vn(t,c):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(We[i]||i,c,T.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(c=function(m){m=m||window.event,Ve(t,m)&&d(m)},t.addEventListener(We[i],c,!1)):t.addEventListener(i,d,!1):t.attachEvent("on"+i,c),t[ut]=t[ut]||{},t[ut][l]=c}function Fe(t,i,o,a,l){l=l||i+e(o)+(a?"_"+e(a):"");var c=t[ut]&&t[ut][l];if(!c)return this;!T.touchNative&&T.pointer&&i.indexOf("touch")===0?Nn(t,i,c):T.touch&&i==="dblclick"?qn(t,c):"removeEventListener"in t?t.removeEventListener(We[i]||i,c,!1):t.detachEvent("on"+i,c),t[ut][l]=null}function Et(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Ge(t){return He(t,"wheel",Et),this}function Yt(t){return S(t,"mousedown touchstart dblclick contextmenu",Et),t._leaflet_disable_click=!0,this}function X(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ct(t){return X(t),Et(t),this}function zi(t,i){if(!i)return new E(t.clientX,t.clientY);var o=Ue(i),a=o.boundingClientRect;return new E((t.clientX-a.left)/o.x-i.clientLeft,(t.clientY-a.top)/o.y-i.clientTop)}var jn=T.win&&T.chrome?2*window.devicePixelRatio:T.gecko?window.devicePixelRatio:1;function Di(t){return T.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/jn:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Ve(t,i){var o=i.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var Yn={__proto__:null,on:S,off:W,stopPropagation:Et,disableScrollPropagation:Ge,disableClickPropagation:Yt,preventDefault:X,stop:Ct,getMousePosition:zi,getWheelDelta:Di,isExternalTarget:Ve,addListener:S,removeListener:W},Ai=Ht.extend({run:function(t,i,o,a){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(a||.5,.2),this._startPos=Mt(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,o=this._duration*1e3;i<o?this._runFrame(this._easeOut(i/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var o=this._startPos.add(this._offset.multiplyBy(t));i&&o._round(),J(this._el,o),this.fire("step")},_complete:function(){ot(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),I=Ht.extend({options:{crs:Te,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=p(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=B(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(G(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vt&&T.any3d&&!T.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),S(this._proxy,Ei,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,o){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(G(t),i,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=N({animate:o.animate},o.zoom),o.pan=N({animate:o.animate,duration:o.duration},o.pan));var a=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,o.zoom):this._tryAnimatedPan(t,o.pan);if(a)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(T.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(T.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,o){var a=this.getZoomScale(i),l=this.getSize().divideBy(2),c=t instanceof E?t:this.latLngToContainerPoint(t),d=c.subtract(l).multiplyBy(1-1/a),m=this.containerPointToLatLng(l.add(d));return this.setView(m,i,{zoom:o})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():j(t);var o=D(i.paddingTopLeft||i.padding||[0,0]),a=D(i.paddingBottomRight||i.padding||[0,0]),l=this.getBoundsZoom(t,!1,o.add(a));if(l=typeof i.maxZoom=="number"?Math.min(i.maxZoom,l):l,l===1/0)return{center:t.getCenter(),zoom:l};var c=a.subtract(o).divideBy(2),d=this.project(t.getSouthWest(),l),m=this.project(t.getNorthEast(),l),v=this.unproject(d.add(m).divideBy(2).add(c),l);return{center:v,zoom:l}},fitBounds:function(t,i){if(t=j(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,i);return this.setView(o.center,o.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=D(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ai,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){k(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,o){if(o=o||{},o.animate===!1||!T.any3d)return this.setView(t,i,o);this._stop();var a=this.project(this.getCenter()),l=this.project(t),c=this.getSize(),d=this._zoom;t=G(t),i=i===void 0?d:i;var m=Math.max(c.x,c.y),v=m*this.getZoomScale(d,i),x=l.distanceTo(a)||1,w=1.42,z=w*w;function O(K){var Le=K?-1:1,Ro=K?v:m,Uo=v*v-m*m+Le*z*z*x*x,Wo=2*Ro*z*x,ni=Uo/Wo,fn=Math.sqrt(ni*ni+1)-ni,Ho=fn<1e-9?-18:Math.log(fn);return Ho}function yt(K){return(Math.exp(K)-Math.exp(-K))/2}function kt(K){return(Math.exp(K)+Math.exp(-K))/2}function xe(K){return yt(K)/kt(K)}var bt=O(0);function ii(K){return m*(kt(bt)/kt(bt+w*K))}function Oo(K){return m*(kt(bt)*xe(bt+w*K)-yt(bt))/z}function Bo(K){return 1-Math.pow(1-K,1.5)}var Zo=Date.now(),un=(O(1)-bt)/w,No=o.duration?1e3*o.duration:1e3*un*.8;function cn(){var K=(Date.now()-Zo)/No,Le=Bo(K)*un;K<=1?(this._flyToFrame=Y(cn,this),this._move(this.unproject(a.add(l.subtract(a).multiplyBy(Oo(Le)/x)),d),this.getScaleZoom(m/ii(Le),d),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),cn.call(this),this},flyToBounds:function(t,i){var o=this._getBoundsCenterZoom(t,i);return this.flyTo(o.center,o.zoom,i)},setMaxBounds:function(t){if(t=j(t),t.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);return this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var o=this.getCenter(),a=this._limitCenter(o,this._zoom,j(t));return o.equals(a)||this.panTo(a,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var o=D(i.paddingTopLeft||i.padding||[0,0]),a=D(i.paddingBottomRight||i.padding||[0,0]),l=this.project(this.getCenter()),c=this.project(t),d=this.getPixelBounds(),m=rt([d.min.add(o),d.max.subtract(a)]),v=m.getSize();if(!m.contains(c)){this._enforcingBounds=!0;var x=c.subtract(m.getCenter()),w=m.extend(c).getSize().subtract(v);l.x+=x.x<0?-w.x:w.x,l.y+=x.y<0?-w.y:w.y,this.panTo(this.unproject(l),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=N({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),a=i.divideBy(2).round(),l=o.divideBy(2).round(),c=a.subtract(l);return!c.x&&!c.y?this:(t.animate&&t.pan?this.panBy(c):(t.pan&&this._rawPanBy(c),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(B(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=N({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=B(this._handleGeolocationResponse,this),o=B(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,o,t):navigator.geolocation.getCurrentPosition(i,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(!!this._container._leaflet_id){var i=t.code,o=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(!!this._container._leaflet_id){var i=t.coords.latitude,o=t.coords.longitude,a=new U(i,o),l=a.toBounds(t.coords.accuracy*2),c=this._locateOptions;if(c.setView){var d=this.getBoundsZoom(l);this.setView(a,c.maxZoom?Math.min(d,c.maxZoom):d)}var m={latlng:a,bounds:l,timestamp:t.timestamp};for(var v in t.coords)typeof t.coords[v]=="number"&&(m[v]=t.coords[v]);this.fire("locationfound",m)}},addHandler:function(t,i){if(!i)return this;var o=this[t]=new i(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),V(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ot(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)V(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),a=Z("div",o,i||this._mapPane);return t&&(this._panes[t]=a),a},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new tt(i,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,o){t=j(t),o=D(o||[0,0]);var a=this.getZoom()||0,l=this.getMinZoom(),c=this.getMaxZoom(),d=t.getNorthWest(),m=t.getSouthEast(),v=this.getSize().subtract(o),x=rt(this.project(m,a),this.project(d,a)).getSize(),w=T.any3d?this.options.zoomSnap:1,z=v.x/x.x,O=v.y/x.y,yt=i?Math.max(z,O):Math.min(z,O);return a=this.getScaleZoom(yt,a),w&&(a=Math.round(a/(w/100))*(w/100),a=i?Math.ceil(a/w)*w:Math.floor(a/w)*w),Math.max(l,Math.min(c,a))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new E(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var o=this._getTopLeftPoint(t,i);return new F(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var o=this.options.crs;return i=i===void 0?this._zoom:i,o.scale(t)/o.scale(i)},getScaleZoom:function(t,i){var o=this.options.crs;i=i===void 0?this._zoom:i;var a=o.zoom(t*o.scale(i));return isNaN(a)?1/0:a},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(G(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(D(t),i)},layerPointToLatLng:function(t){var i=D(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(G(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(G(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(j(t))},distance:function(t,i){return this.options.crs.distance(G(t),G(i))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(t)))},mouseEventToContainerPoint:function(t){return zi(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=Ci(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");S(i,"scroll",this._onScroll,this),this._containerId=e(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&T.any3d,k(t,"leaflet-container"+(T.touch?" leaflet-touch":"")+(T.retina?" leaflet-retina":"")+(T.ielt9?" leaflet-oldie":"")+(T.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=qt(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),J(this._mapPane,new E(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(k(t.markerPane,"leaflet-zoom-hide"),k(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i){J(this._mapPane,new E(0,0));var o=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var a=this._zoom!==i;this._moveStart(a,!1)._move(t,i)._moveEnd(a),this.fire("viewreset"),o&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,o,a){i===void 0&&(i=this._zoom);var l=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),a?o&&o.pinch&&this.fire("zoom",o):((l||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ot(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){J(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[e(this._container)]=this;var i=t?W:S;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),T.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ot(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var o=[],a,l=i==="mouseout"||i==="mouseover",c=t.target||t.srcElement,d=!1;c;){if(a=this._targets[e(c)],a&&(i==="click"||i==="preclick")&&this._draggableMoved(a)){d=!0;break}if(a&&a.listens(i,!0)&&(l&&!Ve(c,t)||(o.push(a),l))||c===this._container)break;c=c.parentNode}return!o.length&&!d&&!l&&this.listens(i,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var o=t.type;o==="mousedown"&&Re(i),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,o){if(t.type==="click"){var a=N({},t);a.type="preclick",this._fireDOMEvent(a,a.type,o)}var l=this._findEventTargets(t,i);if(o){for(var c=[],d=0;d<o.length;d++)o[d].listens(i,!0)&&c.push(o[d]);l=c.concat(l)}if(!!l.length){i==="contextmenu"&&X(t);var m=l[0],v={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var x=m.getLatLng&&(!m._radius||m._radius<=10);v.containerPoint=x?this.latLngToContainerPoint(m.getLatLng()):this.mouseEventToContainerPoint(t),v.layerPoint=this.containerPointToLayerPoint(v.containerPoint),v.latlng=x?m.getLatLng():this.layerPointToLatLng(v.layerPoint)}for(d=0;d<l.length;d++)if(l[d].fire(i,v,!0),v.originalEvent._stopped||l[d].options.bubblingMouseEvents===!1&&R(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Mt(this._mapPane)||new E(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var o=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var o=this.getSize()._divideBy(2);return this.project(t,i)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,o){var a=this._getNewPixelOrigin(o,i);return this.project(t,i)._subtract(a)},_latLngBoundsToNewLayerBounds:function(t,i,o){var a=this._getNewPixelOrigin(o,i);return rt([this.project(t.getSouthWest(),i)._subtract(a),this.project(t.getNorthWest(),i)._subtract(a),this.project(t.getSouthEast(),i)._subtract(a),this.project(t.getNorthEast(),i)._subtract(a)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,o){if(!o)return t;var a=this.project(t,i),l=this.getSize().divideBy(2),c=new F(a.subtract(l),a.add(l)),d=this._getBoundsOffset(c,o,i);return d.round().equals([0,0])?t:this.unproject(a.add(d),i)},_limitOffset:function(t,i){if(!i)return t;var o=this.getPixelBounds(),a=new F(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(a,i))},_getBoundsOffset:function(t,i,o){var a=rt(this.project(i.getNorthEast(),o),this.project(i.getSouthWest(),o)),l=a.min.subtract(t.min),c=a.max.subtract(t.max),d=this._rebound(l.x,-c.x),m=this._rebound(l.y,-c.y);return new E(d,m)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),o=this.getMaxZoom(),a=T.any3d?this.options.zoomSnap:1;return a&&(t=Math.round(t/a)*a),Math.max(i,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){q(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var o=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,i),!0)},_createAnimProxy:function(){var t=this._proxy=Z("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var o=De,a=this._proxy.style[o];Tt(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),a===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){V(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();Tt(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var a=this.getZoomScale(i),l=this._getCenterOffset(t)._divideBy(1-1/a);return o.animate!==!0&&!this.getSize().contains(l)?!1:(Y(function(){this._moveStart(!0,!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,o,a){!this._mapPane||(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,k(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:a}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(B(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&q(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xn(t,i){return new I(t,i)}var at=dt.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),o=this.getPosition(),a=t._controlCorners[o];return k(i,"leaflet-control"),o.indexOf("bottom")!==-1?a.insertBefore(i,a.firstChild):a.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(V(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Xt=function(t){return new at(t)};I.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",o=this._controlContainer=Z("div",i+"control-container",this._container);function a(l,c){var d=i+l+" "+i+c;t[l+c]=Z("div",d,o)}a("top","left"),a("top","right"),a("bottom","left"),a("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)V(this._controlCorners[t]);V(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ii=at.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,o,a){return o<a?-1:a<o?1:0}},initialize:function(t,i,o){p(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var a in t)this._addLayer(t[a],a);for(a in i)this._addLayer(i[a],a,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return at.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(e(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){k(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(k(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):q(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return q(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Z("div",t),o=this.options.collapsed;i.setAttribute("aria-haspopup",!0),Yt(i),Ge(i);var a=this._section=Z("section",t+"-list");o&&(this._map.on("click",this.collapse,this),S(i,{mouseenter:function(){S(a,"click",X),this.expand(),setTimeout(function(){W(a,"click",X)})},mouseleave:this.collapse},this));var l=this._layersLink=Z("a",t+"-toggle",i);l.href="#",l.title="Layers",l.setAttribute("role","button"),S(l,"click",X),S(l,"focus",this.expand,this),o||this.expand(),this._baseLayersList=Z("div",t+"-base",a),this._separator=Z("div",t+"-separator",a),this._overlaysList=Z("div",t+"-overlays",a),i.appendChild(a)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&e(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:o}),this.options.sortLayers&&this._layers.sort(B(function(a,l){return this.options.sortFunction(a.layer,l.layer,a.name,l.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;re(this._baseLayersList),re(this._overlaysList),this._layerControlInputs=[];var t,i,o,a,l=0;for(o=0;o<this._layers.length;o++)a=this._layers[o],this._addItem(a),i=i||a.overlay,t=t||!a.overlay,l+=a.overlay?0:1;return this.options.hideSingleBase&&(t=t&&l>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(e(t.target)),o=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,i)},_createRadioElement:function(t,i){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",a=document.createElement("div");return a.innerHTML=o,a.firstChild},_addItem:function(t){var i=document.createElement("label"),o=this._map.hasLayer(t.layer),a;t.overlay?(a=document.createElement("input"),a.type="checkbox",a.className="leaflet-control-layers-selector",a.defaultChecked=o):a=this._createRadioElement("leaflet-base-layers_"+e(this),o),this._layerControlInputs.push(a),a.layerId=e(t.layer),S(a,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+t.name;var c=document.createElement("span");i.appendChild(c),c.appendChild(a),c.appendChild(l);var d=t.overlay?this._overlaysList:this._baseLayersList;return d.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t=this._layerControlInputs,i,o,a=[],l=[];this._handlingClick=!0;for(var c=t.length-1;c>=0;c--)i=t[c],o=this._getLayer(i.layerId).layer,i.checked?a.push(o):i.checked||l.push(o);for(c=0;c<l.length;c++)this._map.hasLayer(l[c])&&this._map.removeLayer(l[c]);for(c=0;c<a.length;c++)this._map.hasLayer(a[c])||this._map.addLayer(a[c]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,o,a=this._map.getZoom(),l=t.length-1;l>=0;l--)i=t[l],o=this._getLayer(i.layerId).layer,i.disabled=o.options.minZoom!==void 0&&a<o.options.minZoom||o.options.maxZoom!==void 0&&a>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Qn=function(t,i,o){return new Ii(t,i,o)},qe=at.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",o=Z("div",i+" leaflet-bar"),a=this.options;return this._zoomInButton=this._createButton(a.zoomInText,a.zoomInTitle,i+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(a.zoomOutText,a.zoomOutTitle,i+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,o,a,l){var c=Z("a",o,a);return c.innerHTML=t,c.href="#",c.title=i,c.setAttribute("role","button"),c.setAttribute("aria-label",i),Yt(c),S(c,"click",Ct),S(c,"click",l,this),S(c,"click",this._refocusOnMap,this),c},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";q(this._zoomInButton,i),q(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(k(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(k(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});I.mergeOptions({zoomControl:!0}),I.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qe,this.addControl(this.zoomControl))});var $n=function(t){return new qe(t)},Oi=at.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",o=Z("div",i),a=this.options;return this._addScales(a,i+"-line",o),t.on(a.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,o){t.metric&&(this._mScale=Z("div",i,o)),t.imperial&&(this._iScale=Z("div",i,o))},_update:function(){var t=this._map,i=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),o=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,o,i/t)},_updateImperial:function(t){var i=t*3.2808399,o,a,l;i>5280?(o=i/5280,a=this._getRoundNum(o),this._updateScale(this._iScale,a+" mi",a/o)):(l=this._getRoundNum(i),this._updateScale(this._iScale,l+" ft",l/i))},_updateScale:function(t,i,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),o=t/i;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,i*o}}),to=function(t){return new Oi(t)},eo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Je=at.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(T.inlineSvg?eo+" ":"")+"Leaflet</a>"},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Z("div","leaflet-control-attribution"),Yt(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(!!this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});I.mergeOptions({attributionControl:!0}),I.addInitHook(function(){this.options.attributionControl&&new Je().addTo(this)});var io=function(t){return new Je(t)};at.Layers=Ii,at.Zoom=qe,at.Scale=Oi,at.Attribution=Je,Xt.layers=Qn,Xt.zoom=$n,Xt.scale=to,Xt.attribution=io;var ct=dt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ct.addTo=function(t,i){return t.addHandler(i,this),this};var no={Events:nt},Bi=T.touch?"touchstart mousedown":"mousedown",Lt=Ht.extend({options:{clickTolerance:3},initialize:function(t,i,o,a){p(this,a),this._element=t,this._dragStartTarget=i||t,this._preventOutline=o},enable:function(){this._enabled||(S(this._dragStartTarget,Bi,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Lt._dragging===this&&this.finishDrag(!0),W(this._dragStartTarget,Bi,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!!this._enabled&&(this._moved=!1,!Ae(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Lt._dragging===this&&this.finishDrag();return}if(!(Lt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Lt._dragging=this,this._preventOutline&&Re(this._element),Be(),Jt(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,o=Si(this._element);this._startPoint=new E(i.clientX,i.clientY),this._startPos=Mt(this._element),this._parentScale=Ue(o);var a=t.type==="mousedown";S(document,a?"mousemove":"touchmove",this._onMove,this),S(document,a?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(!!this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,o=new E(i.clientX,i.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,X(t),this._moved||(this.fire("dragstart"),this._moved=!0,k(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),k(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),J(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(t){q(document.body,"leaflet-dragging"),this._lastTarget&&(q(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),W(document,"mousemove touchmove",this._onMove,this),W(document,"mouseup touchend touchcancel",this._onUp,this),Ze(),Kt(),this._moved&&this._moving&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Lt._dragging=!1}});function Zi(t,i){if(!i||!t.length)return t.slice();var o=i*i;return t=ro(t,o),t=so(t,o),t}function Ni(t,i,o){return Math.sqrt(Qt(t,i,o,!0))}function oo(t,i,o){return Qt(t,i,o)}function so(t,i){var o=t.length,a=typeof Uint8Array!=void 0+""?Uint8Array:Array,l=new a(o);l[0]=l[o-1]=1,Ke(t,l,i,0,o-1);var c,d=[];for(c=0;c<o;c++)l[c]&&d.push(t[c]);return d}function Ke(t,i,o,a,l){var c=0,d,m,v;for(m=a+1;m<=l-1;m++)v=Qt(t[m],t[a],t[l],!0),v>c&&(d=m,c=v);c>o&&(i[d]=1,Ke(t,i,o,a,d),Ke(t,i,o,d,l))}function ro(t,i){for(var o=[t[0]],a=1,l=0,c=t.length;a<c;a++)ao(t[a],t[l])>i&&(o.push(t[a]),l=a);return l<c-1&&o.push(t[c-1]),o}var Ri;function Ui(t,i,o,a,l){var c=a?Ri:St(t,o),d=St(i,o),m,v,x;for(Ri=d;;){if(!(c|d))return[t,i];if(c&d)return!1;m=c||d,v=ce(t,i,m,o,l),x=St(v,o),m===c?(t=v,c=x):(i=v,d=x)}}function ce(t,i,o,a,l){var c=i.x-t.x,d=i.y-t.y,m=a.min,v=a.max,x,w;return o&8?(x=t.x+c*(v.y-t.y)/d,w=v.y):o&4?(x=t.x+c*(m.y-t.y)/d,w=m.y):o&2?(x=v.x,w=t.y+d*(v.x-t.x)/c):o&1&&(x=m.x,w=t.y+d*(m.x-t.x)/c),new E(x,w,l)}function St(t,i){var o=0;return t.x<i.min.x?o|=1:t.x>i.max.x&&(o|=2),t.y<i.min.y?o|=4:t.y>i.max.y&&(o|=8),o}function ao(t,i){var o=i.x-t.x,a=i.y-t.y;return o*o+a*a}function Qt(t,i,o,a){var l=i.x,c=i.y,d=o.x-l,m=o.y-c,v=d*d+m*m,x;return v>0&&(x=((t.x-l)*d+(t.y-c)*m)/v,x>1?(l=o.x,c=o.y):x>0&&(l+=d*x,c+=m*x)),d=t.x-l,m=t.y-c,a?d*d+m*m:new E(l,c)}function pt(t){return!C(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]!="undefined"}function Wi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pt(t)}var ho={__proto__:null,simplify:Zi,pointToSegmentDistance:Ni,closestPointOnSegment:oo,clipSegment:Ui,_getEdgeIntersection:ce,_getBitCode:St,_sqClosestPointOnSegment:Qt,isFlat:pt,_flat:Wi};function Hi(t,i,o){var a,l=[1,4,2,8],c,d,m,v,x,w,z,O;for(c=0,w=t.length;c<w;c++)t[c]._code=St(t[c],i);for(m=0;m<4;m++){for(z=l[m],a=[],c=0,w=t.length,d=w-1;c<w;d=c++)v=t[c],x=t[d],v._code&z?x._code&z||(O=ce(x,v,z,i,o),O._code=St(O,i),a.push(O)):(x._code&z&&(O=ce(x,v,z,i,o),O._code=St(O,i),a.push(O)),a.push(v));t=a}return t}var lo={__proto__:null,clipPolygon:Hi},je={project:function(t){return new E(t.lng,t.lat)},unproject:function(t){return new U(t.y,t.x)},bounds:new F([-180,-90],[180,90])},Ye={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,o=this.R,a=t.lat*i,l=this.R_MINOR/o,c=Math.sqrt(1-l*l),d=c*Math.sin(a),m=Math.tan(Math.PI/4-a/2)/Math.pow((1-d)/(1+d),c/2);return a=-o*Math.log(Math.max(m,1e-10)),new E(t.lng*i*o,a)},unproject:function(t){for(var i=180/Math.PI,o=this.R,a=this.R_MINOR/o,l=Math.sqrt(1-a*a),c=Math.exp(-t.y/o),d=Math.PI/2-2*Math.atan(c),m=0,v=.1,x;m<15&&Math.abs(v)>1e-7;m++)x=l*Math.sin(d),x=Math.pow((1-x)/(1+x),l/2),v=Math.PI/2-2*Math.atan(c*x)-d,d+=v;return new U(d*i,t.x*i/o)}},uo={__proto__:null,LonLat:je,Mercator:Ye,SphericalMercator:we},co=N({},xt,{code:"EPSG:3395",projection:Ye,transformation:function(){var t=.5/(Math.PI*Ye.R);return Ft(t,.5,-t,.5)}()}),Fi=N({},xt,{code:"EPSG:4326",projection:je,transformation:Ft(1/180,1,-1/180,.5)}),fo=N({},_t,{projection:je,transformation:Ft(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var o=i.lng-t.lng,a=i.lat-t.lat;return Math.sqrt(o*o+a*a)},infinite:!0});_t.Earth=xt,_t.EPSG3395=co,_t.EPSG3857=Te,_t.EPSG900913=Pn,_t.EPSG4326=Fi,_t.Simple=fo;var ht=Ht.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[e(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[e(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(!!i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var o=this.getEvents();i.on(o,this),this.once("remove",function(){i.off(o,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});I.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=e(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=e(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return e(t)in this._layers},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},_addLayers:function(t){t=t?C(t)?t:[t]:[];for(var i=0,o=t.length;i<o;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[e(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=e(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,o=this._getZoomSpan();for(var a in this._zoomBoundLayers){var l=this._zoomBoundLayers[a].options;t=l.minZoom===void 0?t:Math.min(t,l.minZoom),i=l.maxZoom===void 0?i:Math.max(i,l.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ot=ht.extend({initialize:function(t,i){p(this,i),this._layers={};var o,a;if(t)for(o=0,a=t.length;o<a;o++)this.addLayer(t[o])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),o,a;for(o in this._layers)a=this._layers[o],a[t]&&a[t].apply(a,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var o in this._layers)t.call(i,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return e(t)}}),_o=function(t,i){return new Ot(t,i)},Bt=Ot.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ot.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ot.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new tt;for(var i in this._layers){var o=this._layers[i];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),po=function(t,i){return new Bt(t,i)},Zt=dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var a=this._createImg(o,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(a,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),a},_setIconStyles:function(t,i){var o=this.options,a=o[i+"Size"];typeof a=="number"&&(a=[a,a]);var l=D(a),c=D(i==="shadow"&&o.shadowAnchor||o.iconAnchor||l&&l.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(o.className||""),c&&(t.style.marginLeft=-c.x+"px",t.style.marginTop=-c.y+"px"),l&&(t.style.width=l.x+"px",t.style.height=l.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return T.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function mo(t){return new Zt(t)}var $t=Zt.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof $t.imagePath!="string"&&($t.imagePath=this._detectIconPath()),(this.options.imagePath||$t.imagePath)+Zt.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(o,a,l){var c=a.exec(o);return c&&c[l]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Z("div","leaflet-default-icon-path",document.body),i=qt(t,"background-image")||qt(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Gi=ct.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Lt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),k(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&q(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,o=i._map,a=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,c=Mt(i._icon),d=o.getPixelBounds(),m=o.getPixelOrigin(),v=rt(d.min._subtract(m).add(l),d.max._subtract(m).subtract(l));if(!v.contains(c)){var x=D((Math.max(v.max.x,c.x)-v.max.x)/(d.max.x-v.max.x)-(Math.min(v.min.x,c.x)-v.min.x)/(d.min.x-v.min.x),(Math.max(v.max.y,c.y)-v.max.y)/(d.max.y-v.max.y)-(Math.min(v.min.y,c.y)-v.min.y)/(d.min.y-v.min.y)).multiplyBy(a);o.panBy(x,{animate:!1}),this._draggable._newPos._add(x),this._draggable._startPos._add(x),J(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=Y(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(ot(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,o=i._shadow,a=Mt(i._icon),l=i._map.layerPointToLatLng(a);o&&J(o,a),i._latlng=l,t.latlng=l,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){ot(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),fe=ht.extend({options:{icon:new $t,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){p(this,i),this._latlng=G(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=G(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),a=!1;o!==this._icon&&(this._icon&&this._removeIcon(),a=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),k(o,i),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&S(o,"focus",this._panOnFocus,this);var l=t.icon.createShadow(this._shadow),c=!1;l!==this._shadow&&(this._removeShadow(),c=!0),l&&(k(l,i),l.alt=""),this._shadow=l,t.opacity<1&&this._updateOpacity(),a&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&c&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&W(this._icon,"focus",this._panOnFocus,this),V(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&V(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&J(this._icon,t),this._shadow&&J(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(!!this.options.interactive&&(k(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Gi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Gi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&st(this._icon,t),this._shadow&&st(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(!!t){var i=this.options.icon.options,o=i.iconSize?D(i.iconSize):D(0,0),a=i.iconAnchor?D(i.iconAnchor):D(0,0);t.panInside(this._latlng,{paddingTopLeft:a,paddingBottomRight:o.subtract(a)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function go(t,i){return new fe(t,i)}var wt=ht.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),de=wt.extend({options:{fill:!0,radius:10},initialize:function(t,i){p(this,i),this._latlng=G(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=G(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return wt.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,o=this._clickTolerance(),a=[t+o,i+o];this._pxBounds=new F(this._point.subtract(a),this._point.add(a))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function vo(t,i){return new de(t,i)}var Xe=de.extend({initialize:function(t,i,o){if(typeof i=="number"&&(i=N({},o,{radius:i})),p(this,i),this._latlng=G(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new tt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:wt.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,o=this._map,a=o.options.crs;if(a.distance===xt.distance){var l=Math.PI/180,c=this._mRadius/xt.R/l,d=o.project([i+c,t]),m=o.project([i-c,t]),v=d.add(m).divideBy(2),x=o.unproject(v).lat,w=Math.acos((Math.cos(c*l)-Math.sin(i*l)*Math.sin(x*l))/(Math.cos(i*l)*Math.cos(x*l)))/l;(isNaN(w)||w===0)&&(w=c/Math.cos(Math.PI/180*i)),this._point=v.subtract(o.getPixelOrigin()),this._radius=isNaN(w)?0:v.x-o.project([x,t-w]).x,this._radiusY=v.y-d.y}else{var z=a.unproject(a.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(z).x}this._updateBounds()}});function yo(t,i,o){return new Xe(t,i,o)}var mt=wt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){p(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,o=null,a=Qt,l,c,d=0,m=this._parts.length;d<m;d++)for(var v=this._parts[d],x=1,w=v.length;x<w;x++){l=v[x-1],c=v[x];var z=a(t,l,c,!0);z<i&&(i=z,o=a(t,l,c))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,o,a,l,c,d,m=this._rings[0],v=m.length;if(!v)return null;for(t=0,i=0;t<v-1;t++)i+=m[t].distanceTo(m[t+1])/2;if(i===0)return this._map.layerPointToLatLng(m[0]);for(t=0,a=0;t<v-1;t++)if(l=m[t],c=m[t+1],o=l.distanceTo(c),a+=o,a>i)return d=(a-i)/o,this._map.layerPointToLatLng([c.x-d*(c.x-l.x),c.y-d*(c.y-l.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=G(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new tt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return pt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],o=pt(t),a=0,l=t.length;a<l;a++)o?(i[a]=G(t[a]),this._bounds.extend(i[a])):i[a]=this._convertLatLngs(t[a]);return i},_project:function(){var t=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new E(t,t);!this._rawPxBounds||(this._pxBounds=new F([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,o){var a=t[0]instanceof U,l=t.length,c,d;if(a){for(d=[],c=0;c<l;c++)d[c]=this._map.latLngToLayerPoint(t[c]),o.extend(d[c]);i.push(d)}else for(c=0;c<l;c++)this._projectLatlngs(t[c],i,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,o,a,l,c,d,m,v;for(o=0,l=0,c=this._rings.length;o<c;o++)for(v=this._rings[o],a=0,d=v.length;a<d-1;a++)m=Ui(v[a],v[a+1],t,a,!0),m&&(i[l]=i[l]||[],i[l].push(m[0]),(m[1]!==v[a+1]||a===d-2)&&(i[l].push(m[1]),l++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,o=0,a=t.length;o<a;o++)t[o]=Zi(t[o],i)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var o,a,l,c,d,m,v=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,c=this._parts.length;o<c;o++)for(m=this._parts[o],a=0,d=m.length,l=d-1;a<d;l=a++)if(!(!i&&a===0)&&Ni(t,m[l],m[a])<=v)return!0;return!1}});function Po(t,i){return new mt(t,i)}mt._flat=Wi;var Nt=mt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,i,o,a,l,c,d,m,v,x=this._rings[0],w=x.length;if(!w)return null;for(c=d=m=0,t=0,i=w-1;t<w;i=t++)o=x[t],a=x[i],l=o.y*a.x-a.y*o.x,d+=(o.x+a.x)*l,m+=(o.y+a.y)*l,c+=l*3;return c===0?v=x[0]:v=[d/c,m/c],this._map.layerPointToLatLng(v)},_convertLatLngs:function(t){var i=mt.prototype._convertLatLngs.call(this,t),o=i.length;return o>=2&&i[0]instanceof U&&i[0].equals(i[o-1])&&i.pop(),i},_setLatLngs:function(t){mt.prototype._setLatLngs.call(this,t),pt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,o=new E(i,i);if(t=new F(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var a=0,l=this._rings.length,c;a<l;a++)c=Hi(this._rings[a],t,!0),c.length&&this._parts.push(c)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,o,a,l,c,d,m,v,x;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,v=this._parts.length;c<v;c++)for(o=this._parts[c],d=0,x=o.length,m=x-1;d<x;m=d++)a=o[d],l=o[m],a.y>t.y!=l.y>t.y&&t.x<(l.x-a.x)*(t.y-a.y)/(l.y-a.y)+a.x&&(i=!i);return i||mt.prototype._containsPoint.call(this,t,!0)}});function xo(t,i){return new Nt(t,i)}var gt=Bt.extend({initialize:function(t,i){p(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=C(t)?t:t.features,o,a,l;if(i){for(o=0,a=i.length;o<a;o++)l=i[o],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var c=this.options;if(c.filter&&!c.filter(t))return this;var d=Qe(t,c);return d?(d.feature=me(t),d.defaultOptions=d.options,this.resetStyle(d),c.onEachFeature&&c.onEachFeature(t,d),this.addLayer(d)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=N({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Qe(t,i){var o=t.type==="Feature"?t.geometry:t,a=o?o.coordinates:null,l=[],c=i&&i.pointToLayer,d=i&&i.coordsToLatLng||$e,m,v,x,w;if(!a&&!o)return null;switch(o.type){case"Point":return m=d(a),Vi(c,t,m,i);case"MultiPoint":for(x=0,w=a.length;x<w;x++)m=d(a[x]),l.push(Vi(c,t,m,i));return new Bt(l);case"LineString":case"MultiLineString":return v=_e(a,o.type==="LineString"?0:1,d),new mt(v,i);case"Polygon":case"MultiPolygon":return v=_e(a,o.type==="Polygon"?1:2,d),new Nt(v,i);case"GeometryCollection":for(x=0,w=o.geometries.length;x<w;x++){var z=Qe({geometry:o.geometries[x],type:"Feature",properties:t.properties},i);z&&l.push(z)}return new Bt(l);default:throw new Error("Invalid GeoJSON object.")}}function Vi(t,i,o,a){return t?t(i,o):new fe(o,a&&a.markersInheritOptions&&a)}function $e(t){return new U(t[1],t[0],t[2])}function _e(t,i,o){for(var a=[],l=0,c=t.length,d;l<c;l++)d=i?_e(t[l],i-1,o):(o||$e)(t[l]),a.push(d);return a}function ti(t,i){return t=G(t),t.alt!==void 0?[u(t.lng,i),u(t.lat,i),u(t.alt,i)]:[u(t.lng,i),u(t.lat,i)]}function pe(t,i,o,a){for(var l=[],c=0,d=t.length;c<d;c++)l.push(i?pe(t[c],i-1,o,a):ti(t[c],a));return!i&&o&&l.push(l[0]),l}function Rt(t,i){return t.feature?N({},t.feature,{geometry:i}):me(i)}function me(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ei={toGeoJSON:function(t){return Rt(this,{type:"Point",coordinates:ti(this.getLatLng(),t)})}};fe.include(ei),Xe.include(ei),de.include(ei),mt.include({toGeoJSON:function(t){var i=!pt(this._latlngs),o=pe(this._latlngs,i?1:0,!1,t);return Rt(this,{type:(i?"Multi":"")+"LineString",coordinates:o})}}),Nt.include({toGeoJSON:function(t){var i=!pt(this._latlngs),o=i&&!pt(this._latlngs[0]),a=pe(this._latlngs,o?2:i?1:0,!0,t);return i||(a=[a]),Rt(this,{type:(o?"Multi":"")+"Polygon",coordinates:a})}}),Ot.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(o){i.push(o.toGeoJSON(t).geometry.coordinates)}),Rt(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var o=i==="GeometryCollection",a=[];return this.eachLayer(function(l){if(l.toGeoJSON){var c=l.toGeoJSON(t);if(o)a.push(c.geometry);else{var d=me(c);d.type==="FeatureCollection"?a.push.apply(a,d.features):a.push(d)}}}),o?Rt(this,{geometries:a,type:"GeometryCollection"}):{type:"FeatureCollection",features:a}}});function qi(t,i){return new gt(t,i)}var Lo=qi,ge=ht.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,o){this._url=t,this._bounds=j(i),p(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(k(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){V(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&At(this._image),this},bringToBack:function(){return this._map&&It(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=j(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Z("img");if(k(i,"leaflet-image-layer"),this._zoomAnimated&&k(i,"leaflet-zoom-animated"),this.options.className&&k(i,this.options.className),i.onselectstart=h,i.onmousemove=h,i.onload=B(this.fire,this,"load"),i.onerror=B(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Tt(this._image,o,i)},_reset:function(){var t=this._image,i=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=i.getSize();J(t,i.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){st(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),wo=function(t,i,o){return new ge(t,i,o)},Ji=ge.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Z("video");if(k(i,"leaflet-image-layer"),this._zoomAnimated&&k(i,"leaflet-zoom-animated"),this.options.className&&k(i,this.options.className),i.onselectstart=h,i.onmousemove=h,i.onloadeddata=B(this.fire,this,"load"),t){for(var o=i.getElementsByTagName("source"),a=[],l=0;l<o.length;l++)a.push(o[l].src);this._url=o.length>0?a:[i.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var c=0;c<this._url.length;c++){var d=Z("source");d.src=this._url[c],i.appendChild(d)}}});function bo(t,i,o){return new Ji(t,i,o)}var Ki=ge.extend({_initImage:function(){var t=this._image=this._url;k(t,"leaflet-image-layer"),this._zoomAnimated&&k(t,"leaflet-zoom-animated"),this.options.className&&k(t,this.options.className),t.onselectstart=h,t.onmousemove=h}});function To(t,i,o){return new Ki(t,i,o)}var ft=ht.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(t,i){p(this,t),this._source=i},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&st(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&st(this._container,1),this.bringToFront(),this.options.interactive&&(k(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(st(this._container,0),this._removeTimeout=setTimeout(B(V,void 0,this._container),200)):V(this._container),this.options.interactive&&(q(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=G(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&At(this._container),this},bringToBack:function(){return this._map&&It(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Bt){i=null;var o=this._source._layers;for(var a in o)if(o[a]._map){i=o[a];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=D(this.options.offset),o=this._getAnchor();this._zoomAnimated?J(this._container,t.add(o)):i=i.add(t).add(o);var a=this._containerBottom=-i.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=a+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});I.include({_initOverlay:function(t,i,o,a){var l=i;return l instanceof t||(l=new t(a).setContent(i)),o&&l.setLatLng(o),l}}),ht.include({_initOverlay:function(t,i,o,a){var l=o;return l instanceof t?(p(l,a),l._source=this):(l=i&&!a?i:new t(a,this),l.setContent(o)),l}});var ve=ft.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ft.prototype.openOn.call(this,t)},onAdd:function(t){ft.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wt||this._source.on("preclick",Et))},onRemove:function(t){ft.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wt||this._source.off("preclick",Et))},getEvents:function(){var t=ft.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Z("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=Z("div",t+"-content-wrapper",i);if(this._contentNode=Z("div",t+"-content",o),Yt(i),Ge(this._contentNode),S(i,"contextmenu",Et),this._tipContainer=Z("div",t+"-tip-container",i),this._tip=Z("div",t+"-tip",this._tipContainer),this.options.closeButton){var a=this._closeButton=Z("a",t+"-close-button",i);a.setAttribute("role","button"),a.setAttribute("aria-label","Close popup"),a.href="#close",a.innerHTML='<span aria-hidden="true">&#215;</span>',S(a,"click",this.close,this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),i.width=o+1+"px",i.whiteSpace="",i.height="";var a=t.offsetHeight,l=this.options.maxHeight,c="leaflet-popup-scrolled";l&&a>l?(i.height=l+"px",k(t,c)):q(t,c),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();J(this._container,i.add(o))},_adjustPan:function(t){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var i=this._map,o=parseInt(qt(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+o,l=this._containerWidth,c=new E(this._containerLeft,-a-this._containerBottom);c._add(Mt(this._container));var d=i.layerPointToContainerPoint(c),m=D(this.options.autoPanPadding),v=D(this.options.autoPanPaddingTopLeft||m),x=D(this.options.autoPanPaddingBottomRight||m),w=i.getSize(),z=0,O=0;d.x+l+x.x>w.x&&(z=d.x+l-w.x+x.x),d.x-z-v.x<0&&(z=d.x-v.x),d.y+a+x.y>w.y&&(O=d.y+a-w.y+x.y),d.y-O-v.y<0&&(O=d.y-v.y),(z||O)&&i.fire("autopanstart").panBy([z,O],{animate:t&&t.type==="moveend"})}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mo=function(t,i){return new ve(t,i)};I.mergeOptions({closePopupOnClick:!0}),I.include({openPopup:function(t,i,o){return this._initOverlay(ve,t,i,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),ht.include({bindPopup:function(t,i){return this._popup=this._initOverlay(ve,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&this._popup._prepareOpen(t)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ct(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof wt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ye=ft.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ft.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ft.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ft.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Z("div",i)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,o,a=this._map,l=this._container,c=a.latLngToContainerPoint(a.getCenter()),d=a.layerPointToContainerPoint(t),m=this.options.direction,v=l.offsetWidth,x=l.offsetHeight,w=D(this.options.offset),z=this._getAnchor();m==="top"?(i=v/2,o=x):m==="bottom"?(i=v/2,o=0):m==="center"?(i=v/2,o=x/2):m==="right"?(i=0,o=x/2):m==="left"?(i=v,o=x/2):d.x<c.x?(m="right",i=0,o=x/2):(m="left",i=v+(w.x+z.x)*2,o=x/2),t=t.subtract(D(i,o,!0)).add(w).add(z),q(l,"leaflet-tooltip-right"),q(l,"leaflet-tooltip-left"),q(l,"leaflet-tooltip-top"),q(l,"leaflet-tooltip-bottom"),k(l,"leaflet-tooltip-"+m),J(l,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&st(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Eo=function(t,i){return new ye(t,i)};I.include({openTooltip:function(t,i,o){return this._initOverlay(ye,t,i,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),ht.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ye,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[i](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&this._tooltip._prepareOpen(t)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0))},_moveTooltip:function(t){var i=t.latlng,o,a;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),a=this._map.containerPointToLayerPoint(o),i=this._map.layerPointToLatLng(a)),this._tooltip.setLatLng(i)}});var ji=Zt.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(re(i),i.appendChild(o.html)):i.innerHTML=o.html!==!1?o.html:"",o.bgPos){var a=D(o.bgPos);i.style.backgroundPosition=-a.x+"px "+-a.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function Co(t){return new ji(t)}Zt.Default=$t;var te=ht.extend({options:{tileSize:256,opacity:1,updateWhenIdle:T.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),V(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(At(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(It(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=n(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof E?t:new E(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,o=-t(-1/0,1/0),a=0,l=i.length,c;a<l;a++)c=i[a].style.zIndex,i[a]!==this._container&&c&&(o=t(o,+c));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!T.ielt9){st(this._container,this.options.opacity);var t=+new Date,i=!1,o=!1;for(var a in this._tiles){var l=this._tiles[a];if(!(!l.current||!l.loaded)){var c=Math.min(1,(t-l.loaded)/200);st(l.el,c),c<1?i=!0:(l.active?o=!0:this._onOpaqueTile(l),l.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),i&&(ot(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Z("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=i-Math.abs(t-o),this._onUpdateLevel(o)):(V(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var a=this._levels[t],l=this._map;return a||(a=this._levels[t]={},a.el=Z("div","leaflet-tile-container leaflet-zoom-animated",this._container),a.el.style.zIndex=i,a.origin=l.project(l.unproject(l.getPixelOrigin()),t).round(),a.zoom=t,this._setZoomTransform(a,l.getCenter(),l.getZoom()),h(a.el.offsetWidth),this._onCreateLevel(a)),this._level=a,a}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(!!this._map){var t,i,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var a=i.coords;this._retainParent(a.x,a.y,a.z,a.z-5)||this._retainChildren(a.x,a.y,a.z,a.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)V(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,o,a){var l=Math.floor(t/2),c=Math.floor(i/2),d=o-1,m=new E(+l,+c);m.z=+d;var v=this._tileCoordsToKey(m),x=this._tiles[v];return x&&x.active?(x.retain=!0,!0):(x&&x.loaded&&(x.retain=!0),d>a?this._retainParent(l,c,d,a):!1)},_retainChildren:function(t,i,o,a){for(var l=2*t;l<2*t+2;l++)for(var c=2*i;c<2*i+2;c++){var d=new E(l,c);d.z=o+1;var m=this._tileCoordsToKey(d),v=this._tiles[m];if(v&&v.active){v.retain=!0;continue}else v&&v.loaded&&(v.retain=!0);o+1<a&&this._retainChildren(l,c,o+1,a)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,o,a){var l=Math.round(i);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var c=this.options.updateWhenZooming&&l!==this._tileZoom;(!a||c)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,i)},_setZoomTransform:function(t,i,o){var a=this._map.getZoomScale(o,t.zoom),l=t.origin.multiplyBy(a).subtract(this._map._getNewPixelOrigin(i,o)).round();T.any3d?Tt(t.el,l,a):J(t.el,l)},_resetGrid:function(){var t=this._map,i=t.options.crs,o=this._tileSize=this.getTileSize(),a=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],a).x/o.x),Math.ceil(t.project([0,i.wrapLng[1]],a).x/o.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],a).y/o.x),Math.ceil(t.project([i.wrapLat[1],0],a).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,o=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),a=i.getZoomScale(o,this._tileZoom),l=i.project(t,this._tileZoom).floor(),c=i.getSize().divideBy(a*2);return new F(l.subtract(c),l.add(c))},_update:function(t){var i=this._map;if(!!i){var o=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var a=this._getTiledPixelBounds(t),l=this._pxBoundsToTileRange(a),c=l.getCenter(),d=[],m=this.options.keepBuffer,v=new F(l.getBottomLeft().subtract([m,-m]),l.getTopRight().add([m,-m]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var x in this._tiles){var w=this._tiles[x].coords;(w.z!==this._tileZoom||!v.contains(new E(w.x,w.y)))&&(this._tiles[x].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var z=l.min.y;z<=l.max.y;z++)for(var O=l.min.x;O<=l.max.x;O++){var yt=new E(O,z);if(yt.z=this._tileZoom,!!this._isValidTile(yt)){var kt=this._tiles[this._tileCoordsToKey(yt)];kt?kt.current=!0:d.push(yt)}}if(d.sort(function(bt,ii){return bt.distanceTo(c)-ii.distanceTo(c)}),d.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xe=document.createDocumentFragment();for(O=0;O<d.length;O++)this._addTile(d[O],xe);this._level.el.appendChild(xe)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var o=this._globalTileRange;if(!i.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!i.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var a=this._tileCoordsToBounds(t);return j(this.options.bounds).overlaps(a)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,o=this.getTileSize(),a=t.scaleBy(o),l=a.add(o),c=i.unproject(a,t.z),d=i.unproject(l,t.z);return[c,d]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),o=new tt(i[0],i[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),o=new E(+i[0],+i[1]);return o.z=+i[2],o},_removeTile:function(t){var i=this._tiles[t];!i||(V(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){k(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=h,t.onmousemove=h,T.ielt9&&this.options.opacity<1&&st(t,this.options.opacity)},_addTile:function(t,i){var o=this._getTilePos(t),a=this._tileCoordsToKey(t),l=this.createTile(this._wrapCoords(t),B(this._tileReady,this,t));this._initTile(l),this.createTile.length<2&&Y(B(this._tileReady,this,t,null,l)),J(l,o),this._tiles[a]={el:l,coords:t,current:!0},i.appendChild(l),this.fire("tileloadstart",{tile:l,coords:t})},_tileReady:function(t,i,o){i&&this.fire("tileerror",{error:i,tile:o,coords:t});var a=this._tileCoordsToKey(t);o=this._tiles[a],o&&(o.loaded=+new Date,this._map._fadeAnimated?(st(o.el,0),ot(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),i||(k(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),T.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(B(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new E(this._wrapX?r(t.x,this._wrapX):t.x,this._wrapY?r(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new F(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function So(t){return new te(t)}var Ut=te.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=p(this,i),i.detectRetina&&T.retina&&i.maxZoom>0&&(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom++):(i.zoomOffset++,i.maxZoom--),i.minZoom=Math.max(0,i.minZoom)),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var o=document.createElement("img");return S(o,"load",B(this._tileOnLoad,this,i,o)),S(o,"error",B(this._tileOnError,this,i,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.setAttribute("role","presentation"),o.src=this.getTileUrl(t),o},getTileUrl:function(t){var i={r:T.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=o),i["-y"]=o}return b(this._url,N(i,this.options))},_tileOnLoad:function(t,i){T.ielt9?setTimeout(B(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,o){var a=this.options.errorTileUrl;a&&i.getAttribute("src")!==a&&(i.src=a),t(o,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,o=this.options.zoomReverse,a=this.options.zoomOffset;return o&&(t=i-t),t+a},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=h,i.onerror=h,!i.complete)){i.src=H;var o=this._tiles[t].coords;V(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:o})}},_removeTile:function(t){var i=this._tiles[t];if(!!i)return i.el.setAttribute("src",H),te.prototype._removeTile.call(this,t)},_tileReady:function(t,i,o){if(!(!this._map||o&&o.getAttribute("src")===H))return te.prototype._tileReady.call(this,t,i,o)}});function Yi(t,i){return new Ut(t,i)}var Xi=Ut.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var o=N({},this.defaultWmsParams);for(var a in i)a in this.options||(o[a]=i[a]);i=p(this,i);var l=i.detectRetina&&T.retina?2:1,c=this.getTileSize();o.width=c.x*l,o.height=c.y*l,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,Ut.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),o=this._crs,a=rt(o.project(i[0]),o.project(i[1])),l=a.min,c=a.max,d=(this._wmsVersion>=1.3&&this._crs===Fi?[l.y,l.x,c.y,c.x]:[l.x,l.y,c.x,c.y]).join(","),m=Ut.prototype.getTileUrl.call(this,t);return m+y(this.wmsParams,m,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+d},setParams:function(t,i){return N(this.wmsParams,t),i||this.redraw(),this}});function ko(t,i){return new Xi(t,i)}Ut.WMS=Xi,Yi.wms=ko;var vt=ht.extend({options:{padding:.1},initialize:function(t){p(this,t),e(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&k(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var o=this._map.getZoomScale(i,this._zoom),a=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,i),c=a.multiplyBy(-o).add(l).subtract(this._map._getNewPixelOrigin(t,i));T.any3d?Tt(this._container,c,o):J(this._container,c)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),o=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new F(o,o.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Qi=vt.extend({options:{tolerance:0},getEvents:function(){var t=vt.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){vt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");S(t,"mousemove",this._onMouseMove,this),S(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),S(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){ot(this._redrawRequest),delete this._ctx,V(this._container),W(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vt.prototype._update.call(this);var t=this._bounds,i=this._container,o=t.getSize(),a=T.retina?2:1;J(i,t.min),i.width=a*o.x,i.height=a*o.y,i.style.width=o.x+"px",i.style.height=o.y+"px",T.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){vt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[e(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,o=i.next,a=i.prev;o?o.prev=a:this._drawLast=a,a?a.next=o:this._drawFirst=o,delete t._order,delete this._layers[e(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),o=[],a,l;for(l=0;l<i.length;l++){if(a=Number(i[l]),isNaN(a))return;o.push(a)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){!this._map||(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var o=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var a=this._drawFirst;a;a=a.next)t=a.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(!!this._drawing){var o,a,l,c,d=t._parts,m=d.length,v=this._ctx;if(!!m){for(v.beginPath(),o=0;o<m;o++){for(a=0,l=d[o].length;a<l;a++)c=d[o][a],v[a?"lineTo":"moveTo"](c.x,c.y);i&&v.closePath()}this._fillStroke(v,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,o=this._ctx,a=Math.max(Math.round(t._radius),1),l=(Math.max(Math.round(t._radiusY),1)||a)/a;l!==1&&(o.save(),o.scale(1,l)),o.beginPath(),o.arc(i.x,i.y/l,a,0,Math.PI*2,!1),l!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,i){var o=i.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),o,a,l=this._drawFirst;l;l=l.next)o=l.layer,o.options.interactive&&o._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(a=o);this._fireEvent(a?[a]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(q(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var o,a,l=this._drawFirst;l;l=l.next)o=l.layer,o.options.interactive&&o._containsPoint(i)&&(a=o);a!==this._hoveredLayer&&(this._handleMouseOut(t),a&&(k(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseover"),this._hoveredLayer=a)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(B(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,o){this._map._fireDOMEvent(i,o||i.type,t)},_bringToFront:function(t){var i=t._order;if(!!i){var o=i.next,a=i.prev;if(o)o.prev=a;else return;a?a.next=o:o&&(this._drawFirst=o),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(!!i){var o=i.next,a=i.prev;if(a)a.next=o;else return;o?o.prev=a:a&&(this._drawLast=a),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function $i(t){return T.canvas?new Qi(t):null}var ee=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),zo={_initContainer:function(){this._container=Z("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(vt.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=ee("shape");k(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=ee("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[e(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;V(i),t.removeInteractiveTarget(i),delete this._layers[e(t)]},_updateStyle:function(t){var i=t._stroke,o=t._fill,a=t.options,l=t._container;l.stroked=!!a.stroke,l.filled=!!a.fill,a.stroke?(i||(i=t._stroke=ee("stroke")),l.appendChild(i),i.weight=a.weight+"px",i.color=a.color,i.opacity=a.opacity,a.dashArray?i.dashStyle=C(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=a.lineCap.replace("butt","flat"),i.joinstyle=a.lineJoin):i&&(l.removeChild(i),t._stroke=null),a.fill?(o||(o=t._fill=ee("fill")),l.appendChild(o),o.color=a.fillColor||a.color,o.opacity=a.fillOpacity):o&&(l.removeChild(o),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),o=Math.round(t._radius),a=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+o+","+a+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){At(t._container)},_bringToBack:function(t){It(t._container)}},Pe=T.vml?ee:ri,ie=vt.extend({_initContainer:function(){this._container=Pe("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Pe("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){V(this._container),W(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){vt.prototype._update.call(this);var t=this._bounds,i=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,o.setAttribute("width",i.x),o.setAttribute("height",i.y)),J(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=Pe("path");t.options.className&&k(i,t.options.className),t.options.interactive&&k(i,"leaflet-interactive"),this._updateStyle(t),this._layers[e(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){V(t._path),t.removeInteractiveTarget(t._path),delete this._layers[e(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,o=t.options;!i||(o.stroke?(i.setAttribute("stroke",o.color),i.setAttribute("stroke-opacity",o.opacity),i.setAttribute("stroke-width",o.weight),i.setAttribute("stroke-linecap",o.lineCap),i.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?i.setAttribute("stroke-dasharray",o.dashArray):i.removeAttribute("stroke-dasharray"),o.dashOffset?i.setAttribute("stroke-dashoffset",o.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),o.fill?(i.setAttribute("fill",o.fillColor||o.color),i.setAttribute("fill-opacity",o.fillOpacity),i.setAttribute("fill-rule",o.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,ai(t._parts,i))},_updateCircle:function(t){var i=t._point,o=Math.max(Math.round(t._radius),1),a=Math.max(Math.round(t._radiusY),1)||o,l="a"+o+","+a+" 0 1,0 ",c=t._empty()?"M0 0":"M"+(i.x-o)+","+i.y+l+o*2+",0 "+l+-o*2+",0 ";this._setPath(t,c)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){At(t._path)},_bringToBack:function(t){It(t._path)}});T.vml&&ie.include(zo);function tn(t){return T.svg||T.vml?new ie(t):null}I.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&$i(t)||tn(t)}});var en=Nt.extend({initialize:function(t,i){Nt.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=j(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Do(t,i){return new en(t,i)}ie.create=Pe,ie.pointsToPath=ai,gt.geometryToLayer=Qe,gt.coordsToLatLng=$e,gt.coordsToLatLngs=_e,gt.latLngToCoords=ti,gt.latLngsToCoords=pe,gt.getFeature=Rt,gt.asFeature=me,I.mergeOptions({boxZoom:!0});var nn=ct.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){S(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){W(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){V(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Jt(),Be(),this._startPoint=this._map.mouseEventToContainerPoint(t),S(document,{contextmenu:Ct,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Z("div","leaflet-zoom-box",this._container),k(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new F(this._point,this._startPoint),o=i.getSize();J(this._box,i.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(V(this._box),q(this._container,"leaflet-crosshair")),Kt(),Ze(),W(document,{contextmenu:Ct,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(B(this._resetState,this),0);var i=new tt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});I.addInitHook("addHandler","boxZoom",nn),I.mergeOptions({doubleClickZoom:!0});var on=ct.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,o=i.getZoom(),a=i.options.zoomDelta,l=t.originalEvent.shiftKey?o-a:o+a;i.options.doubleClickZoom==="center"?i.setZoom(l):i.setZoomAround(t.containerPoint,l)}});I.addInitHook("addHandler","doubleClickZoom",on),I.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sn=ct.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Lt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}k(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){q(this._map._container,"leaflet-grab"),q(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=j(this._map.options.maxBounds);this._offsetLimit=rt(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),o=this._initialWorldOffset,a=this._draggable._newPos.x,l=(a-i+o)%t+i-o,c=(a+i+o)%t-i-o,d=Math.abs(l+o)<Math.abs(c+o)?l:c;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=d},_onDragEnd:function(t){var i=this._map,o=i.options,a=!o.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),a)i.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),c=(this._lastTime-this._times[0])/1e3,d=o.easeLinearity,m=l.multiplyBy(d/c),v=m.distanceTo([0,0]),x=Math.min(o.inertiaMaxSpeed,v),w=m.multiplyBy(x/v),z=x/(o.inertiaDeceleration*d),O=w.multiplyBy(-z/2).round();!O.x&&!O.y?i.fire("moveend"):(O=i._limitOffset(O,i.options.maxBounds),Y(function(){i.panBy(O,{duration:z,easeLinearity:d,noMoveStart:!0,animate:!0})}))}}});I.addInitHook("addHandler","dragging",sn),I.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rn=ct.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),S(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),W(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,o=t.scrollTop||i.scrollTop,a=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(a,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},o=this.keyCodes,a,l;for(a=0,l=o.left.length;a<l;a++)i[o.left[a]]=[-1*t,0];for(a=0,l=o.right.length;a<l;a++)i[o.right[a]]=[t,0];for(a=0,l=o.down.length;a<l;a++)i[o.down[a]]=[0,t];for(a=0,l=o.up.length;a<l;a++)i[o.up[a]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},o=this.keyCodes,a,l;for(a=0,l=o.zoomIn.length;a<l;a++)i[o.zoomIn[a]]=t;for(a=0,l=o.zoomOut.length;a<l;a++)i[o.zoomOut[a]]=-t},_addHooks:function(){S(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){W(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,o=this._map,a;if(i in this._panKeys)(!o._panAnim||!o._panAnim._inProgress)&&(a=this._panKeys[i],t.shiftKey&&(a=D(a).multiplyBy(3)),o.panBy(a),o.options.maxBounds&&o.panInsideBounds(o.options.maxBounds));else if(i in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Ct(t)}}});I.addInitHook("addHandler","keyboard",rn),I.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var an=ct.extend({addHooks:function(){S(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){W(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=Di(t),o=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var a=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(B(this._performZoom,this),a),Ct(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var a=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(a))))/Math.LN2,c=o?Math.ceil(l/o)*o:l,d=t._limitZoom(i+(this._delta>0?c:-c))-i;this._delta=0,this._startTime=null,d&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+d):t.setZoomAround(this._lastMousePos,i+d))}});I.addInitHook("addHandler","scrollWheelZoom",an);var Ao=600;I.mergeOptions({tapHold:T.touchNative&&T.safari&&T.mobile,tapTolerance:15});var hn=ct.extend({addHooks:function(){S(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){W(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new E(i.clientX,i.clientY),this._holdTimeout=setTimeout(B(function(){this._cancel(),this._isTapValid()&&(S(document,"touchend",X),S(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Ao),S(document,"touchend touchcancel contextmenu",this._cancel,this),S(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){W(document,"touchend",X),W(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),W(document,"touchend touchcancel contextmenu",this._cancel,this),W(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new E(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});o._simulated=!0,i.target.dispatchEvent(o)}});I.addInitHook("addHandler","tapHold",hn),I.mergeOptions({touchZoom:T.touch,bounceAtZoomLimits:!0});var ln=ct.extend({addHooks:function(){k(this._map._container,"leaflet-touch-zoom"),S(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){q(this._map._container,"leaflet-touch-zoom"),W(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var o=i.mouseEventToContainerPoint(t.touches[0]),a=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(o.add(a)._divideBy(2))),this._startDist=o.distanceTo(a),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),S(document,"touchmove",this._onTouchMove,this),S(document,"touchend touchcancel",this._onTouchEnd,this),X(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,o=i.mouseEventToContainerPoint(t.touches[0]),a=i.mouseEventToContainerPoint(t.touches[1]),l=o.distanceTo(a)/this._startDist;if(this._zoom=i.getScaleZoom(l,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&l<1||this._zoom>i.getMaxZoom()&&l>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var c=o._add(a)._divideBy(2)._subtract(this._centerPoint);if(l===1&&c.x===0&&c.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(c),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),ot(this._animRequest);var d=B(i._move,i,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Y(d,this,!0),X(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ot(this._animRequest),W(document,"touchmove",this._onTouchMove,this),W(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});I.addInitHook("addHandler","touchZoom",ln),I.BoxZoom=nn,I.DoubleClickZoom=on,I.Drag=sn,I.Keyboard=rn,I.ScrollWheelZoom=an,I.TapHold=hn,I.TouchZoom=ln,g.Bounds=F,g.Browser=T,g.CRS=_t,g.Canvas=Qi,g.Circle=Xe,g.CircleMarker=de,g.Class=dt,g.Control=at,g.DivIcon=ji,g.DivOverlay=ft,g.DomEvent=Yn,g.DomUtil=Kn,g.Draggable=Lt,g.Evented=Ht,g.FeatureGroup=Bt,g.GeoJSON=gt,g.GridLayer=te,g.Handler=ct,g.Icon=Zt,g.ImageOverlay=ge,g.LatLng=U,g.LatLngBounds=tt,g.Layer=ht,g.LayerGroup=Ot,g.LineUtil=ho,g.Map=I,g.Marker=fe,g.Mixin=no,g.Path=wt,g.Point=E,g.PolyUtil=lo,g.Polygon=Nt,g.Polyline=mt,g.Popup=ve,g.PosAnimation=Ai,g.Projection=uo,g.Rectangle=en,g.Renderer=vt,g.SVG=ie,g.SVGOverlay=Ki,g.TileLayer=Ut,g.Tooltip=ye,g.Transformation=be,g.Util=vn,g.VideoOverlay=Ji,g.bind=B,g.bounds=rt,g.canvas=$i,g.circle=yo,g.circleMarker=vo,g.control=Xt,g.divIcon=Co,g.extend=N,g.featureGroup=po,g.geoJSON=qi,g.geoJson=Lo,g.gridLayer=So,g.icon=mo,g.imageOverlay=wo,g.latLng=G,g.latLngBounds=j,g.layerGroup=_o,g.map=Xn,g.marker=go,g.point=D,g.polygon=xo,g.polyline=Po,g.popup=Mo,g.rectangle=Do,g.setOptions=p,g.stamp=e,g.svg=tn,g.svgOverlay=To,g.tileLayer=Yi,g.tooltip=Eo,g.transformation=Ft,g.version=A,g.videoOverlay=bo;var Io=window.L;g.noConflict=function(){return window.L=Io,this},window.L=g})})(Wt,Wt.exports);const jo=pn({__name:"LeafletMap",setup(ne){Wt.exports.Icon.Default.imagePath="/vendor/leaflet/";const M=Go();return Vo(()=>{const g=Wt.exports.map(M.value).setView([51.505,-.09],13);Wt.exports.tileLayer("https://{s}.tile.osm.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}).addTo(g),Wt.exports.marker([51.5,-.09]).addTo(g).bindPopup("A pretty CSS3 popup.<br> Easily customizable.").openPopup()}),(g,A)=>(mn(),gn("div",{ref_key:"mapRef",ref:M,class:"leaflet-map fill-height"},null,512))}}),Yo={class:"leaflet-maps-page"},Xo={class:"row"},Qo={class:"flex md12 xs12"},ts=pn({__name:"LeafletMapsPage",setup(ne){return(M,g)=>{const A=qo("va-card");return mn(),gn("div",Yo,[dn("div",Xo,[dn("div",Qo,[_n(A,{class:"leaflet-maps-page__widget",title:"Leaflet Maps"},{default:Jo(()=>[_n(jo,{style:{height:"65vh"}})]),_:1})])])])}}});export{ts as default};
