import{_ as k,a as w,r as i,o as F,c as y,b as s,e as o,w as n,F as x,t as r,i as _,p as C,f as I}from"./index.4c600f0b.js";import{d as R}from"./debounce.17764379.js";import{l as S}from"./index.e2595807.js";const P={name:"StockFavorite",components:{},data(){const e=[],t="";return{loading:!1,items:e,columns:[{key:"id",sortable:!0},{key:"name",sortable:!0},{key:"balances",width:80},{key:"uncollected",width:80},{key:"created_at",width:80}],input:t,filter:t,isDebounceInput:!1,isCustomFilteringFn:!1,filteredCount:e.length,selectedItemsEmitted:[],listPrice:Array,serverParams:{name:""}}},methods:{formatRange(e){return e!=null?e.min+"-"+e.max:"\u041D\u0435 \u0437\u0430\u0434\u0430\u043D\u043E"},filterExact(e){var t;return this.filter===""?!0:((t=e==null?void 0:e.toString)==null?void 0:t.call(e))===this.filter},updateFilter(e){this.filter=e},debouncedUpdateFilter:R(function(e){this.updateFilter(e)},600),filterPrice:function(e){this.filter=e,this.input=e},fetchRows(){let e=this;this.loading=!0,w.request({method:"get",url:"/api/cryptocurrency/pools",params:this.serverParams,paramsSerializer:t=>S.stringify(t)}).then(t=>{e.items=t.data.pools,e.loading=!1}).catch(t=>{console.log(t),e.loading=!1})},resetInfoModal(){this.infoModal.title="",this.infoModal.content=""}},computed:{customFilteringFn(){return this.isCustomFilteringFn?this.filterExact:void 0}},watch:{input(e){this.isDebounceInput?this.debouncedUpdateFilter(e):this.updateFilter(e)}},created(){this.fetchRows()}},u=e=>(C("data-v-4aef7af0"),e=e(),I(),e),E={class:"row"},V={class:"flex xs12 sm6 md6"},N={class:"va-h2 ma-0"},B=u(()=>s("p",{class:"no-wrap"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u0437\u0430 \u0421\u0435\u0433\u043E\u0434\u043D\u044F",-1)),M={class:"flex xs12 sm6 md6"},U={class:"va-h2 ma-0"},D=u(()=>s("p",{class:"no-wrap"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u0437\u0430 \u041D\u0435\u0434\u0435\u043B\u044E",-1)),q={class:"flex xs12 sm6 md6"},z={class:"va-h2 ma-0"},A=u(()=>s("p",{class:"no-wrap"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043A\u0430 \u0437\u0430 \u041C\u0435\u0441\u044F\u0446",-1)),T={class:"grid md:grid-cols-2 gap-6 mb-6"},G={class:"row"},H={class:"col"},J=_(" \u0423\u0431\u0440\u0430\u0442\u044C \u0438\u0437 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0433\u043E "),K=["href"],L=["href"],Q=["href"],W=["href"],X=_(" Number of filtered items: ");function Y(e,t,m,Z,a,f){const c=i("va-card-content"),d=i("va-card"),h=i("va-input"),p=i("va-button"),v=i("va-data-table"),g=i("va-chip"),b=i("va-alert");return F(),y(x,null,[s("div",E,[s("div",V,[o(d,null,{default:n(()=>[o(c,null,{default:n(()=>[s("h2",N,r(e.today_open_orders),1),B]),_:1})]),_:1})]),s("div",M,[o(d,null,{default:n(()=>[o(c,null,{default:n(()=>[s("h2",U,r(e.week_open_orders),1),D]),_:1})]),_:1})]),s("div",q,[o(d,null,{default:n(()=>[o(c,null,{default:n(()=>[s("h2",z,r(e.month_open_orders),1),A]),_:1})]),_:1})])]),o(d,null,{default:n(()=>[o(c,null,{default:n(()=>[s("div",T,[o(h,{modelValue:a.input,"onUpdate:modelValue":t[0]||(t[0]=l=>a.input=l),placeholder:"Filter...",class:"w-full"},null,8,["modelValue"])]),s("div",G,[s("div",H,[o(p,{onClick:e.unfavorite},{default:n(()=>[J]),_:1},8,["onClick"])])]),o(v,{items:a.items,columns:a.columns,filter:a.filter,"filter-method":f.customFilteringFn,onFiltered:t[1]||(t[1]=l=>a.filteredCount=l.items.length),loading:a.loading,selectable:"","selected-color":"warning",onSelectionChange:t[2]||(t[2]=l=>a.selectedItemsEmitted=l.currentSelectedItems)},{"cell(name)":n(({rowData:l})=>[s("a",{class:"link",target:"_blank",href:"https://www.tinkoff.ru/invest/stocks/"+l.ticker},r(l.name),9,K)]),"cell(chart_1h)":n(({rowData:l})=>[s("a",{target:"_blank",class:"btn btn-primary",href:"chart-1h/"+l.id},"\u0413\u0440\u0430\u0444\u0438\u043A",8,L)]),"cell(chart_1d)":n(({rowData:l})=>[s("a",{target:"_blank",class:"btn btn-primary",href:"chart-1d/"+l.id},"\u0413\u0440\u0430\u0444\u0438\u043A",8,Q)]),"cell(pools_range)":n(({rowData:l})=>[s("span",null,r(f.formatRange(l.pools_range)),1)]),"cell(actions)":n(({rowData:l})=>[s("a",{target:"_blank",href:"edit/"+l.id},"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",8,W)]),_:1},8,["items","columns","filter","filter-method","loading"]),o(b,{class:"!mt-6",color:"info",outline:""},{default:n(()=>[X,o(g,null,{default:n(()=>[_(r(a.filteredCount),1)]),_:1})]),_:1})]),_:1})]),_:1})],64)}var ee=k(P,[["render",Y],["__scopeId","data-v-4aef7af0"]]);export{ee as default};
