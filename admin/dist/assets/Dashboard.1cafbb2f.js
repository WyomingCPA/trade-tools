import{_ as I,a as h,r as d,b as V,o as r,c as p,d as s,F as w,e as E,t as n,w as j,f as y,g as o,h as t,p as N,i as F,j as L,k as _,l as J}from"./index.c2d02297.js";const R={name:"mini-console",data(){return{timer:null,events:[]}},methods:{getConsoleEvent(){let e=this;this.loading=!0,h.get("/api/console/last-events-console").then(function(a){a.data.events.map(function(l,D){var g=e.events.some(function(x){return x.id===l.id});g||(console.log(l),e.events.unshift(l.values()))})}).catch(function(a){console.error(a)})}},mounted:function(){},beforeDestroy(){clearInterval(this.timer)}},M=e=>(N("data-v-23391180"),e=e(),F(),e),q={class:"list-wrapper"},O={class:"preview-list"},P={class:"preview-item-content d-flex flex-grow"},U={class:"flex-grow"},G={class:"d-sm-flex justify-content-between"},H={class:"d-flex"},K={class:"text-small"},Q={class:"text-small text-muted border-right pr-3"},W=M(()=>s("span",null," View ",-1)),X={class:"table-responsive"},Y={class:"table"},Z=M(()=>s("thead",null,[s("tr",null,[s("th",{scope:"col"},"Figi"),s("th",{scope:"col"},"RSI"),s("th",{scope:"col"},"RSI Strategy"),s("th",{scope:"col"},"MACD"),s("th",{scope:"col"},"Last Supertrend"),s("th",{scope:"col"},"SuperTrend Strategy"),s("th",{scope:"col"},"Time")])],-1)),ee={scope:"col"},te={scope:"col"},oe={scope:"col"},se={scope:"col"},ae={scope:"col"},le={scope:"col"},ue={scope:"col"};function ne(e,a,l,D,g,x){const v=d("b-button"),$=d("b-modal"),f=V("b-modal");return r(),p("div",q,[s("div",O,[(r(!0),p(w,null,E(g.events,c=>(r(),p("div",{class:"preview-item border-bottom py-3",key:c.id},[s("div",P,[s("div",U,[s("div",G,[s("div",H,[s("p",K,n(c.message),1),s("p",Q,n(c.created_at),1),j((r(),y(v,{type:"submit",variant:"success",class:"mr-2"},{default:o(()=>[W]),_:2},1024)),[[f,"modal-"+c.id]]),t($,{size:"lg",id:"modal-"+c.id,title:" Modal",busy:""},{default:o(()=>[s("div",X,[s("table",Y,[Z,s("tbody",null,[(r(!0),p(w,null,E(c.data,u=>(r(),p("tr",{key:u.id},[s("th",ee,n(u.figi),1),s("th",te,n(u.RSI),1),s("th",oe,n(u.rsi_strategy_info),1),s("th",se,n(u.MACD),1),s("th",ae,n(u.last_row_supertrend),1),s("th",le,n(u.supertend_strategy_info),1),s("th",ue,n(u.time),1)]))),128))])])])]),_:2},1032,["id"])])])])])]))),128))])])}var de=I(R,[["render",ne],["__scopeId","data-v-23391180"]]);const _e=L({components:{MiniConsole:de},data(){return{today_open_orders:{type:Number},week_open_orders:{type:Number},all_logs_count:{type:Number},month_open_orders:{type:Number},count_all_candles:{type:Number},candles_last_ago:{type:String},count_all_orders:{type:Number},orders_last_ago:{type:String},all_scripts:[{name:"super_trend_5min",updated_at:"21:45:35 8 January 2023",is_run:0},{name:"super_trend_5min",updated_at:"21:45:35 8 January 2023",is_run:1},{name:"super_trend_5min",updated_at:"21:45:35 8 January 2023",is_run:0}],dataUrl:{type:String},loading:!1,id_order:0,serverParams:{},items:[]}},methods:{async deleteAllLog(){let e=this;this.loading=!0,h.get("/sanctum/csrf-cookie").then(a=>{h.post("/api/dashboard/delete-all-logs",{}).then(l=>{l.status?(e.loading=!1,this.$vaToast.init("\u0410\u0440\u0445\u0438\u0432 \u043B\u043E\u0433\u043E\u0432 \u0443\u0434\u0430\u043B\u0435\u043D!"),this.fetchData()):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(l.status),e.loading=!1)}).catch(function(l){console.log(a),console.error(l)})})},async deleteAllCandles(){let e=this;this.loading=!0,h.get("/sanctum/csrf-cookie").then(a=>{h.post("/api/dashboard/delete-all-candles",{}).then(l=>{l.status?(e.loading=!1,this.fetchData()):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(l.status),e.loading=!1)}).catch(function(l){console.log(a),console.error(l)})})},async deleteAllOrders(){let e=this;this.loading=!0,h.get("/sanctum/csrf-cookie").then(a=>{h.post("/api/dashboard/delete-all-orders",{}).then(l=>{l.status?(e.loading=!1,this.fetchData()):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(l.status),e.loading=!1)}).catch(function(l){console.log(a),console.error(l)})})},fetchData(){let e=this;this.loading=!0,h.get("/api/dashboard/index").then(function(a){e.today_open_orders=a.data.today_open_orders,e.week_open_orders=a.data.week_open_orders,e.month_open_orders=a.data.month_open_orders,e.count_all_candles=a.data.count_all_candles,e.candles_last_ago=a.data.candles_last_ago,e.count_all_orders=a.data.count_all_orders,e.orders_last_ago=a.data.orders_last_ago,e.all_logs_count=a.data.all_logs_count,e.loading=!1,console.log(a.data.count_all_candles)}).catch(function(a){console.error(a)})},getStatusBadgeColor(e){return console.log(e),e=="empty"?"primary":e==1?"success":e==0?"danger":e=="nothing"?"info":""}},created(){this.fetchData()}}),B=e=>(N("data-v-3758c4de"),e=e(),F(),e),ce={class:"row row-equal"},re={class:"flex xl6 xs12 lg6"},ie={class:"col-md-4 grid-margin stretch-card"},he=_("Trade Log"),pe={class:"flex xl6 xs12 lg6"},fe={class:"col-md-4 grid-margin stretch-card"},me=_("\u0421\u0435\u0440\u0432\u0438\u0441"),ge=_(" \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F "),ve=_(" \u041E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0441\u0432\u0435\u0447\u0435\u0439 "),be=_(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 "),ye=_(" \u041E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u043E\u0440\u0434\u0435\u0440\u043E\u0432 "),we=_(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 "),xe=_(" \u041E\u0431\u0449\u0435\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E \u0437\u0430\u043F\u0438\u0441\u0435\u0439 \u043B\u043E\u0433\u0430 "),$e=_(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 "),ke={class:"row"},Ce={class:"flex xs12 sm6 md6"},Ee={class:"va-h2 ma-0"},Be=B(()=>s("p",{class:"no-wrap"},"\u0421\u0434\u0435\u043B\u043A\u0438 \u0417\u0430 \u0421\u0435\u0433\u043E\u0434\u043D\u044F",-1)),De={class:"flex xs12 sm6 md6"},Se={class:"va-h2 ma-0"},Ae=B(()=>s("p",{class:"no-wrap"},"\u0421\u0434\u0435\u043B\u043A\u0438 \u0417\u0430 \u041D\u0435\u0434\u0435\u043B\u044E",-1)),Ie={class:"flex xs12 sm6 md6"},Ne={class:"va-h2 ma-0"},Fe=B(()=>s("p",{class:"no-wrap"},"\u0421\u0434\u0435\u043B\u043A\u0438 \u0417\u0430 \u041C\u0435\u0441\u044F\u0446",-1));function Le(e,a,l,D,g,x){const v=d("va-card-title"),$=d("MiniConsole"),f=d("va-card-content"),c=d("va-card"),u=d("va-list-item-label"),i=d("va-list-item-section"),S=d("va-badge"),b=d("va-list-item"),A=d("va-list"),T=d("va-list-label"),k=d("va-icon"),C=d("va-button");return r(),p(w,null,[s("div",ce,[s("div",re,[s("div",ie,[t(c,null,{default:o(()=>[t(v,null,{default:o(()=>[he]),_:1}),t(f,null,{default:o(()=>[t($)]),_:1})]),_:1})])]),s("div",pe,[s("div",fe,[t(c,null,{default:o(()=>[t(v,null,{default:o(()=>[me]),_:1}),t(f,null,{default:o(()=>[t(A,null,{default:o(()=>[(r(!0),p(w,null,E(e.all_scripts,(m,z)=>(r(),y(b,{key:z,class:"list__item"},{default:o(()=>[t(i,null,{default:o(()=>[t(u,null,{default:o(()=>[_(n(m.name),1)]),_:2},1024),t(u,{caption:""},{default:o(()=>[_(" Last update "+n(m.updated_at),1)]),_:2},1024)]),_:2},1024),t(i,{icon:""},{default:o(()=>[m.is_run==1?(r(),y(S,{key:0,text:"\u0420\u0430\u0431\u043E\u0442\u0430\u0435\u0442",color:e.getStatusBadgeColor(m.is_run),class:"mr-2"},null,8,["color"])):(r(),y(S,{key:1,text:"\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442",color:e.getStatusBadgeColor(m.is_run),class:"mr-2"},null,8,["color"]))]),_:2},1024)]),_:2},1024))),128))]),_:1}),t(A,null,{default:o(()=>[t(T,null,{default:o(()=>[ge]),_:1}),t(b,{class:"list__item"},{default:o(()=>[t(i,null,{default:o(()=>[t(k,{size:44,name:"bar_chart_4_bars",color:"background-tertiary"})]),_:1}),t(i,null,{default:o(()=>[t(u,null,{default:o(()=>[ve]),_:1}),t(u,{caption:""},{default:o(()=>[_(n(e.count_all_candles),1)]),_:1})]),_:1}),t(i,{icon:""},{default:o(()=>[t(C,{onClick:e.deleteAllCandles,color:"danger",gradient:"",class:"mr-6 mb-2"},{default:o(()=>[be]),_:1},8,["onClick"])]),_:1})]),_:1}),t(b,{class:"list__item"},{default:o(()=>[t(i,null,{default:o(()=>[t(k,{size:44,name:"done",color:"background-tertiary"})]),_:1}),t(i,null,{default:o(()=>[t(u,null,{default:o(()=>[ye]),_:1}),t(u,{caption:""},{default:o(()=>[_(n(e.count_all_orders),1)]),_:1})]),_:1}),t(i,{icon:""},{default:o(()=>[t(C,{color:"danger",gradient:"",class:"mr-6 mb-2"},{default:o(()=>[we]),_:1})]),_:1})]),_:1}),t(b,{class:"list__item"},{default:o(()=>[t(i,null,{default:o(()=>[t(k,{size:44,name:"va-delete",color:"background-tertiary"})]),_:1}),t(i,null,{default:o(()=>[t(u,null,{default:o(()=>[xe]),_:1}),t(u,{caption:""},{default:o(()=>[_(n(e.all_logs_count),1)]),_:1})]),_:1}),t(i,{icon:""},{default:o(()=>[t(C,{onClick:e.deleteAllLog,color:"danger",gradient:"",class:"mr-6 mb-2"},{default:o(()=>[$e]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])])]),s("div",ke,[s("div",Ce,[t(c,null,{default:o(()=>[t(f,null,{default:o(()=>[s("h2",Ee,n(e.today_open_orders),1),Be]),_:1})]),_:1})]),s("div",De,[t(c,null,{default:o(()=>[t(f,null,{default:o(()=>[s("h2",Se,n(e.week_open_orders),1),Ae]),_:1})]),_:1})]),s("div",Ie,[t(c,null,{default:o(()=>[t(f,null,{default:o(()=>[s("h2",Ne,n(e.month_open_orders),1),Fe]),_:1})]),_:1})])])],64)}var Me=I(_e,[["render",Le],["__scopeId","data-v-3758c4de"]]);const Te={class:"dashboard"},Ve=L({__name:"Dashboard",setup(e){return J(),(a,l)=>(r(),p("div",Te,[t(Me)]))}});export{Ve as default};
