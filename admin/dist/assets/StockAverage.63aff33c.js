import{_ as f,a as d,r as i,o as v,h as y,w as n,e as s,b as u,i as h,t as _,p as C,f as w}from"./index.44e5e36f.js";import{l as M}from"./index.d846f680.js";const T={name:"stock-average-calculator",data(){return{countShares1:509,countShares2:50,countShares3:0,countShares4:0,countShares5:0,resultShares:0,purcharesPrice1:6.15,purcharesPrice2:6.09,purcharesPrice3:0,purcharesPrice4:0,purcharesPrice5:0,summPrice1:0,summPrice2:0,summPrice3:0,summPrice4:0,summPrice5:0,TotalShares:0,AverageCost:0,TotalSharesBought:0,TotalAmountBought:0,PercentPriceChange:0,columns:[{key:"id",sortable:!0},{key:"created_at",width:80},{key:"actions",width:80}],items:[]}},methods:{handleCalculate(o){o.preventDefault(),this.TotalSharesBought=this.countShares1+this.countShares2+this.countShares3+this.countShares4+this.countShares5,this.TotalAmountBought=this.countShares1*this.purcharesPrice1+this.countShares2*this.purcharesPrice2+this.countShares3*this.purcharesPrice3+this.countShares4*this.purcharesPrice4+this.countShares5*this.purcharesPrice5,this.AverageCost=(this.TotalAmountBought/this.TotalSharesBought).toFixed(2),this.summPrice1=this.countShares1*this.purcharesPrice1,this.summPrice2=this.countShares2*this.purcharesPrice2,this.summPrice3=this.countShares3*this.purcharesPrice3,this.summPrice4=this.countShares4*this.purcharesPrice4,this.summPrice5=this.countShares5*this.purcharesPrice5;let e=0;e=this.AverageCost-this.purcharesPrice1,this.PercentPriceChange=(e/this.purcharesPrice1*100).toFixed(2),this.create(),console.log(e)},formatJsonDataTable(o){const e=JSON.parse(o);console.log(e);var a="<tr><td>"+e.countShares1+"</td><td>"+e.purcharesPrice1.toFixed(2)+"</td><td>"+e.summPrice1.toFixed(2)+"</td></tr>",p="<tr><td>"+e.countShares2+"</td><td>"+e.purcharesPrice2.toFixed(2)+"</td><td>"+e.summPrice2.toFixed(2)+"</td></tr>",t="<tr><td>"+e.countShares3+"</td><td>"+e.purcharesPrice3.toFixed(2)+"</td><td>"+e.summPrice3.toFixed(2)+"</td></tr>",c="<tr><td>"+e.countShares4+"</td><td>"+e.purcharesPrice4.toFixed(2)+"</td><td>"+e.summPrice4.toFixed(2)+"</td></tr>",m="<tr><td>"+e.countShares5+"</td><td>"+e.purcharesPrice5.toFixed(2)+"</td><td>"+e.summPrice5.toFixed(2)+"</td></tr>",l="<tr><td> Result: "+e.TotalSharesBought+"</td><td> Price Average Result: "+e.AverageCost+"</td><td> % different result: "+e.PercentPriceChange+"</td></tr>";return a+p+t+c+m+l},async create(){let o=this;d.get("/sanctum/csrf-cookie").then(e=>{d.post("/api/calculate/store",{type:"stock_average",countShares1:o.countShares1,countShares2:o.countShares2,countShares3:o.countShares3,countShares4:o.countShares4,countShares5:o.countShares5,resultShares:o.resultShares,purcharesPrice1:o.purcharesPrice1,purcharesPrice2:o.purcharesPrice2,purcharesPrice3:o.purcharesPrice3,purcharesPrice4:o.purcharesPrice4,purcharesPrice5:o.purcharesPrice5,summPrice1:o.summPrice1,summPrice2:o.summPrice2,summPrice3:o.summPrice3,summPrice4:o.summPrice4,summPrice5:o.summPrice5,TotalShares:o.TotalShares,AverageCost:o.AverageCost,TotalSharesBought:o.TotalSharesBought,TotalAmountBought:o.TotalAmountBought,PercentPriceChange:o.PercentPriceChange}).then(a=>{a.status?console.log("\u0412\u044B\u0437\u0432\u0430\u043B\u0438 \u0430\u043B\u0435\u0440\u0442"):(console.log("\u041D\u0435 \u0440\u0430\u0431\u043E\u0442\u0430\u0435\u0442"),console.log(a.status))}).catch(function(a){console.log(e),console.error(a)})})},fetchRows(){let o=this;this.loading=!0,d.request({method:"get",url:"/api/calculate/stock-average",params:this.serverParams,paramsSerializer:e=>M.stringify(e)}).then(e=>{o.items=e.data.calc_models,o.loading=!1}).catch(e=>{console.log(e),o.loading=!1})}},created(){this.fetchRows()}},A=o=>(C("data-v-00720980"),o=o(),w(),o),x=h("Stock Aim Average"),U={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end"},k={class:"flex-row"},B={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end"},F={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end"},R={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end"},D={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 items-end"},I=h(" \u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u0442\u044C "),N={class:"table"},H=A(()=>u("thead",null,[u("tr",null,[u("th",null,"\u041A\u043E\u043B-\u0432\u043E \u0430\u043A\u0446\u0438\u0439"),u("th",null,"\u0426\u0435\u043D\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"),u("th",null,"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438")])],-1)),J=["innerHTML"];function L(o,e,a,p,t,c){const m=i("va-card-title"),l=i("va-input"),P=i("va-button"),b=i("va-data-table"),S=i("va-card-content"),V=i("va-card");return v(),y(V,null,{default:n(()=>[s(m,null,{default:n(()=>[x]),_:1}),s(S,null,{default:n(()=>[u("div",U,[s(l,{modelValue:t.countShares1,"onUpdate:modelValue":e[0]||(e[0]=r=>t.countShares1=r),modelModifiers:{number:!0},type:"number",step:"any",label:"\u041A\u043E\u043B-\u0432\u043E \u0430\u043A\u0446\u0438\u0439"},null,8,["modelValue"]),s(l,{modelValue:t.purcharesPrice1,"onUpdate:modelValue":e[1]||(e[1]=r=>t.purcharesPrice1=r),modelModifiers:{number:!0},type:"number",step:"any",label:"\u0426\u0435\u043D\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"]),s(l,{modelValue:t.summPrice1,"onUpdate:modelValue":e[2]||(e[2]=r=>t.summPrice1=r),modelModifiers:{number:!0},type:"number",step:"any",label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"])]),u("div",k,[s(l,{modelValue:t.countShares2,"onUpdate:modelValue":e[3]||(e[3]=r=>t.countShares2=r),modelModifiers:{number:!0},type:"number",step:"any",label:"\u041A\u043E\u043B-\u0432\u043E \u0430\u043A\u0446\u0438\u0439",counter:""},null,8,["modelValue"]),s(l,{modelValue:t.purcharesPrice2,"onUpdate:modelValue":e[4]||(e[4]=r=>t.purcharesPrice2=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0426\u0435\u043D\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"]),s(l,{modelValue:t.summPrice2,"onUpdate:modelValue":e[5]||(e[5]=r=>t.summPrice2=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"])]),u("div",B,[s(l,{modelValue:t.countShares3,"onUpdate:modelValue":e[6]||(e[6]=r=>t.countShares3=r),modelModifiers:{number:!0},type:"number",step:"any",label:"\u041A\u043E\u043B-\u0432\u043E \u0430\u043A\u0446\u0438\u0439",counter:""},null,8,["modelValue"]),s(l,{modelValue:t.purcharesPrice3,"onUpdate:modelValue":e[7]||(e[7]=r=>t.purcharesPrice3=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0426\u0435\u043D\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"]),s(l,{modelValue:t.summPrice3,"onUpdate:modelValue":e[8]||(e[8]=r=>t.summPrice3=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"])]),u("div",F,[s(l,{modelValue:t.countShares4,"onUpdate:modelValue":e[9]||(e[9]=r=>t.countShares4=r),modelModifiers:{number:!0},type:"number",step:"any",label:"\u041A\u043E\u043B-\u0432\u043E \u0430\u043A\u0446\u0438\u0439",counter:""},null,8,["modelValue"]),s(l,{modelValue:t.purcharesPrice4,"onUpdate:modelValue":e[10]||(e[10]=r=>t.purcharesPrice4=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0426\u0435\u043D\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"]),s(l,{modelValue:t.summPrice4,"onUpdate:modelValue":e[11]||(e[11]=r=>t.summPrice4=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"])]),u("div",R,[s(l,{modelValue:t.countShares5,"onUpdate:modelValue":e[12]||(e[12]=r=>t.countShares5=r),modelModifiers:{number:!0},type:"number",step:"any",label:"\u041A\u043E\u043B-\u0432\u043E \u0430\u043A\u0446\u0438\u0439",counter:""},null,8,["modelValue"]),s(l,{modelValue:t.purcharesPrice5,"onUpdate:modelValue":e[13]||(e[13]=r=>t.purcharesPrice5=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0426\u0435\u043D\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"]),s(l,{modelValue:t.summPrice5,"onUpdate:modelValue":e[14]||(e[14]=r=>t.summPrice5=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"\u0421\u0443\u043C\u043C\u0430 \u043F\u043E\u043A\u0443\u043F\u043A\u0438"},null,8,["modelValue"])]),u("div",D,[s(l,{modelValue:t.TotalSharesBought,"onUpdate:modelValue":e[15]||(e[15]=r=>t.TotalSharesBought=r),modelModifiers:{number:!0},type:"number",step:"any",label:"Result:",counter:""},null,8,["modelValue"]),s(l,{modelValue:t.AverageCost,"onUpdate:modelValue":e[16]||(e[16]=r=>t.AverageCost=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"Price Average Result:"},null,8,["modelValue"]),s(l,{modelValue:t.PercentPriceChange,"onUpdate:modelValue":e[17]||(e[17]=r=>t.PercentPriceChange=r),modelModifiers:{number:!0},type:"number",step:"any",counter:"",label:"% different result:"},null,8,["modelValue"])]),s(P,{onClick:c.handleCalculate},{default:n(()=>[I]),_:1},8,["onClick"]),s(b,{items:t.items,columns:t.columns,onFiltered:e[18]||(e[18]=r=>o.filteredCount=r.items.length),loading:o.loading,selectable:"","selected-color":"warning"},{"cell(actions)":n(({row:r,isExpanded:g})=>[s(P,{onClick:O=>r.toggleRowDetails(),icon:g?"va-arrow-up":"va-arrow-down",preset:"secondary",class:"w-full"},{default:n(()=>[h(_(g?"Hide":"More info"),1)]),_:2},1032,["onClick","icon"])]),expandableRow:n(({rowData:r})=>[u("table",N,[H,u("tbody",{innerHTML:c.formatJsonDataTable(r.data)},null,8,J)])]),_:1},8,["items","columns","loading"])]),_:1})]),_:1})}var z=f(T,[["render",L],["__scopeId","data-v-00720980"]]);export{z as default};
