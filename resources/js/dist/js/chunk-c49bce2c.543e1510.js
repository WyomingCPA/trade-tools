(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c49bce2c"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),s=n("5899"),a="["+s+"]",r=RegExp("^"+a+a+"*"),i=RegExp(a+a+"*$"),c=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(r,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,n){var o=n("861d"),s=n("d2bb");e.exports=function(e,t,n){var a,r;return s&&"function"==typeof(a=t.constructor)&&a!==n&&o(r=a.prototype)&&r!==n.prototype&&s(e,r),e}},"8d68":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"alert alert-primary",attrs:{role:"alert"}},[e._v(" Запуск бота 5 мин"),n("code",[e._v(" nohup /var/www/trader/env/bin/python SuperTrend_MACD_TimeFrame_5min.py & ")]),n("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"success"},on:{click:e.startScriptSuperTrend5min}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v("Запустить")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v("Loading...")])])]),n("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"danger"},on:{click:e.stopScriptSuperTrend5min}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v("Остановить")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v("Loading...")])])]),n("br"),e._v(" Запуск бота 15 мин"),n("code",[e._v(" nohup /var/www/trader/env/bin/python SuperTrend_MACD_TimeFrame_15min.py & ")]),n("br"),e._v(" Запуск чекера стоп-ордеров"),n("code",[e._v(" nohup /var/www/trader/env/bin/python check_stop_order.py & ")]),n("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"success"},on:{click:e.startScriptCheckStopOrder}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[e._v("Запустить")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[e._v("Loading...")])])]),n("br"),e._v(" Проверка состояния процесса "),n("code",[e._v("ps -ef | grep python")])],1),n("vue-good-table",{attrs:{isLoading:e.loading,totalRows:e.count,theme:"nocturnal",columns:e.columns,rows:e.items,mode:"remote","sort-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,mode:"records",perPage:20,position:"top",perPageDropdown:null,dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"next",prevLabel:"prev",rowsPerPageLabel:"Rows per page",ofLabel:"of",pageLabel:"page",allLabel:"All",chunk:5},"select-options":{enabled:!0}},on:{"on-page-change":e.onPageChange,"on-per-page-change":e.onPerPageChange,"on-selected-rows-change":e.selectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(t){return["name"===t.column.field?n("span",[n("a",{attrs:{target:"_blank",href:"https://www.tinkoff.ru/invest/stocks/"+t.row.ticker}},[e._v(e._s(t.row.name))])]):"spot-order-count"===t.column.field?n("span",[n("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:"/orders/spot-orders/"+t.row.id}},[e._v(e._s(t.row["spot-order-count"]))])]):"stop-order-count"===t.column.field?n("span",[n("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:"/orders/stop-orders/"+t.row.id}},[e._v(e._s(t.row["stop-order-count"]))])]):"created_at"===t.column.field?n("span",[n("span",{on:{click:function(n){return e.getNote(t.row,t.row.id,n.target)}}},[e._v(" "+e._s(t.row.created_at))])]):"graph"===t.column.field?n("span",[n("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:"/orders/order-chart/"+t.row.id}},[e._v("View")])]):"status"===t.column.field?n("span",[n("span",{class:e.getStatusBadgeClass(t.row.status)},[e._v(" "+e._s(t.row.status)+" ")])]):e._e()]}}])},[n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{on:{click:e.successOrder}},[e._v("Успешная сделка")])]),n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{on:{click:e.failOrder}},[e._v("Неудачная сделка")])]),n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{on:{click:e.nothingOrder}},[e._v("Ничего")])]),n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{staticClass:"btn btn-danger",on:{click:e.deleteOrder}},[e._v("Delete")])])]),n("b-modal",{ref:"my-modal",attrs:{id:e.infoModal.id,title:e.infoModal.title},on:{hide:e.resetInfoModal}},[n("span",{domProps:{innerHTML:e._s(e.infoModal.content)}})])],1)},s=[],a=(n("b0c0"),n("a9e3"),n("d3b7"),n("96cf"),n("bc3a")),r=n.n(a),i=(n("dac4"),n("4328")),c={name:"stock-rub",data:function(){return{count:{type:Number},dataUrl:{type:String},loading:!1,infoModal:{id:"info-modal",title:"",content:""},serverParams:{figi:""},items:[],columns:[{label:"id",field:"id"},{label:"Name",field:"name-instrument"},{label:"Figi",field:"figi"},{label:"Current Price",field:"current_price",type:"decimal"},{label:"Lot",field:"quantity"},{label:"Indicators",field:"spot-order-count",type:"number"},{label:"STOP Orders",field:"stop-order-count",type:"number"},{label:"Время создания",field:"created_at"},{label:"График",field:"graph"},{label:"Название стратегий",field:"strategy_name"},{label:"Status",field:"status"}]}},methods:{updateParams:function(e){this.serverParams=Object.assign({},this.serverParams,e)},onPageChange:function(e){this.updateParams({page:e.currentPage}),this.fetchRows()},onSearch:function(e){this.updateParams({name:e}),this.fetchRows()},selectionChanged:function(e){this.selRows=e.selectedRows},successOrder:function(e,t){var n=this;this.loading=!0,r.a.get("/sanctum/csrf-cookie").then((function(e){r.a.post("/api/orders/set-success",{selRows:n.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),n.fetchRows(),n.loading=!1):(console.log("Не работает"),console.log(e.status),n.loading=!1)}))}))},failOrder:function(e,t){var n=this;this.loading=!0,r.a.get("/sanctum/csrf-cookie").then((function(e){r.a.post("/api/orders/set-fail",{selRows:n.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),n.fetchRows(),n.loading=!1):(console.log("Не работает"),console.log(e.status),n.loading=!1)}))}))},nothingOrder:function(e,t){var n=this;this.loading=!0,r.a.get("/sanctum/csrf-cookie").then((function(e){r.a.post("/api/orders/set-nothing",{selRows:n.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),n.fetchRows(),n.loading=!1):(console.log("Не работает"),console.log(e.status),n.loading=!1)}))}))},deleteOrder:function(e,t){var n=this;this.loading=!0,r.a.get("/sanctum/csrf-cookie").then((function(e){r.a.post("/api/orders/delete",{selRows:n.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),n.fetchRows(),n.loading=!1):(console.log("Не работает"),console.log(e.status),n.loading=!1)}))}))},getNote:function(e,t,n){this.infoModal.title=e.created_at,this.infoModal.content=e.note,this.idCheck=e.id,console.log(e.note),this.$root.$emit("bv::show::modal",this.infoModal.id,n)},handleOk:function(e){e.preventDefault(),this.handleSubmit()},handleSubmit:function(){},fetchRows:function(){var e=this;this.loading=!0,r.a.request({method:"post",url:"/api/orders/index",params:this.serverParams,paramsSerializer:function(e){return i.stringify(e)}}).then((function(t){e.items=t.data.stocks,e.count=t.data.count,e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}))},onPerPageChange:function(e){this.updateParams({perPage:e.currentPerPage}),this.fetchRows()},startScriptSuperTrend5min:function(){var e,t=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:e=this,this.loading=!0,r.a.get("/sanctum/csrf-cookie").then((function(n){r.a.post("/api/orders/start-script-super-trend-5min",{}).then((function(n){n.status?(e.loading=!1,t.fetchRows()):(console.log("Не работает"),console.log(n.status),e.loading=!1)})).catch((function(e){console.log(n),console.error(e)}))}));case 3:case"end":return n.stop()}}),null,this)},stopScriptSuperTrend5min:function(){var e,t=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:e=this,this.loading=!0,r.a.get("/sanctum/csrf-cookie").then((function(n){r.a.post("/api/orders/stop-script-super-trend-5min",{}).then((function(n){n.status?(e.loading=!1,t.fetchRows()):(console.log("Не работает"),console.log(n.status),e.loading=!1)})).catch((function(e){console.log(n),console.error(e)}))}));case 3:case"end":return n.stop()}}),null,this)},startScriptCheckStopOrder:function(){var e,t=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:e=this,this.loading=!0,r.a.get("/sanctum/csrf-cookie").then((function(n){r.a.post("/api/orders/start-script-check-stop-order",{}).then((function(n){n.status?(e.loading=!1,t.fetchRows()):(console.log("Не работает"),console.log(n.status),e.loading=!1)})).catch((function(e){console.log(n),console.error(e)}))}));case 3:case"end":return n.stop()}}),null,this)},getStatusBadgeClass:function(e){return"empty"==e?"badge badge-primary":"success"==e?"badge badge-success":"fail"==e?"badge badge-danger":"nothing"==e?"badge badge-info":""}},created:function(){this.fetchRows()},requestAdapter:function(e){return{sort:e.orderBy?e.orderBy:"name",direction:e.ascending?"asc":"desc",limit:e.limit?e.limit:5,page:e.page,name:e.query.name,created_by:e.query.created_by,type:e.query.type,created_at:e.query.created_at}}},l=c,d=n("2877"),u=Object(d["a"])(l,o,s,!1,null,null,null);t["default"]=u.exports},a9e3:function(e,t,n){"use strict";var o=n("83ab"),s=n("da84"),a=n("94ca"),r=n("6eeb"),i=n("5135"),c=n("c6b6"),l=n("7156"),d=n("c04e"),u=n("d039"),p=n("7c73"),g=n("241c").f,f=n("06cf").f,h=n("9bf2").f,m=n("58a8").trim,b="Number",w=s[b],v=w.prototype,_=c(p(v))==b,y=function(e){var t,n,o,s,a,r,i,c,l=d(e,!1);if("string"==typeof l&&l.length>2)if(l=m(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:o=2,s=49;break;case 79:case 111:o=8,s=55;break;default:return+l}for(a=l.slice(2),r=a.length,i=0;i<r;i++)if(c=a.charCodeAt(i),c<48||c>s)return NaN;return parseInt(a,o)}return+l};if(a(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,C=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof C&&(_?u((function(){v.valueOf.call(n)})):c(n)!=b)?l(new w(y(t)),n,C):y(t)},R=o?g(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;R.length>S;S++)i(w,k=R[S])&&!i(C,k)&&h(C,k,f(w,k));C.prototype=v,v.constructor=C,r(s,b,C)}},b0c0:function(e,t,n){var o=n("83ab"),s=n("9bf2").f,a=Function.prototype,r=a.toString,i=/^\s*function ([^ (]*)/,c="name";!o||c in a||s(a,c,{configurable:!0,get:function(){try{return r.call(this).match(i)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-c49bce2c.543e1510.js.map