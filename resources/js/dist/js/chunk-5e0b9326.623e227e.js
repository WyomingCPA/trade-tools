(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e0b9326"],{"1dad":function(e,t,a){"use strict";a("9cb5")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),s=a("5899"),r="["+s+"]",l=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),i=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(l,"")),2&e&&(a=a.replace(o,"")),a}};e.exports={start:i(1),end:i(2),trim:i(3)}},"5af2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-good-table",{attrs:{isLoading:e.loading,theme:"nocturnal",columns:e.columns,rows:e.items,"sort-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,mode:"records",perPage:100,position:"top",perPageDropdown:[200,300,500],dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"next",prevLabel:"prev",rowsPerPageLabel:"Rows per page",ofLabel:"of",pageLabel:"page",allLabel:"All"},"search-options":{enabled:!0},"select-options":{enabled:!0}},on:{"on-selected-rows-change":e.selectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(t){return["name"===t.column.field?a("span",[a("a",{attrs:{target:"_blank",href:"https://www.tinkoff.ru/invest/etfs/"+t.row.ticker}},[e._v(e._s(t.row.name))])]):"nominal"===t.column.field?a("span",[e._v(" "+e._s(t.row.nominal)+" ")]):"currency"===t.column.field?a("span",[e._v(" "+e._s(t.row.currency)+" ")]):"cci_hour"===t.column.field?a("span",{staticClass:"wrap"},[a("span",{class:e.getCellCciClass(t.row.cci_hour)},[e._v(" "+e._s(t.row.cci_hour)+" ")])]):"cci_day"===t.column.field?a("span",{staticClass:"wrap"},[a("span",{class:e.getCellCciClass(t.row.cci_day)},[e._v(" "+e._s(t.row.cci_day)+" ")])]):"ema_hour"===t.column.field?a("span",{staticClass:"wrap"},[a("span",{class:e.getCellEmaClass(t.row.ema_hour)},[e._v(" "+e._s(t.row.ema_hour)+" ")])]):"ema_day"===t.column.field?a("span",{staticClass:"wrap"},[a("span",{class:e.getCellEmaClass(t.row.ema_day)},[e._v(" "+e._s(t.row.ema_day)+" ")])]):"rsi_hour"===t.column.field?a("span",{staticClass:"wrap"},[a("span",{class:e.getCellRsiClass(t.row.rsi_hour)},[e._v(" "+e._s(t.row.rsi_hour)+" ")])]):"rsi_day"===t.column.field?a("span",{staticClass:"wrap"},[a("span",{class:e.getCellRsiClass(t.row.rsi_day)},[e._v(" "+e._s(t.row.rsi_day)+" ")])]):"1h"===t.column.field?a("span",[a("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:"chart-1h/"+t.row.id}},[e._v("График")])]):"1d"===t.column.field?a("span",[a("a",{staticClass:"btn btn-primary",attrs:{target:"_blank",href:"chart-1d/"+t.row.id}},[e._v("График")])]):"is_portfolio"===t.column.field?a("span",[e._v(" "+e._s(t.row.is_portfolio)+" ")]):e._e()]}}])},[a("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[a("button",{on:{click:e.unfavorite}},[e._v("Убрать из избранного")])])])],1)},s=[],r=(a("e25e"),a("bc3a")),l=a.n(r),o=(a("dac4"),{name:"etf-favorite",data:function(){return{loading:!1,items:[{name:"",ticker:"",currency:"",last_price:""}],columns:[{label:"Name",field:"name"},{label:"Валюта",field:"currency",filterOptions:{styleClass:"class2",enabled:!0,placeholder:"Currency",filterDropdownItems:["RUB","USD","EUR"],filterFn:this.filterCurrency,trigger:"enter"}},{label:"CCI 1H",field:"cci_hour",type:"number",filterOptions:{styleClass:"class2",enabled:!0,placeholder:"Фильтр <= x",filterDropdownItems:[-200,-100,-50,0],filterFn:this.filterHourCCI,trigger:"enter"}},{label:"CCI 1D",field:"cci_day",type:"number",filterOptions:{styleClass:"class2",enabled:!0,placeholder:"Фильтр <= x",filterDropdownItems:[-200,-100,-50,0],filterFn:this.filterDayCCI,trigger:"enter"}},{label:"EMA 1H",field:"ema_hour"},{label:"EMA 1D",field:"ema_day"},{label:"RSI 1H",field:"rsi_hour"},{label:"RSI 1D",field:"rsi_day"},{label:"1H",field:"1h"},{label:"1D",field:"1d"},{label:"My",field:"is_portfolio",type:"boolean"}]}},methods:{selectionChanged:function(e){this.selRows=e.selectedRows},unfavorite:function(e,t){var a=this;l.a.get("/sanctum/csrf-cookie").then((function(e){l.a.post("/api/etf/unfavorite",{selRows:a.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),a.getEtf(),a.loading=!1):(console.log("Не работает"),console.log(e.status),a.loading=!1)}))}))},getCellCciClass:function(e){return e<=-100?"is-green":e>=100?"is-red":""},getCellEmaClass:function(e){return"buy"==e?"is-green":"sell"==e?"is-red":""},getCellRsiClass:function(e){return e<=30?"is-green":e>=70?"is-red":""},filterCurrency:function(e,t){return e==t},filterHourCCI:function(e,t){t=parseInt(t);return e<=t},filterDayCCI:function(e,t){t=parseInt(t);return e<=t},getEtf:function(){var e=this;this.loading=!0,l.a.get("/api/etf/favorites").then((function(t){e.items=t.data.etfs,e.loading=!1})).catch((function(t){console.error(t),e.loading=!1}))}},mounted:function(){this.getEtf()}}),i=o,c=(a("1dad"),a("2877")),u=Object(c["a"])(i,n,s,!1,null,"19689be3",null);t["default"]=u.exports},"9cb5":function(e,t,a){},dac4:function(e,t,a){},e25e:function(e,t,a){var n=a("23e7"),s=a("e583");n({global:!0,forced:parseInt!=s},{parseInt:s})},e583:function(e,t,a){var n=a("da84"),s=a("58a8").trim,r=a("5899"),l=n.parseInt,o=/^[+-]?0[Xx]/,i=8!==l(r+"08")||22!==l(r+"0x16");e.exports=i?function(e,t){var a=s(String(e));return l(a,t>>>0||(o.test(a)?16:10))}:l}}]);
//# sourceMappingURL=chunk-5e0b9326.623e227e.js.map