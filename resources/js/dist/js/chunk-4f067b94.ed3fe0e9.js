(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f067b94"],{"1e91":function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("vue-good-table",{attrs:{isLoading:e.loading,theme:"nocturnal",columns:e.columns,rows:e.items,"sort-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,mode:"records",perPage:100,position:"top",perPageDropdown:[200,300,500],dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"next",prevLabel:"prev",rowsPerPageLabel:"Rows per page",ofLabel:"of",pageLabel:"page",allLabel:"All"},"search-options":{enabled:!0},"select-options":{enabled:!0}},on:{"on-selected-rows-change":e.selectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(n){return["name"===n.column.field?t("span",[t("a",{attrs:{target:"_blank",href:"https://www.tinkoff.ru/invest/etfs/"+n.row.ticker}},[e._v(e._s(n.row.name))])]):"ticker"===n.column.field?t("span",[e._v(" "+e._s(n.row.ticker)+" ")]):"nominal"===n.column.field?t("span",[e._v(" "+e._s(n.row.nominal)+" ")]):"currency"===n.column.field?t("span",[e._v(" "+e._s(n.row.currency)+" ")]):"last_price"===n.column.field?t("span",[e._v(" "+e._s(n.row.last_price)+" ")]):e._e()]}}])},[t("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[t("button",{on:{click:e.favorite}},[e._v("Favorite")])])])],1)},a=[],l=t("bc3a"),s=t.n(l),i=(t("dac4"),{name:"etf-all",data:function(){return{loading:!1,items:[{name:"-",ticker:"-",currency:"-",last_price:"-"}],columns:[{label:"Name",field:"name"},{label:"ticker",field:"ticker"},{label:"Валюта",field:"currency"},{label:"Последняя цена",field:"last_price",type:"number"}]}},methods:{getEtf:function(){var e=this;this.loading=!0,s.a.get("/api/etf/all").then((function(n){e.items=n.data.etfs,e.loading=!1})).catch((function(n){console.error(n),e.loading=!1}))},selectionChanged:function(e){this.selRows=e.selectedRows},favorite:function(e,n){var t=this,o=this;this.loading=!0,s.a.get("/sanctum/csrf-cookie").then((function(e){s.a.post("/api/etf/favorite",{selRows:t.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),t.getEtf(),o.loading=!1):(console.log("Не работает"),console.log(e.status),o.loading=!1)}))}))}},mounted:function(){this.getEtf()}}),r=i,c=t("2877"),u=Object(c["a"])(r,o,a,!1,null,null,null);n["default"]=u.exports},dac4:function(e,n,t){}}]);
//# sourceMappingURL=chunk-4f067b94.ed3fe0e9.js.map