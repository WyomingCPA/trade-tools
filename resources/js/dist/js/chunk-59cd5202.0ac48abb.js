(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59cd5202"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("1d80"),o=n("5899"),r="["+o+"]",s=RegExp("^"+r+r+"*"),i=RegExp(r+r+"*$"),c=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(e,t,n){var a=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var r,s;return o&&"function"==typeof(r=t.constructor)&&r!==n&&a(s=r.prototype)&&s!==n.prototype&&o(e,s),e}},9226:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("vue-good-table",{attrs:{isLoading:e.loading,totalRows:e.count,theme:"nocturnal",columns:e.columns,rows:e.items,mode:"remote","sort-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,mode:"records",perPage:20,position:"top",perPageDropdown:null,dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"next",prevLabel:"prev",rowsPerPageLabel:"Rows per page",ofLabel:"of",pageLabel:"page",allLabel:"All",chunk:5},"search-options":{enabled:!0},"select-options":{enabled:!0}},on:{"on-page-change":e.onPageChange,"on-per-page-change":e.onPerPageChange,"on-search":e.onSearch,"on-selected-rows-change":e.selectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(t){return["name"===t.column.field?n("span",[n("a",{attrs:{target:"_blank",href:"https://www.tinkoff.ru/invest/stocks/"+t.row.ticker}},[e._v(e._s(t.row.name))])]):"ticker"===t.column.field?n("span",[e._v(" "+e._s(t.row.ticker)+" ")]):"nominal"===t.column.field?n("span",[e._v(" "+e._s(t.row.nominal)+" ")]):"currency"===t.column.field?n("span",[e._v(" "+e._s(t.row.currency)+" ")]):"last_price"===t.column.field?n("span",[e._v(" "+e._s(t.row.last_price)+" ")]):e._e()]}}])},[n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{on:{click:e.favorite}},[e._v("Favorite")])])])],1)},o=[],r=(n("a9e3"),n("ade3")),s=n("bc3a"),i=n.n(s),c=(n("dac4"),n("4328")),l={name:"stock-all",data:function(){var e;return e={loading:!1,count:{type:Number},dataUrl:{type:String}},Object(r["a"])(e,"loading",!1),Object(r["a"])(e,"serverParams",{name:""}),Object(r["a"])(e,"items",[]),Object(r["a"])(e,"columns",[{label:"Name",field:"name"},{label:"ticker",field:"ticker"},{label:"figi",field:"figi"},{label:"Валюта",field:"currency"},{label:"Последняя цена",field:"last_price",type:"number"}]),e},methods:{updateParams:function(e){this.serverParams=Object.assign({},this.serverParams,e)},onPageChange:function(e){this.updateParams({page:e.currentPage}),this.fetchRows()},onSearch:function(e){this.updateParams({name:e}),this.fetchRows()},onPerPageChange:function(e){this.updateParams({perPage:e.currentPerPage}),this.fetchRows()},fetchRows:function(){var e=this;this.loading=!0,i.a.request({method:"post",url:"/api/stock/all",params:this.serverParams,paramsSerializer:function(e){return c.stringify(e)}}).then((function(t){e.items=t.data.stocks,e.count=t.data.count,e.loading=!1})).catch((function(t){console.log(t),e.loading=!1}))},selectionChanged:function(e){this.selRows=e.selectedRows},favorite:function(e,t){var n=this,a=this;this.loading=!0,i.a.get("/sanctum/csrf-cookie").then((function(e){i.a.post("/api/stock/favorite",{selRows:n.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),n.fetchRows(),a.loading=!1):(console.log("Не работает"),console.log(e.status),a.loading=!1)}))}))}},created:function(){this.fetchRows()}},u=l,f=n("2877"),p=Object(f["a"])(u,a,o,!1,null,null,null);t["default"]=p.exports},a9e3:function(e,t,n){"use strict";var a=n("83ab"),o=n("da84"),r=n("94ca"),s=n("6eeb"),i=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),f=n("d039"),p=n("7c73"),d=n("241c").f,g=n("06cf").f,h=n("9bf2").f,b=n("58a8").trim,m="Number",w=o[m],v=w.prototype,_=c(p(v))==m,P=function(e){var t,n,a,o,r,s,i,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=b(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+l}for(r=l.slice(2),s=r.length,i=0;i<s;i++)if(c=r.charCodeAt(i),c<48||c>o)return NaN;return parseInt(r,a)}return+l};if(r(m,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,N=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof N&&(_?f((function(){v.valueOf.call(n)})):c(n)!=m)?l(new w(P(t)),n,N):P(t)},I=a?d(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),R=0;I.length>R;R++)i(w,k=I[R])&&!i(N,k)&&h(N,k,g(w,k));N.prototype=v,v.constructor=N,s(o,m,N)}},ade3:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}))}}]);
//# sourceMappingURL=chunk-59cd5202.0ac48abb.js.map