(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4740f91a"],{"1dde":function(t,s,e){var a=e("d039"),i=e("b622"),r=e("60ae"),n=i("species");t.exports=function(t){return r>=51||!a((function(){var s=[],e=s.constructor={};return e[n]=function(){return{foo:1}},1!==s[t](Boolean).foo}))}},5899:function(t,s){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,s,e){var a=e("1d80"),i=e("5899"),r="["+i+"]",n=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(s){var e=String(a(s));return 1&t&&(e=e.replace(n,"")),2&t&&(e=e.replace(o,"")),e}};t.exports={start:c(1),end:c(2),trim:c(3)}},7156:function(t,s,e){var a=e("861d"),i=e("d2bb");t.exports=function(t,s,e){var r,n;return i&&"function"==typeof(r=s.constructor)&&r!==e&&a(n=r.prototype)&&n!==e.prototype&&i(t,n),t}},7541:function(t,s,e){},a9e3:function(t,s,e){"use strict";var a=e("83ab"),i=e("da84"),r=e("94ca"),n=e("6eeb"),o=e("5135"),c=e("c6b6"),l=e("7156"),d=e("c04e"),u=e("d039"),v=e("7c73"),p=e("241c").f,_=e("06cf").f,f=e("9bf2").f,m=e("58a8").trim,g="Number",h=i[g],b=h.prototype,C=c(v(b))==g,w=function(t){var s,e,a,i,r,n,o,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(l=m(l),s=l.charCodeAt(0),43===s||45===s){if(e=l.charCodeAt(2),88===e||120===e)return NaN}else if(48===s){switch(l.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+l}for(r=l.slice(2),n=r.length,o=0;o<n;o++)if(c=r.charCodeAt(o),c<48||c>i)return NaN;return parseInt(r,a)}return+l};if(r(g,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var x,y=function(t){var s=arguments.length<1?0:t,e=this;return e instanceof y&&(C?u((function(){b.valueOf.call(e)})):c(e)!=g)?l(new h(w(s)),e,y):w(s)},N=a?p(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;N.length>E;E++)o(h,x=N[E])&&!o(y,x)&&f(y,x,_(h,x));y.prototype=b,b.constructor=y,n(i,g,y)}},ade3:function(t,s,e){"use strict";function a(t,s,e){return s in t?Object.defineProperty(t,s,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[s]=e,t}e.d(s,"a",(function(){return a}))},bf45:function(t,s,e){"use strict";e("7541")},d81d:function(t,s,e){"use strict";var a=e("23e7"),i=e("b727").map,r=e("d039"),n=e("1dde"),o=n("map"),c=o&&!r((function(){[].map.call({length:-1,0:1},(function(t){throw t}))}));a({target:"Array",proto:!0,forced:!o||!c},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},ed52:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",{staticClass:"dashboard"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 grid-margin stretch-card"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("h4",[t._v("Trade Scalper")]),e("MiniConsole")],1)])]),e("div",{staticClass:"col-md-8 grid-margin stretch-card"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[t._m(0),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"preview-list"},[t._l(t.all_scripts,(function(s){return e("div",{key:s.id,staticClass:"row mt-3"},[e("div",{staticClass:"\n                      col-12\n                      bg-gray-dark\n                      d-flex\n                      flex-row\n                      py-3\n                      px-4\n                      rounded\n                      justify-content-between\n                    "},[e("div",[e("h6",{staticClass:"mb-1"},[t._v(t._s(s.name))]),e("p",{staticClass:"card-text"},[t._v("Last update "+t._s(s.updated_at))])]),e("div",{staticClass:"align-self-center"},[e("h6",{staticClass:"font-weight-bold mb-0 ",class:t.getStatusBadgeClass(s.is_run)},[1==s.is_run?e("span",[t._v("Работает")]):e("span",[t._v("Не работает")])])])])])})),e("div",{staticClass:"preview-item border-bottom py-3"},[t._m(1),e("div",{staticClass:"preview-item-content d-sm-flex flex-grow"},[e("div",{staticClass:"flex-grow"},[e("h6",{staticClass:"preview-subject"},[t._v("Общее количество свечей")]),e("p",{staticClass:"mb-0"},[t._v(t._s(t.count_all_candles))])]),e("div",{staticClass:"mr-auto text-sm-right pt-2 pt-sm-0"},[e("p",{staticClass:"text-muted"},[t._v(t._s(t.candles_last_ago))]),e("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"success"},on:{click:t.deleteAllCandles}},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._v(" Удалить все ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])],1)])]),e("div",{staticClass:"preview-item border-bottom py-3"},[t._m(2),e("div",{staticClass:"preview-item-content d-sm-flex flex-grow"},[e("div",{staticClass:"flex-grow"},[e("h6",{staticClass:"preview-subject"},[t._v(" Общее количество ордеров ")]),e("p",{staticClass:"mb-0"},[t._v(t._s(t.count_all_orders))])]),e("div",{staticClass:"mr-auto text-sm-right pt-2 pt-sm-0"},[e("p",{staticClass:"text-muted"},[t._v(t._s(t.orders_last_ago))]),e("b-button",{staticClass:"mr-2",attrs:{type:"submit",variant:"success"},on:{click:t.deleteAllOrders}},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}]},[t._v(" Удалить все ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])],1)])])],2)])])])])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4 grid-margin stretch-card"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex flex-row p-3"},[e("div",{staticClass:"align-self-top"},[e("p",{staticClass:"card-title mb-1 font-weight-bold"},[t._v(" Сделки за сегодня ")]),e("h3",{staticClass:"mb-0"},[t._v(t._s(t.today_open_orders))])]),t._m(3)])])])]),e("div",{staticClass:"col-md-4 grid-margin stretch-card"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex flex-row p-3"},[e("div",{staticClass:"align-self-top"},[e("p",{staticClass:"card-title mb-1 font-weight-bold"},[t._v("Сделки за Неделю")]),e("h3",{staticClass:"mb-0"},[t._v(t._s(t.week_open_orders))])]),t._m(4)])])])]),e("div",{staticClass:"col-md-4 grid-margin stretch-card"},[e("div",{staticClass:"card"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"d-flex flex-row p-3"},[e("div",{staticClass:"align-self-top"},[e("p",{staticClass:"card-title mb-1 font-weight-bold"},[t._v("Сделки За Месяц")]),e("h3",{staticClass:"mb-0"},[t._v(t._s(t.month_open_orders))])]),t._m(5)])])])])])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"d-flex flex-row justify-content-between"},[e("div",[e("h4",{staticClass:"card-title"},[t._v("Сервис")])]),e("div",{staticClass:"align-self-center"},[e("p",{staticClass:"text-muted"},[t._v("Действия")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"preview-thumbnail"},[e("div",{staticClass:"preview-icon bg-primary rounded"},[e("i",{staticClass:"mdi mdi-chart-bar"})])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"preview-thumbnail"},[e("div",{staticClass:"preview-icon bg-primary rounded"},[e("i",{staticClass:"mdi mdi-check"})])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"align-self-center flex-grow text-right"},[e("i",{staticClass:"icon-lg mdi mdi-cash-multiple text-warning"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"align-self-center flex-grow text-right"},[e("i",{staticClass:"icon-lg mdi mdi-cash-multiple text-warning"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"align-self-center flex-grow text-right"},[e("i",{staticClass:"icon-lg mdi mdi-cash-multiple text-warning"})])}],r=(e("a9e3"),e("d3b7"),e("96cf"),e("ade3")),n=e("bc3a"),o=e.n(n),c=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"list-wrapper"},[e("div",{staticClass:"preview-list"},t._l(t.events,(function(s){return e("div",{key:s.id,staticClass:"preview-item border-bottom py-3"},[e("div",{staticClass:"preview-item-content d-flex flex-grow"},[e("div",{staticClass:"flex-grow"},[e("div",{staticClass:"d-sm-flex justify-content-between"},[e("div",{staticClass:"d-flex"},[e("p",{staticClass:"text-small"},[t._v(t._s(s.message))]),e("p",{staticClass:"text-small text-muted border-right pr-3"},[t._v(" "+t._s(s.created_at)+" ")]),e("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal-"+s.id,expression:"'modal-' + event.id"}],staticClass:"mr-2",attrs:{type:"submit",variant:"success"}},[e("span",[t._v(" View ")])]),e("b-modal",{attrs:{size:"lg",id:"modal-"+s.id,title:" Modal",busy:""}},[e("table",{staticClass:"table"},[e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("Figi")]),e("th",{attrs:{scope:"col"}},[t._v("RSI")]),e("th",{attrs:{scope:"col"}},[t._v("MACD")]),e("th",{attrs:{scope:"col"}},[t._v("Last Supertrend")]),e("th",{attrs:{scope:"col"}},[t._v("Time")])])]),e("tbody",t._l(s.data,(function(s){return e("tr",{key:s.id},[e("th",{attrs:{scope:"col"}},[t._v(t._s(s.figi))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(s.RSI))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(s.MACD))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(s.last_row_supertrend))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(s.time))])])})),0)])])],1)])])])])})),0)])},l=[],d=(e("d81d"),{name:"mini-console",data:function(){return{timer:null,events:[]}},methods:{getConsoleEvent:function(){var t=this;this.loading=!0,o.a.get("/api/console/last-events-console").then((function(s){s.data.events.map((function(s,e){var a=t.events.some((function(t){return t.id===s.id}));a||(s.data=JSON.parse(s.data),console.log(s.data.message),t.events.unshift(s))}))})).catch((function(t){console.error(t)}))}},mounted:function(){var t=this;this.timer=setInterval((function(){t.getConsoleEvent()}),5e3)},beforeDestroy:function(){clearInterval(this.timer)}}),u=d,v=(e("bf45"),e("2877")),p=Object(v["a"])(u,c,l,!1,null,"92c3fde2",null),_=p.exports,f={name:"dashboard",components:{MiniConsole:_},data:function(){return Object(r["a"])({today_open_orders:{type:Number},week_open_orders:{type:Number},month_open_orders:{type:Number},count_all_candles:{type:Number},candles_last_ago:{type:String},count_all_orders:{type:Number},orders_last_ago:{type:String},all_scripts:[],dataUrl:{type:String},loading:!1,id_order:0,serverParams:{},items:[]},"loading",!1)},methods:{fetchData:function(){var t=this;this.loading=!0,o.a.get("/api/dashboard/index").then((function(s){t.today_open_orders=s.data.today_open_orders,t.week_open_orders=s.data.week_open_orders,t.month_open_orders=s.data.month_open_orders,t.count_all_candles=s.data.count_all_candles,t.candles_last_ago=s.data.candles_last_ago,t.count_all_orders=s.data.count_all_orders,t.orders_last_ago=s.data.orders_last_ago,t.all_scripts=s.data.all_scripts,t.loading=!1,console.log(s.data.count_all_candles)})).catch((function(t){console.error(t)}))},deleteAllCandles:function(){var t,s=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:t=this,this.loading=!0,o.a.get("/sanctum/csrf-cookie").then((function(e){o.a.post("/api/dashboard/delete-all-candles",{}).then((function(e){e.status?(t.loading=!1,s.fetchData()):(console.log("Не работает"),console.log(e.status),t.loading=!1)})).catch((function(t){console.log(e),console.error(t)}))}));case 3:case"end":return e.stop()}}),null,this)},deleteAllOrders:function(){var t,s=this;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:t=this,this.loading=!0,o.a.get("/sanctum/csrf-cookie").then((function(e){o.a.post("/api/dashboard/delete-all-orders",{}).then((function(e){e.status?(t.loading=!1,s.fetchData()):(console.log("Не работает"),console.log(e.status),t.loading=!1)})).catch((function(t){console.log(e),console.error(t)}))}));case 3:case"end":return e.stop()}}),null,this)},getStatusBadgeClass:function(t){return"empty"==t?"badge badge-primary":1==t?"badge badge-success":0==t?"badge badge-danger":"nothing"==t?"badge badge-info":""}},created:function(){this.fetchData()}},m=f,g=Object(v["a"])(m,a,i,!1,null,"02cfa048",null);s["default"]=g.exports}}]);
//# sourceMappingURL=chunk-4740f91a.484b2823.js.map