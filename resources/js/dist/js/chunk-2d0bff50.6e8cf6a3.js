(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bff50"],{4075:function(e,o,n){"use strict";n.r(o);var t=function(){var e=this,o=e.$createElement,n=e._self._c||o;return n("div",[n("vue-good-table",{attrs:{isLoading:e.loading,theme:"nocturnal",columns:e.columns,rows:e.items,mode:"remote","sort-options":{enabled:!0},"line-numbers":!0,"pagination-options":{enabled:!0,mode:"records",perPage:20,position:"top",perPageDropdown:null,dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"next",prevLabel:"prev",rowsPerPageLabel:"Rows per page",ofLabel:"of",pageLabel:"page",allLabel:"All",chunk:5},"search-options":{enabled:!0},"select-options":{enabled:!0}},on:{"on-selected-rows-change":e.selectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(o){return["name"===o.column.field?n("span",[n("a",{attrs:{target:"_blank",href:"https://www.tinkoff.ru/invest/bonds/"+o.row.ticker}},[e._v(e._s(o.row.name))])]):"ticker"===o.column.field?n("span",[e._v(" "+e._s(o.row.ticker)+" ")]):"nominal"===o.column.field?n("span",[e._v(" "+e._s(o.row.nominal)+" ")]):"currency"===o.column.field?n("span",[e._v(" "+e._s(o.row.currency)+" ")]):"last_price"===o.column.field?n("span",[e._v(" "+e._s(o.row.last_price)+" ")]):e._e()]}}])},[n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{on:{click:e.favorite}},[e._v("Favorite")])]),n("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[n("button",{on:{click:e.hide}},[e._v("Hide")])])])],1)},s=[],l=n("bc3a"),a=n.n(l),i=(n("dac4"),n("4328")),c={name:"bond-new",methods:{selectionChanged:function(e){this.selRows=e.selectedRows},hide:function(e,o){var n=this;this.loading=!0,a.a.get("/sanctum/csrf-cookie").then((function(e){a.a.post("/api/bond/trash",{selRows:n.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),n.fetchRows(),n.loading=!1):(console.log("Не работает"),console.log(e.status),n.loading=!1)}))}))},favorite:function(e,o){var n=this;this.loading=!0,a.a.get("/sanctum/csrf-cookie").then((function(e){a.a.post("/api/bond/favorite",{selRows:n.selRows}).then((function(e){e.status?(console.log("Вызвали алерт"),n.fetchRows(),n.loading=!1):(console.log("Не работает"),console.log(e.status),n.loading=!1)}))}))},fetchRows:function(){var e=this;this.loading=!0,a.a.request({method:"get",url:"/api/bond/new",params:this.serverParams,paramsSerializer:function(e){return i.stringify(e)}}).then((function(o){e.items=o.data.bonds,e.loading=!1})).catch((function(o){console.log(o),e.loading=!1}))}},data:function(){return{loading:!1,items:[],columns:[{label:"Name",field:"name"},{label:"ticker",field:"ticker"},{label:"Номинал",field:"nominal",type:"number"},{label:"Валюта",field:"currency"},{label:"Последняя цена",field:"last_price",type:"number"}]}},created:function(){this.fetchRows()}},r=c,d=n("2877"),u=Object(d["a"])(r,t,s,!1,null,null,null);o["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0bff50.6e8cf6a3.js.map